function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t}function c(e,t,n,r){if(e){const o=u(e,t,n,r);return e[0](o)}}function u(e,t,r,o){return e[1]&&o?n(r.ctx.slice(),e[1](o(t))):r.ctx}function h(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function d(e,t,n,r,o,i){if(o){const s=u(t,n,r,i);e.p(s,o)}}function f(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function p(e){return null==e?"":e}function m(t){return t&&s(t.destroy)?t.destroy:e}const g="undefined"!=typeof window;let v=g?()=>window.performance.now():()=>Date.now(),y=g?e=>requestAnimationFrame(e):e;const b=new Set;function x(e){b.forEach((t=>{t.c(e)||(b.delete(t),t.f())})),0!==b.size&&y(x)}function w(e,t){e.appendChild(t)}function $(e,t,n){const r=k(e);if(!r.getElementById(t)){const e=E("style");e.id=t,e.textContent=n,C(r,e)}}function k(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function S(e){const t=E("style");return C(k(e),t),t.sheet}function C(e,t){w(e.head||e,t)}function _(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode.removeChild(e)}function P(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function A(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function j(e){return document.createTextNode(e)}function M(){return j(" ")}function T(){return j("")}function I(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function z(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function N(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function R(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:N(e,r,t[r])}function D(e,t){for(const n in t)N(e,n,t[n])}function L(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:N(e,t,n)}function B(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function F(e,t){e.value=null==t?"":t}function q(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function V(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}let H;function W(){if(void 0===H){H=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){H=!0}}return H}function U(e,t,n){e.classList[n?"add":"remove"](t)}function J(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}class K{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=E(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)_(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(O)}}const G=new Map;let Q,Y=0;function Z(e,t,n,r,o,i,s,a=0){const l=16.666/r;let c="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*i(e);c+=100*e+`%{${s(r,1-r)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,d=k(e),{stylesheet:f,rules:p}=G.get(d)||function(e,t){const n={stylesheet:S(t),rules:{}};return G.set(e,n),n}(d,e);p[h]||(p[h]=!0,f.insertRule(`@keyframes ${h} ${u}`,f.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${h} ${r}ms linear ${o}ms 1 both`,Y+=1,h}function X(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),Y-=o,Y||y((()=>{Y||(G.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),G.clear())})))}function ee(e){Q=e}function te(){if(!Q)throw new Error("Function called outside component initialization");return Q}function ne(e){te().$$.before_update.push(e)}function re(e){te().$$.on_mount.push(e)}function oe(e){te().$$.on_destroy.push(e)}function ie(){const e=te();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=J(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}function se(e,t){te().$$.context.set(e,t)}function ae(e){return te().$$.context.get(e)}const le=[],ce=[],ue=[],he=[],de=Promise.resolve();let fe=!1;function pe(){fe||(fe=!0,de.then(we))}function me(){return pe(),de}function ge(e){ue.push(e)}function ve(e){he.push(e)}const ye=new Set;let be,xe=0;function we(){const e=Q;do{for(;xe<le.length;){const e=le[xe];xe++,ee(e),$e(e.$$)}for(ee(null),le.length=0,xe=0;ce.length;)ce.pop()();for(let e=0;e<ue.length;e+=1){const t=ue[e];ye.has(t)||(ye.add(t),t())}ue.length=0}while(le.length);for(;he.length;)he.pop()();fe=!1,ye.clear(),ee(e)}function $e(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ge)}}function ke(e,t,n){e.dispatchEvent(J(`${t?"intro":"outro"}${n}`))}const Se=new Set;let Ce;function _e(){Ce={r:0,c:[],p:Ce}}function Oe(){Ce.r||i(Ce.c),Ce=Ce.p}function Pe(e,t){e&&e.i&&(Se.delete(e),e.i(t))}function Ee(e,t,n,r){if(e&&e.o){if(Se.has(e))return;Se.add(e),Ce.c.push((()=>{Se.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const Ae={duration:0};function je(n,r,o,a){let l=r(n,o),c=a?0:1,u=null,h=null,d=null;function f(){d&&X(n,d)}function p(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:o=0,duration:s=300,easing:a=t,tick:m=e,css:g}=l||Ae,w={start:v()+o,b:r};r||(w.group=Ce,Ce.r+=1),u||h?h=w:(g&&(f(),d=Z(n,c,r,s,o,a,g)),r&&m(0,1),u=p(w,s),ge((()=>ke(n,r,"start"))),function(e){let t;0===b.size&&y(x),new Promise((n=>{b.add(t={c:e,f:n})}))}((e=>{if(h&&e>h.start&&(u=p(h,s),h=null,ke(n,u.b,"start"),g&&(f(),d=Z(n,c,u.b,u.duration,0,a,l.css))),u)if(e>=u.end)m(c=u.b,1-c),ke(n,u.b,"end"),h||(u.b?f():--u.group.r||i(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;c=u.a+u.d*a(t/u.duration),m(c,1-c)}return!(!u&&!h)})))}return{run(e){s(l)?(be||(be=Promise.resolve(),be.then((()=>{be=null}))),be).then((()=>{l=l(),m(e)})):m(e)},end(){f(),u=h=null}}}const Me="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Te(e,t){e.d(1),t.delete(e.key)}function Ie(e,t){Ee(e,1,1,(()=>{t.delete(e.key)}))}function ze(e,t,n,r,o,i,s,a,l,c,u,h){let d=e.length,f=i.length,p=d;const m={};for(;p--;)m[e[p].key]=p;const g=[],v=new Map,y=new Map;for(p=f;p--;){const e=h(o,i,p),a=n(e);let l=s.get(a);l?r&&l.p(e,t):(l=c(a,e),l.c()),v.set(a,g[p]=l),a in m&&y.set(a,Math.abs(p-m[a]))}const b=new Set,x=new Set;function w(e){Pe(e,1),e.m(a,u),s.set(e.key,e),u=e.first,f--}for(;d&&f;){const t=g[f-1],n=e[d-1],r=t.key,o=n.key;t===n?(u=t.first,d--,f--):v.has(o)?!s.has(r)||b.has(r)?w(t):x.has(o)?d--:y.get(r)>y.get(o)?(x.add(r),w(t)):(b.add(o),d--):(l(n,s),d--)}for(;d--;){const t=e[d];v.has(t.key)||l(t,s)}for(;f;)w(g[f-1]);return g}function Ne(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const s=e[i],a=t[i];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)o[e]||(n[e]=a[e],o[e]=1);e[i]=a}else for(const e in s)o[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function Re(e){return"object"==typeof e&&null!==e?e:{}}function De(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Le(e){e&&e.c()}function Be(e,t,n,o){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=e.$$;a&&a.m(t,n),o||ge((()=>{const t=l.map(r).filter(s);c?c.push(...t):i(t),e.$$.on_mount=[]})),u.forEach(ge)}function Fe(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function qe(t,n,r,s,a,l,c,u=[-1]){const h=Q;ee(t);const d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(d.root);let f=!1;if(d.ctx=r?r(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),f&&function(e,t){-1===e.$$.dirty[0]&&(le.push(e),pe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],d.update(),f=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(O)}else d.fragment&&d.fragment.c();n.intro&&Pe(t.$$.fragment),Be(t,n.target,n.anchor,n.customElement),we()}ee(h)}class Ve{$destroy(){Fe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function He(e,t=function(e){try{if("undefined"!=typeof window&&void 0!==window.localStorage)return window.localStorage[e]}catch(e){}}("debug")){if(t){const t=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Ue[Math.abs(t)%Ue.length]}(e);return function(...n){console.log(`%c${e}`,`color:${t}`,...n)}}return We}function We(){}const Ue=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"];function Je(e,{delay:n=0,duration:r=400,easing:o=t}={}){const i=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:o,css:e=>"opacity: "+e*i}}const{window:Ke}=Me;function Ge(e){$(e,"svelte-g4wg3a",".svelte-g4wg3a{box-sizing:border-box}.bg.svelte-g4wg3a{position:fixed;z-index:1000;top:0;left:0;display:flex;flex-direction:column;justify-content:center;width:100vw;height:100vh;background:rgba(0, 0, 0, 0.66)}.wrap.svelte-g4wg3a{position:relative;margin:2rem;max-height:100%}.window.svelte-g4wg3a{position:relative;width:40rem;max-width:100%;max-height:100%;margin:2rem auto;color:black;border-radius:0.5rem;background:white}.content.svelte-g4wg3a{position:relative;padding:1rem;max-height:calc(100vh - 4rem);overflow:auto}.close.svelte-g4wg3a{display:block;box-sizing:border-box;position:absolute;z-index:1000;top:1rem;right:1rem;margin:0;padding:0;width:1.5rem;height:1.5rem;border:0;color:black;border-radius:1.5rem;background:white;box-shadow:0 0 0 1px black;transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\n      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);-webkit-appearance:none}.close.svelte-g4wg3a:before,.close.svelte-g4wg3a:after{content:'';display:block;box-sizing:border-box;position:absolute;top:50%;width:1rem;height:1px;background:black;transform-origin:center;transition:height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\n      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.close.svelte-g4wg3a:before{-webkit-transform:translate(0, -50%) rotate(45deg);-moz-transform:translate(0, -50%) rotate(45deg);transform:translate(0, -50%) rotate(45deg);left:0.25rem}.close.svelte-g4wg3a:after{-webkit-transform:translate(0, -50%) rotate(-45deg);-moz-transform:translate(0, -50%) rotate(-45deg);transform:translate(0, -50%) rotate(-45deg);left:0.25rem}.close.svelte-g4wg3a:hover{background:black}.close.svelte-g4wg3a:hover:before,.close.svelte-g4wg3a:hover:after{height:2px;background:white}.close.svelte-g4wg3a:focus{border-color:#3399ff;box-shadow:0 0 0 2px #3399ff}.close.svelte-g4wg3a:active{transform:scale(0.9)}.close.svelte-g4wg3a:hover,.close.svelte-g4wg3a:focus,.close.svelte-g4wg3a:active{outline:none}")}function Qe(e){let t,n,r,o,a,l,c,u,h,d,f,m,g,v,y,b,x,$=e[1].closeButton&&Ye(e);var k=e[2];return k&&(l=new k({})),{c(){t=E("div"),n=E("div"),r=E("div"),$&&$.c(),o=M(),a=E("div"),l&&Le(l.$$.fragment),N(a,"class",c=p(e[1].classContent)+" svelte-g4wg3a"),N(a,"style",e[9]),U(a,"content",!e[0]),N(r,"class",u=p(e[1].classWindow)+" svelte-g4wg3a"),N(r,"role","dialog"),N(r,"aria-modal","true"),N(r,"aria-label",h=e[1].ariaLabelledBy?null:e[1].ariaLabel||null),N(r,"aria-labelledby",d=e[1].ariaLabelledBy||null),N(r,"style",e[8]),U(r,"window",!e[0]),N(n,"class",m=p(e[1].classWindowWrap)+" svelte-g4wg3a"),N(n,"style",e[7]),U(n,"wrap",!e[0]),N(t,"class",g=p(e[1].classBg)+" svelte-g4wg3a"),N(t,"style",e[6]),U(t,"bg",!e[0])},m(i,c){_(i,t,c),w(t,n),w(n,r),$&&$.m(r,null),w(r,o),w(r,a),l&&Be(l,a,null),e[48](r),e[49](n),e[50](t),y=!0,b||(x=[I(r,"introstart",(function(){s(e[13])&&e[13].apply(this,arguments)})),I(r,"outrostart",(function(){s(e[14])&&e[14].apply(this,arguments)})),I(r,"introend",(function(){s(e[15])&&e[15].apply(this,arguments)})),I(r,"outroend",(function(){s(e[16])&&e[16].apply(this,arguments)})),I(t,"mousedown",e[20]),I(t,"mouseup",e[21])],b=!0)},p(i,s){if((e=i)[1].closeButton?$?($.p(e,s),2&s[0]&&Pe($,1)):($=Ye(e),$.c(),Pe($,1),$.m(r,o)):$&&(_e(),Ee($,1,1,(()=>{$=null})),Oe()),k!==(k=e[2])){if(l){_e();const e=l;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}k?(l=new k({}),Le(l.$$.fragment),Pe(l.$$.fragment,1),Be(l,a,null)):l=null}(!y||2&s[0]&&c!==(c=p(e[1].classContent)+" svelte-g4wg3a"))&&N(a,"class",c),(!y||512&s[0])&&N(a,"style",e[9]),3&s[0]&&U(a,"content",!e[0]),(!y||2&s[0]&&u!==(u=p(e[1].classWindow)+" svelte-g4wg3a"))&&N(r,"class",u),(!y||2&s[0]&&h!==(h=e[1].ariaLabelledBy?null:e[1].ariaLabel||null))&&N(r,"aria-label",h),(!y||2&s[0]&&d!==(d=e[1].ariaLabelledBy||null))&&N(r,"aria-labelledby",d),(!y||256&s[0])&&N(r,"style",e[8]),3&s[0]&&U(r,"window",!e[0]),(!y||2&s[0]&&m!==(m=p(e[1].classWindowWrap)+" svelte-g4wg3a"))&&N(n,"class",m),(!y||128&s[0])&&N(n,"style",e[7]),3&s[0]&&U(n,"wrap",!e[0]),(!y||2&s[0]&&g!==(g=p(e[1].classBg)+" svelte-g4wg3a"))&&N(t,"class",g),(!y||64&s[0])&&N(t,"style",e[6]),3&s[0]&&U(t,"bg",!e[0])},i(n){y||(Pe($),l&&Pe(l.$$.fragment,n),ge((()=>{f||(f=je(r,e[12],e[1].transitionWindowProps,!0)),f.run(1)})),ge((()=>{v||(v=je(t,e[11],e[1].transitionBgProps,!0)),v.run(1)})),y=!0)},o(n){Ee($),l&&Ee(l.$$.fragment,n),f||(f=je(r,e[12],e[1].transitionWindowProps,!1)),f.run(0),v||(v=je(t,e[11],e[1].transitionBgProps,!1)),v.run(0),y=!1},d(n){n&&O(t),$&&$.d(),l&&Fe(l),e[48](null),n&&f&&f.end(),e[49](null),e[50](null),n&&v&&v.end(),b=!1,i(x)}}}function Ye(e){let t,n,r,o,i;const s=[Xe,Ze],a=[];function l(e,n){return 2&n[0]&&(t=null),null==t&&(t=!!e[17](e[1].closeButton)),t?0:1}return n=l(e,[-1,-1,-1]),r=a[n]=s[n](e),{c(){r.c(),o=T()},m(e,t){a[n].m(e,t),_(e,o,t),i=!0},p(e,t){let i=n;n=l(e,t),n===i?a[n].p(e,t):(_e(),Ee(a[i],1,1,(()=>{a[i]=null})),Oe(),r=a[n],r?r.p(e,t):(r=a[n]=s[n](e),r.c()),Pe(r,1),r.m(o.parentNode,o))},i(e){i||(Pe(r),i=!0)},o(e){Ee(r),i=!1},d(e){a[n].d(e),e&&O(o)}}}function Ze(t){let n,r,o,i;return{c(){n=E("button"),N(n,"class",r=p(t[1].classCloseButton)+" svelte-g4wg3a"),N(n,"aria-label","Close modal"),N(n,"style",t[10]),U(n,"close",!t[0])},m(e,r){_(e,n,r),o||(i=I(n,"click",t[18]),o=!0)},p(e,t){2&t[0]&&r!==(r=p(e[1].classCloseButton)+" svelte-g4wg3a")&&N(n,"class",r),1024&t[0]&&N(n,"style",e[10]),3&t[0]&&U(n,"close",!e[0])},i:e,o:e,d(e){e&&O(n),o=!1,i()}}}function Xe(e){let t,n,r;var o=e[1].closeButton;function i(e){return{props:{onClose:e[18]}}}return o&&(t=new o(i(e))),{c(){t&&Le(t.$$.fragment),n=T()},m(e,o){t&&Be(t,e,o),_(e,n,o),r=!0},p(e,r){if(o!==(o=e[1].closeButton)){if(t){_e();const e=t;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}o?(t=new o(i(e)),Le(t.$$.fragment),Pe(t.$$.fragment,1),Be(t,n.parentNode,n)):t=null}},i(e){r||(t&&Pe(t.$$.fragment,e),r=!0)},o(e){t&&Ee(t.$$.fragment,e),r=!1},d(e){e&&O(n),t&&Fe(t,e)}}}function et(e){let t,n,r,o,i=e[2]&&Qe(e);const s=e[47].default,a=c(s,e,e[46],null);return{c(){i&&i.c(),t=M(),a&&a.c()},m(s,l){i&&i.m(s,l),_(s,t,l),a&&a.m(s,l),n=!0,r||(o=I(Ke,"keydown",e[19]),r=!0)},p(e,r){e[2]?i?(i.p(e,r),4&r[0]&&Pe(i,1)):(i=Qe(e),i.c(),Pe(i,1),i.m(t.parentNode,t)):i&&(_e(),Ee(i,1,1,(()=>{i=null})),Oe()),a&&a.p&&(!n||32768&r[1])&&d(a,s,e,e[46],n?h(s,e[46],r,null):f(e[46]),null)},i(e){n||(Pe(i),Pe(a,e),n=!0)},o(e){Ee(i),Ee(a,e),n=!1},d(e){i&&i.d(e),e&&O(t),a&&a.d(e),r=!1,o()}}}function tt(e,t,n){let{$$slots:r={},$$scope:o}=t;const i=ie(),s=se;let{show:a=null}=t,{key:l="simple-modal"}=t,{ariaLabel:c=null}=t,{ariaLabelledBy:u=null}=t,{closeButton:h=!0}=t,{closeOnEsc:d=!0}=t,{closeOnOuterClick:f=!0}=t,{styleBg:p={}}=t,{styleWindowWrap:m={}}=t,{styleWindow:g={}}=t,{styleContent:v={}}=t,{styleCloseButton:y={}}=t,{classBg:b=null}=t,{classWindowWrap:x=null}=t,{classWindow:w=null}=t,{classContent:$=null}=t,{classCloseButton:k=null}=t,{unstyled:S=!1}=t,{setContext:C=s}=t,{transitionBg:_=Je}=t,{transitionBgProps:O={duration:250}}=t,{transitionWindow:P=_}=t,{transitionWindowProps:E=O}=t,{disableFocusTrap:A=!1}=t;const j={ariaLabel:c,ariaLabelledBy:u,closeButton:h,closeOnEsc:d,closeOnOuterClick:f,styleBg:p,styleWindowWrap:m,styleWindow:g,styleContent:v,styleCloseButton:y,classBg:b,classWindowWrap:x,classWindow:w,classContent:$,classCloseButton:k,transitionBg:_,transitionBgProps:O,transitionWindow:P,transitionWindowProps:E,disableFocusTrap:A,unstyled:S};let M,T,I,z,N,R,D,L,B,F,q,V,H,W,U,J={...j},K=null;const G=e=>e?Object.keys(e).reduce(((t,n)=>`${t}; ${(e=>e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(n)}: ${e[n]}`),""):"",Q=e=>!!(e&&e.constructor&&e.call&&e.apply),Y=()=>{};let Z=Y,X=Y,ee=Y,te=Y;const ne=(e,t={},r={},o={})=>{n(2,K=function(e,t={}){return function(n){return new e({...n,props:{...t,...n.props}})}}(e,t)),n(1,J={...j,...r}),n(6,N=G(Object.assign({},{width:window.innerWidth,height:window.innerHeight},J.styleBg))),n(7,R=G(J.styleWindowWrap)),n(8,D=G(J.styleWindow)),n(9,L=G(J.styleContent)),n(10,B=G(J.styleCloseButton)),n(11,F=J.transitionBg),n(12,q=J.transitionWindow),le(),n(13,Z=e=>{o.onOpen&&o.onOpen(e),i("open"),i("opening")}),n(14,X=e=>{o.onClose&&o.onClose(e),i("close"),i("closing")}),n(15,ee=e=>{o.onOpened&&o.onOpened(e),i("opened")}),n(16,te=e=>{o.onClosed&&o.onClosed(e),i("closed")})},ae=(e={})=>{K&&(n(14,X=e.onClose||X),n(16,te=e.onClosed||te),n(2,K=null),ue())},le=()=>{z=window.scrollY,V=document.body.style.position,H=document.body.style.overflow,W=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${z}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},ue=()=>{document.body.style.position=V||"",document.body.style.top="",document.body.style.overflow=H||"",document.body.style.width=W||"",window.scrollTo(0,z)};C(l,{open:ne,close:ae});let he=!1;return oe((()=>{he&&ae()})),re((()=>{n(45,he=!0)})),e.$$set=e=>{"show"in e&&n(22,a=e.show),"key"in e&&n(23,l=e.key),"ariaLabel"in e&&n(24,c=e.ariaLabel),"ariaLabelledBy"in e&&n(25,u=e.ariaLabelledBy),"closeButton"in e&&n(26,h=e.closeButton),"closeOnEsc"in e&&n(27,d=e.closeOnEsc),"closeOnOuterClick"in e&&n(28,f=e.closeOnOuterClick),"styleBg"in e&&n(29,p=e.styleBg),"styleWindowWrap"in e&&n(30,m=e.styleWindowWrap),"styleWindow"in e&&n(31,g=e.styleWindow),"styleContent"in e&&n(32,v=e.styleContent),"styleCloseButton"in e&&n(33,y=e.styleCloseButton),"classBg"in e&&n(34,b=e.classBg),"classWindowWrap"in e&&n(35,x=e.classWindowWrap),"classWindow"in e&&n(36,w=e.classWindow),"classContent"in e&&n(37,$=e.classContent),"classCloseButton"in e&&n(38,k=e.classCloseButton),"unstyled"in e&&n(0,S=e.unstyled),"setContext"in e&&n(39,C=e.setContext),"transitionBg"in e&&n(40,_=e.transitionBg),"transitionBgProps"in e&&n(41,O=e.transitionBgProps),"transitionWindow"in e&&n(42,P=e.transitionWindow),"transitionWindowProps"in e&&n(43,E=e.transitionWindowProps),"disableFocusTrap"in e&&n(44,A=e.disableFocusTrap),"$$scope"in e&&n(46,o=e.$$scope)},e.$$.update=()=>{4194304&e.$$.dirty[0]|16384&e.$$.dirty[1]&&he&&(Q(a)?ne(a):ae())},[S,J,K,M,T,I,N,R,D,L,B,F,q,Z,X,ee,te,Q,ae,e=>{if(J.closeOnEsc&&K&&"Escape"===e.key&&(e.preventDefault(),ae()),K&&"Tab"===e.key&&!J.disableFocusTrap){const t=I.querySelectorAll("*"),n=Array.from(t).filter((e=>e.tabIndex>=0));let r=n.indexOf(document.activeElement);-1===r&&e.shiftKey&&(r=0),r+=n.length+(e.shiftKey?-1:1),r%=n.length,n[r].focus(),e.preventDefault()}},e=>{!J.closeOnOuterClick||e.target!==M&&e.target!==T||(U=e.target)},e=>{J.closeOnOuterClick&&e.target===U&&(e.preventDefault(),ae())},a,l,c,u,h,d,f,p,m,g,v,y,b,x,w,$,k,C,_,O,P,E,A,he,o,r,function(e){ce[e?"unshift":"push"]((()=>{I=e,n(5,I)}))},function(e){ce[e?"unshift":"push"]((()=>{T=e,n(4,T)}))},function(e){ce[e?"unshift":"push"]((()=>{M=e,n(3,M)}))}]}class nt extends Ve{constructor(e){super(),qe(this,e,tt,et,a,{show:22,key:23,ariaLabel:24,ariaLabelledBy:25,closeButton:26,closeOnEsc:27,closeOnOuterClick:28,styleBg:29,styleWindowWrap:30,styleWindow:31,styleContent:32,styleCloseButton:33,classBg:34,classWindowWrap:35,classWindow:36,classContent:37,classCloseButton:38,unstyled:0,setContext:39,transitionBg:40,transitionBgProps:41,transitionWindow:42,transitionWindowProps:43,disableFocusTrap:44},Ge,[-1,-1,-1])}}const rt={TREE:"tree",CODE:"code"},ot=Symbol("id"),it=Symbol("expanded"),st=Symbol("visible sections"),at=Symbol("keys"),lt=Symbol("search:property"),ct=Symbol("search:value"),ut=Symbol("enforce string"),ht=Symbol("selection"),dt=Symbol("validation:error"),ft=[{start:0,end:100}],pt={closeButton:!1,styleBg:{top:0,left:0,background:"rgba(0, 0, 0, 0.3)"},styleWindow:{borderRadius:"2px"},styleContent:{flex:1,display:"flex",padding:"0px"}},mt={...pt,styleWindow:{...pt.styleWindow,width:"400px"}},gt={...pt,styleWindow:{...pt.styleWindow,width:"1200px",height:"1200px",maxHeight:"80%",display:"flex"}},vt="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",yt="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",bt="NO",xt="SELF",wt="NEXT_INSIDE";let $t=0;function kt(){return $t++,$t}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function St(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ct={exports:{}};!function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){return JSON.stringify(e)===JSON.stringify(t)}function r(e,t){return e===t}function o(e){return e.slice(0,e.length-1)}function i(e){return e[e.length-1]}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(e.length<t.length)return!1;for(var o=0;o<t.length;o++)if(!n(e[o],t[o]))return!1;return!0}function a(e){return"object"===t(e)&&null!==e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){if(Array.isArray(e)){var t=e.slice();return Object.getOwnPropertySymbols(e).forEach((function(n){t[n]=e[n]})),t}if("object"===h(e)){var n=c({},e);return Object.getOwnPropertySymbols(e).forEach((function(t){n[t]=e[t]})),n}return e}function f(e,t,n){if(e[t]===n)return e;var r=d(e);return r[t]=n,r}function p(e,t){for(var n=e,r=0;r<t.length;)n=a(n)?n[t[r]]:void 0,r++;return n}function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===t.length)return n;var o=t[0],i=m(e?e[o]:void 0,t.slice(1),n,r);if(!a(e)){if(r){var s="number"==typeof o?[]:{};return s[o]=i,s}throw new Error("Path does not exist")}return f(e,o,i)}function g(e,t,n){if(0===t.length)return n(e);if(!a(e))throw new Error("Path doesn't exist");var r=t[0];return f(e,r,g(e[r],t.slice(1),n))}function v(e,t){if(0===t.length)return e;if(!a(e))throw new Error("Path does not exist");if(1===t.length){var n=t[0];if(n in e){var r=d(e);return Array.isArray(r)?r.splice(n,1):delete r[n],r}return e}var o=t[0];return f(e,o,v(e[o],t.slice(1)))}function y(e,t,n){var r=t.slice(0,t.length-1),o=t[t.length-1];return g(e,r,(function(e){if(!Array.isArray(e))throw new TypeError("Array expected at path "+JSON.stringify(r));var t=d(e);return t.splice(o,0,n),t}))}function b(e,t){return void 0!==e&&(0===t.length||b(e[t[0]],t.slice(1)))}function x(e){var t=e.split("/");return t.shift(),t.map((function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}))}function w(e){return e.map((function(e){return"/"+String(e).replace(/~/g,"~0").replace(/\//g,"~1")})).join("")}function $(e,t,n){for(var r=e,o=0;o<t.length;o++){M(t[o]);var i=T(r,t[o]);if(n&&n.before){var s=n.before(r,i);void 0!==s&&(void 0!==s.json&&(r=s.json),void 0!==s.operation&&(i=s.operation))}var a=r,l=k[i.op];if(l)r=l(r,i);else{if("test"!==i.op)throw new Error("Unknown JSONPatch operation "+JSON.stringify(i.op));E(r,i)}if(n&&n.after){var c=n.after(r,i,a);void 0!==c&&(r=c)}}return r}var k={add:_,remove:C,replace:S,copy:O,move:P};function S(e,t){return m(e,t.path,t.value)}function C(e,t){return v(e,t.path)}function _(e,t){var n=t.path,r=t.value;return A(e,n)?y(e,n,r):m(e,n,r)}function O(e,t){var n=t.path,r=t.from,o=p(e,r);return A(e,n)?y(e,n,o):m(e,n,p(e,r))}function P(e,t){var n=t.path,r=t.from,o=p(e,r),i=v(e,r);return A(i,n)?y(i,n,o):m(i,n,o)}function E(e,t){var r=t.path,o=t.value;if(void 0===o)throw new Error('Test failed: no value provided (path: "'.concat(w(r),'")'));if(!b(e,r))throw new Error('Test failed: path not found (path: "'.concat(w(r),'")'));if(!n(p(e,r),o))throw new Error('Test failed, value differs (path: "'.concat(w(r),'")'))}function A(e,t){if(0===t.length)return!1;var n=p(e,o(t));return Array.isArray(n)}function j(e,t){if("-"!==i(t))return t;var n=o(t),r=p(e,n);return n.concat(r.length)}function M(e){if(!["add","remove","replace","copy","move","test"].includes(e.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(e.op));if("string"!=typeof e.path)throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(e));if(("copy"===e.op||"move"===e.op)&&"string"!=typeof e.from)throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(e))}function T(e,t){return{op:t.op,path:j(e,x(t.path)),from:void 0!==t.from?x(t.from):null,value:t.value}}function I(e,t){var n=[];return $(e,t,{before:function(e,t){var r=z[t.op];r&&(n=r(e,t).concat(n))}}),n}var z={add:D,remove:R,replace:N,copy:L,move:B};function N(e,t){var n=t.path;return[{op:"replace",path:w(n),value:p(e,n)}]}function R(e,t){var n=t.path;return[{op:"add",path:w(n),value:p(e,n)}]}function D(e,t){var n=t.path,r=t.value;return A(e,n)||!b(e,n)?[{op:"remove",path:w(n)}]:N(e,{path:n,value:r})}function L(e,t){return D(e,{path:t.path,value:t.value})}function B(e,t){var n=t.path,r=t.from;if(n.length<r.length&&s(r,n))return[{op:"replace",path:w(n),value:e}];var o=[{op:"move",from:w(n),path:w(r)}];return!A(e,n)&&b(e,n)&&(o=o.concat(R(e,{path:n}))),o}e.compileJSONPointer=w,e.deleteIn=v,e.existsIn=b,e.getIn=p,e.immutableJSONPatch=$,e.insertAt=y,e.parseJSONPointer=x,e.revertJSONPatch=I,e.setIn=m,e.updateIn=g,Object.defineProperty(e,"__esModule",{value:!0})}(Ct.exports);var _t={},Ot={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},Pt="a".charCodeAt();_t.parse=function(e,t,n){var r={},o=0,i=0,s=0,a=n&&n.bigint&&"undefined"!=typeof BigInt;return{data:l("",!0),pointers:r};function l(t,n){var r;c(),g(t,"value");var o=d();switch(o){case"t":h("rue"),r=!0;break;case"f":h("alse"),r=!1;break;case"n":h("ull"),r=null;break;case'"':r=u();break;case"[":r=function(e){c();var t=[],n=0;if("]"==d())return t;f();for(;;){var r=e+"/"+n;t.push(l(r)),c();var o=d();if("]"==o)break;","!=o&&x(),c(),n++}return t}(t);break;case"{":r=function(e){c();var t={};if("}"==d())return t;f();for(;;){var n=y();'"'!=d()&&x();var r=u(),o=e+"/"+Bt(r);v(o,"key",n),g(o,"keyEnd"),c(),":"!=d()&&x(),c(),t[r]=l(o),c();var i=d();if("}"==i)break;","!=i&&x(),c()}return t}(t);break;default:f(),"-0123456789".indexOf(o)>=0?r=function(){var t="",n=!0;"-"==e[s]&&(t+=d());t+="0"==e[s]?d():m(),"."==e[s]&&(t+=d()+m(),n=!1);"e"!=e[s]&&"E"!=e[s]||(t+=d(),"+"!=e[s]&&"-"!=e[s]||(t+=d()),t+=m(),n=!1);var r=+t;return a&&n&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)?BigInt(t):r}():b()}return g(t,"valueEnd"),c(),n&&s<e.length&&b(),r}function c(){e:for(;s<e.length;){switch(e[s]){case" ":i++;break;case"\t":i+=4;break;case"\r":i=0;break;case"\n":i=0,o++;break;default:break e}s++}}function u(){for(var e,t="";'"'!=(e=d());)"\\"==e?(e=d())in Ot?t+=Ot[e]:"u"==e?t+=p():x():t+=e;return t}function h(e){for(var t=0;t<e.length;t++)d()!==e[t]&&x()}function d(){w();var t=e[s];return s++,i++,t}function f(){s--,i--}function p(){for(var e=4,t=0;e--;){t<<=4;var n=d().toLowerCase();n>="a"&&n<="f"?t+=n.charCodeAt()-Pt+10:n>="0"&&n<="9"?t+=+n:x()}return String.fromCharCode(t)}function m(){for(var t="";e[s]>="0"&&e[s]<="9";)t+=d();if(t.length)return t;w(),b()}function g(e,t){v(e,t,y())}function v(e,t,n){r[e]=r[e]||{},r[e][t]=n}function y(){return{line:o,column:i,pos:s}}function b(){throw new SyntaxError("Unexpected token "+e[s]+" in JSON at position "+s)}function x(){f(),b()}function w(){if(s>=e.length)throw new SyntaxError("Unexpected end of JSON input")}},_t.stringify=function(e,t,n){if(At(e)){var r,o,i=0,s="object"==typeof n?n.space:n;switch(typeof s){case"number":var a=s>10?10:s<0?0:Math.floor(s);s=a&&y(a," "),r=a,o=a;break;case"string":s=s.slice(0,10),r=0,o=0;for(var l=0;l<s.length;l++){switch(s[l]){case" ":o++;break;case"\t":o+=4;break;case"\r":o=0;break;case"\n":o=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:s=void 0}var c="",u={},h=0,d=0,f=0,p=n&&n.es6&&"function"==typeof Map;return function e(t,n,r){switch(v(r,"value"),typeof t){case"number":case"bigint":case"boolean":m(""+t);break;case"string":m(Rt(t));break;case"object":null===t?m("null"):"function"==typeof t.toJSON?m(Rt(t.toJSON())):Array.isArray(t)?o():p?t.constructor.BYTES_PER_ELEMENT?o():t instanceof Map?a():t instanceof Set?a(!0):i():i()}function o(){if(t.length){m("[");for(var o=n+1,i=0;i<t.length;i++){i&&m(","),g(o);var s=At(t[i])?t[i]:null;e(s,o,r+"/"+i)}g(n),m("]")}else m("[]")}function i(){var o=Object.keys(t);if(o.length){m("{");for(var i=n+1,a=0;a<o.length;a++){var l=o[a],c=t[l];if(At(c)){a&&m(",");var u=r+"/"+Bt(l);g(i),v(u,"key"),m(Rt(l)),v(u,"keyEnd"),m(":"),s&&m(" "),e(c,i,u)}}g(n),m("}")}else m("{}")}function a(o){if(t.size){m("{");for(var i=n+1,a=!0,l=t.entries(),c=l.next();!c.done;){var u=c.value,h=u[0],d=!!o||u[1];if(At(d)){a||m(","),a=!1;var f=r+"/"+Bt(h);g(i),v(f,"key"),m(Rt(h)),v(f,"keyEnd"),m(":"),s&&m(" "),e(d,i,f)}c=l.next()}g(n),m("}")}else m("{}")}v(r,"valueEnd")}(e,0,""),{json:c,pointers:u}}function m(e){d+=e.length,f+=e.length,c+=e}function g(e){if(s){for(c+="\n"+y(e,s),h++,d=0;e--;)i?(h+=i,d=o):d+=o,f+=r;f+=1}}function v(e,t){u[e]=u[e]||{},u[e][t]={line:h,column:d,pos:f}}function y(e,t){return Array(e+1).join(t)}};var Et=["number","bigint","boolean","string","object"];function At(e){return Et.indexOf(typeof e)>=0}var jt=/"|\\/g,Mt=/[\b]/g,Tt=/\f/g,It=/\n/g,zt=/\r/g,Nt=/\t/g;function Rt(e){return'"'+(e=e.replace(jt,"\\$&").replace(Tt,"\\f").replace(Mt,"\\b").replace(It,"\\n").replace(zt,"\\r").replace(Nt,"\\t"))+'"'}var Dt=/~/g,Lt=/\//g;function Bt(e){return e.replace(Dt,"~0").replace(Lt,"~1")}var Ft={exports:{}},qt=Ft.exports=function(){function e(t,n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.message=t+" (char "+n+")",this.char=n,this.stack=(new Error).stack}(e.prototype=new Error).constructor=Error;var t={"'":!0,"‘":!0,"’":!0,"`":!0,"´":!0},n={'"':!0,"“":!0,"”":!0};function r(e){return o.test(e)}var o=/^[a-zA-Z_]$/,i=/^[0-9a-fA-F]$/;function s(e){return a.test(e)}var a=/^[0-9]$/;function l(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function c(e){return" "===e||" "<=e&&e<=" "||" "===e||" "===e||"　"===e}function u(e){return!0===t[e]}function h(e){return!0===n[e]}function d(e){return!0===t[e]?"'":!0===n[e]?'"':e}function f(e,t){return-1!==(t=e.lastIndexOf(t))?e.substring(0,t)+e.substring(t+1):e}function p(e,t){var n=e.length;if(!l(e[n-1]))return e+t;for(;l(e[n-1]);)n--;return e.substring(0,n)+t+e.substring(n)}var m=0,g=1,v=2,y=3,b=4,x=5,w=6,$={"":!0,"{":!0,"}":!0,"[":!0,"]":!0,":":!0,",":!0,"(":!0,")":!0,";":!0,"+":!0},k={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},S={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},C={null:"null",true:"true",false:"false"},_={None:"null",True:"true",False:"false"},O="",P="",E=0,A="",j="",M=w;function T(){E++,A=O.charAt(E)}function I(){T(),"\\"===A&&T()}function z(){return M===m&&("["===j||"{"===j)||M===v||M===g||M===y}function N(){P+=j,M=w,j="",$[A]?(M=m,j=A,T()):function(){if(s(A)||"-"===A){if(M=g,"-"===A){if(j+=A,T(),!s(A))throw new e("Invalid number, digit expected",E)}else"0"===A&&(j+=A,T());for(;s(A);)j+=A,T();if("."===A){if(j+=A,T(),!s(A))throw new e("Invalid number, digit expected",E);for(;s(A);)j+=A,T()}if("e"===A||"E"===A){if(j+=A,T(),"+"!==A&&"-"!==A||(j+=A,T()),!s(A))throw new e("Invalid number, digit expected",E);for(;s(A);)j+=A,T()}}else"\\"===A&&'"'===O.charAt(E+1)?(T(),D(I)):D(T)}(),M===b&&(j=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+=c(r)?" ":r}return t}(j),N()),M===x&&(M=w,j="",N())}function R(){","===j&&(j="",M=w,N())}function D(o){if(!0===t[a=A]||!0===n[a]){var a=d(A),f=u(A)?u:h;for(j+='"',M=v,o();""!==A&&!f(A);)if("\\"===A)if(o(),void 0!==k[A])j+="\\"+A,o();else if("u"===A){j+="\\u",o();for(var p=0;p<4;p++){if(m=A,!i.test(m))throw new e("Invalid unicode character",E-j.length);j+=A,o()}}else{if("'"!==A)throw new e('Invalid escape character "\\'+A+'"',E);j+="'",o()}else S[A]?j+=S[A]:j+='"'===A?'\\"':A,o();if(d(A)!==a)throw new e("End of string expected",E-j.length);return j+='"',void o()}var m;!function(){if(r(A))for(M=y;r(A)||s(A)||"$"===A;)j+=A,T();else!function(){if(l(A)||c(A))for(M=b;l(A)||c(A);)j+=A,T();else!function(){if("/"!==A||"*"!==O[E+1])if("/"!==A||"/"!==O[E+1])!function(){for(M=w;""!==A;)j+=A,T();throw new e('Syntax error in part "'+j+'"',E-j.length)}();else for(M=x;""!==A&&"\n"!==A;)j+=A,T();else{for(M=x;""!==A&&("*"!==A||"*"===A&&"/"!==O[E+1]);)j+=A,T();"*"===A&&"/"===O[E+1]&&(j+=A,T(),j+=A,T())}}()}()}()}function L(){if(M!==m||"{"!==j)!function(){if(M!==m||"["!==j)!function(){if(M!==v)(M!==g?function(){if(M!==y)!function(){throw new e(""===j?"Unexpected end of json string":"Value expected",E-j.length)}();else if(C[j])N();else{if(_[j])return j=_[j],N();var t=j,n=P.length;if(j="",N(),M===m&&"("===j)return j="",N(),L(),M===m&&")"===j&&(j="",N(),M===m&&";"===j&&(j="",N()));for(P=function(e,t,n){return e.substring(0,n)+t+e.substring(n)}(P,'"'.concat(t),n);M===y||M===g;)N();P+='"'}}:N)();else for(N();M===m&&"+"===j;){var t;j="",N(),M===v&&(t=P.lastIndexOf('"'),P=P.substring(0,t)+j.substring(1),j="",N())}}();else if(N(),M!==m||"]"!==j){for(;;)if(L(),M===m&&","===j){if(N(),M===m&&"]"===j){P=f(P,",");break}if(""===j){P=f(P,",");break}}else{if(!z())break;P=p(P,",")}M===m&&"]"===j?N():P=p(P,"]")}else N()}();else if(N(),M!==m||"}"!==j){for(;;){if(M!==y&&M!==g||(M=v,j='"'.concat(j,'"')),M!==v)throw new e("Object key expected",E-j.length);if(N(),M===m&&":"===j)N();else{if(!z())throw new e("Colon expected",E-j.length);P=p(P,":")}if(L(),M===m&&","===j){if(N(),M===m&&"}"===j){P=f(P,",");break}if(""===j){P=f(P,",");break}}else{if(M!==v&&M!==g&&M!==y)break;P=p(P,",")}}M===m&&"}"===j?N():P=p(P,"}")}else N()}return function(t){P="",E=0,A=(O=t).charAt(0),j="",M=w,N();var n=M;if(L(),R(),""===j)return P;if(n===M&&z()){for(var r="";n===M&&z();)r+=P=p(P,","),P="",L(),R();return"[\n".concat(r).concat(P,"\n]")}throw new e("Unexpected characters",E-j.length)}}();function Vt(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Ht(e){return"object"==typeof e&&null!==e}function Wt(e){const t=document.createElement("div");return t.style.color=e,t.style.color.split(/\s+/).join("").toLowerCase()||null}function Ut(e){return null===e?"null":void 0===e?"undefined":"number"==typeof e?"number":"string"==typeof e?"string":"boolean"==typeof e?"boolean":e instanceof RegExp?"regexp":Array.isArray(e)?"array":"object"}const Jt=/^https?:\/\/\S+$/;function Kt(e){return"string"==typeof e&&Jt.test(e)}function Gt(e){if(""===e)return"";if("null"===e)return null;if("true"===e)return!0;if("false"===e)return!1;const t=Number(e);return isNaN(t)||isNaN(parseFloat(e))?e:t}function Qt(e){return"string"==typeof e&&"string"!=typeof Gt(e)}const Yt=[];function Zt(e,t=!1){const n={};if(!Array.isArray(e))throw new TypeError("Array expected");function r(e,o){(!Array.isArray(e)&&!Vt(e)||t&&o.length>0)&&(n[Ct.exports.compileJSONPointer(o)]=!0),Vt(e)&&Object.keys(e).forEach((t=>{r(e[t],o.concat(t))}))}const o=Math.min(e.length,1e4);for(let t=0;t<o;t++){r(e[t],Yt)}return Object.keys(n).sort().map(Ct.exports.parseJSONPointer)}function Xt(e,t,n){if(!(t<=e))for(let r=e;r<t;r++)n(r)}function en(e,t){return e.length>t?e.slice(0,t):e}function tn(e){return{...e}}function nn(e){return Object.values(e)}function rn(e){try{return JSON.parse(e)}catch(t){return JSON.parse(qt(e))}}function on(e){try{return rn(e)}catch(e){return}}function sn(e,t=JSON.parse){e=e.replace(ln,"");try{return t(e)}catch(e){}try{return t("["+e+"]")}catch(e){}try{return t("{"+e+"}")}catch(e){}throw new Error("Failed to parse partial JSON")}function an(e){e=e.replace(ln,"");try{return qt(e)}catch(e){}try{const t=qt("["+e+"]");return t.substring(1,t.length-1)}catch(e){}try{const t=qt("{"+e+"}");return t.substring(1,t.length-1)}catch(e){}throw new Error("Failed to repair partial JSON")}const ln=/,\s*$/;function cn(e,t){const n=pn.exec(t);if(n){const r=parseInt(n[2],10),o=function(e,t,n=0,r=e.length){let o=0;for(let i=n;i<r;i++)e.charAt(i)===t&&o++;return o}(e,"\n",0,r),i=r-e.lastIndexOf("\n",r)-1;return{position:r,line:o,column:i,message:t.replace(pn,(()=>`line ${o+1} column ${i+1}`))}}{const n=mn.exec(t),r=n?parseInt(n[1],10):null,o=null!==r?r-1:null,i=gn.exec(t),s=i?parseInt(i[1],10):null,a=null!==s?s-1:null;return{position:null!==o&&null!==a?function(e,t,n){let r=e.indexOf("\n"),o=1;for(;o<t&&-1!==r;)r=e.indexOf("\n",r+1),o++;return-1!==r?r+n+1:null}(e,o,a):null,line:o,column:a,message:t.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}}function un(e){return Vt(e)?void 0!==e.json?void 0!==e.text?'Content must contain either a property "json" or a property "text" but not both':null:void 0===e.text?'Content must contain either a property "json" or a property "text"':"string"!=typeof e.text?'Content "text" property must be string':null:"Content must be an object"}function hn(e){return"string"==typeof e.text}function dn(e,t){return fn(e,t)>t}function fn(e,t=1/0){if(hn(e))return e.text.length;const n=e.json;let r=0;return function e(n){if(Array.isArray(n)){if(r+=n.length-1+2,r>t)return r;for(let o=0;o<n.length;o++){if(e(n[o]),r>t)return r}}else if(Vt(n)){const t=Object.keys(n);r+=2+t.length+(t.length-1);for(let o=0;o<t.length;o++){const i=t[o],s=n[i];r+=i.length+2,e(s)}}else r+="string"==typeof n?n.length+2:String(n).length}(n),r}const pn=/(position|char) (\d+)/,mn=/line (\d+)/,gn=/column (\d+)/;var vn="object"==typeof global&&global&&global.Object===Object&&global,yn="object"==typeof self&&self&&self.Object===Object&&self,bn=vn||yn||Function("return this")(),xn=bn.Symbol,wn=Object.prototype,$n=wn.hasOwnProperty,kn=wn.toString,Sn=xn?xn.toStringTag:void 0;var Cn=Object.prototype.toString;var _n=xn?xn.toStringTag:void 0;function On(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_n&&_n in Object(e)?function(e){var t=$n.call(e,Sn),n=e[Sn];try{e[Sn]=void 0;var r=!0}catch(e){}var o=kn.call(e);return r&&(t?e[Sn]=n:delete e[Sn]),o}(e):function(e){return Cn.call(e)}(e)}function Pn(e){return null!=e&&"object"==typeof e}function En(e){return"symbol"==typeof e||Pn(e)&&"[object Symbol]"==On(e)}function An(e){return"number"==typeof e?e:En(e)?NaN:+e}function jn(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Mn=Array.isArray,Tn=xn?xn.prototype:void 0,In=Tn?Tn.toString:void 0;function zn(e){if("string"==typeof e)return e;if(Mn(e))return jn(e,zn)+"";if(En(e))return In?In.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function Nn(e,t){return function(n,r){var o;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=zn(n),r=zn(r)):(n=An(n),r=An(r)),o=e(n,r)}return o}}var Rn=Nn((function(e,t){return e+t}),0),Dn=/\s/;function Ln(e){for(var t=e.length;t--&&Dn.test(e.charAt(t)););return t}var Bn=/^\s+/;function Fn(e){return e?e.slice(0,Ln(e)+1).replace(Bn,""):e}function qn(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Vn=/^[-+]0x[0-9a-f]+$/i,Hn=/^0b[01]+$/i,Wn=/^0o[0-7]+$/i,Un=parseInt;function Jn(e){if("number"==typeof e)return e;if(En(e))return NaN;if(qn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Fn(e);var n=Hn.test(e);return n||Wn.test(e)?Un(e.slice(2),n?2:8):Vn.test(e)?NaN:+e}function Kn(e){return e?Infinity===(e=Jn(e))||-Infinity===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Gn(e){var t=Kn(e),n=t%1;return t==t?n?t-n:t:0}function Qn(e,t){if("function"!=typeof t)throw new TypeError("Expected a function");return e=Gn(e),function(){if(--e<1)return t.apply(this,arguments)}}function Yn(e){return e}function Zn(e){if(!qn(e))return!1;var t=On(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Xn,er=bn["__core-js_shared__"],tr=(Xn=/[^.]+$/.exec(er&&er.keys&&er.keys.IE_PROTO||""))?"Symbol(src)_1."+Xn:"";var nr=Function.prototype.toString;function rr(e){if(null!=e){try{return nr.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var or=/^\[object .+?Constructor\]$/,ir=Function.prototype,sr=Object.prototype,ar=ir.toString,lr=sr.hasOwnProperty,cr=RegExp("^"+ar.call(lr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ur(e){return!(!qn(e)||function(e){return!!tr&&tr in e}(e))&&(Zn(e)?cr:or).test(rr(e))}function hr(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ur(n)?n:void 0}var dr=hr(bn,"WeakMap"),fr=dr&&new dr,pr=fr?function(e,t){return fr.set(e,t),e}:Yn,mr=Object.create,gr=function(){function e(){}return function(t){if(!qn(t))return{};if(mr)return mr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function vr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=gr(e.prototype),r=e.apply(n,t);return qn(r)?r:n}}function yr(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var br=Math.max;function xr(e,t,n,r){for(var o=-1,i=e.length,s=n.length,a=-1,l=t.length,c=br(i-s,0),u=Array(l+c),h=!r;++a<l;)u[a]=t[a];for(;++o<s;)(h||o<i)&&(u[n[o]]=e[o]);for(;c--;)u[a++]=e[o++];return u}var wr=Math.max;function $r(e,t,n,r){for(var o=-1,i=e.length,s=-1,a=n.length,l=-1,c=t.length,u=wr(i-a,0),h=Array(u+c),d=!r;++o<u;)h[o]=e[o];for(var f=o;++l<c;)h[f+l]=t[l];for(;++s<a;)(d||o<i)&&(h[f+n[s]]=e[o++]);return h}function kr(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function Sr(){}function Cr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function _r(){}Cr.prototype=gr(Sr.prototype),Cr.prototype.constructor=Cr;var Or=fr?function(e){return fr.get(e)}:_r,Pr={},Er=Object.prototype.hasOwnProperty;function Ar(e){for(var t=e.name+"",n=Pr[t],r=Er.call(Pr,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function jr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Mr(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Tr(e){if(e instanceof Cr)return e.clone();var t=new jr(e.__wrapped__,e.__chain__);return t.__actions__=Mr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}jr.prototype=gr(Sr.prototype),jr.prototype.constructor=jr;var Ir=Object.prototype.hasOwnProperty;function zr(e){if(Pn(e)&&!Mn(e)&&!(e instanceof Cr)){if(e instanceof jr)return e;if(Ir.call(e,"__wrapped__"))return Tr(e)}return new jr(e)}function Nr(e){var t=Ar(e),n=zr[t];if("function"!=typeof n||!(t in Cr.prototype))return!1;if(e===n)return!0;var r=Or(n);return!!r&&e===r[0]}zr.prototype=Sr.prototype,zr.prototype.constructor=zr;var Rr=Date.now;function Dr(e){var t=0,n=0;return function(){var r=Rr(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Lr=Dr(pr),Br=/\{\n\/\* \[wrapped with (.+)\] \*/,Fr=/,? & /;var qr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Vr(e){return function(){return e}}var Hr=function(){try{var e=hr(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Wr=Dr(Hr?function(e,t){return Hr(e,"toString",{configurable:!0,enumerable:!1,value:Vr(t),writable:!0})}:Yn);function Ur(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Jr(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Kr(e){return e!=e}function Gr(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Jr(e,Kr,n)}function Qr(e,t){return!!(null==e?0:e.length)&&Gr(e,t,0)>-1}var Yr=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function Zr(e,t,n){var r=t+"";return Wr(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(qr,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ur(Yr,(function(n){var r="_."+n[0];t&n[1]&&!Qr(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Br);return t?t[1].split(Fr):[]}(r),n)))}function Xr(e,t,n,r,o,i,s,a,l,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var h=[e,t,o,u?i:void 0,u?s:void 0,u?void 0:i,u?void 0:s,a,l,c],d=n.apply(void 0,h);return Nr(e)&&Lr(d,h),d.placeholder=r,Zr(d,e,t)}function eo(e){return e.placeholder}var to=/^(?:0|[1-9]\d*)$/;function no(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&to.test(e))&&e>-1&&e%1==0&&e<t}var ro=Math.min;function oo(e,t){for(var n=e.length,r=ro(t.length,n),o=Mr(e);r--;){var i=t[r];e[r]=no(i,n)?o[i]:void 0}return e}function io(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&"__lodash_placeholder__"!==s||(e[n]="__lodash_placeholder__",i[o++]=n)}return i}function so(e,t,n,r,o,i,s,a,l,c){var u=128&t,h=1&t,d=2&t,f=24&t,p=512&t,m=d?void 0:vr(e);return function g(){for(var v=arguments.length,y=Array(v),b=v;b--;)y[b]=arguments[b];if(f)var x=eo(g),w=kr(y,x);if(r&&(y=xr(y,r,o,f)),i&&(y=$r(y,i,s,f)),v-=w,f&&v<c){var $=io(y,x);return Xr(e,t,so,g.placeholder,n,y,$,a,l,c-v)}var k=h?n:this,S=d?k[e]:e;return v=y.length,a?y=oo(y,a):p&&v>1&&y.reverse(),u&&l<v&&(y.length=l),this&&this!==bn&&this instanceof g&&(S=m||vr(S)),S.apply(k,y)}}var ao=Math.min;var lo=Math.max;function co(e,t,n,r,o,i,s,a){var l=2&t;if(!l&&"function"!=typeof e)throw new TypeError("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=o=void 0),s=void 0===s?s:lo(Gn(s),0),a=void 0===a?a:Gn(a),c-=o?o.length:0,64&t){var u=r,h=o;r=o=void 0}var d=l?void 0:Or(e),f=[e,t,n,r,o,u,h,i,s,a];if(d&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!s)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var a=t[3];if(a){var l=e[3];e[3]=l?xr(l,a,t[4]):a,e[4]=l?io(e[3],"__lodash_placeholder__"):t[4]}(a=t[5])&&(l=e[5],e[5]=l?$r(l,a,t[6]):a,e[6]=l?io(e[5],"__lodash_placeholder__"):t[6]),(a=t[7])&&(e[7]=a),128&r&&(e[8]=null==e[8]?t[8]:ao(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(f,d),e=f[0],t=f[1],n=f[2],r=f[3],o=f[4],!(a=f[9]=void 0===f[9]?l?0:e.length:lo(f[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?function(e,t,n){var r=vr(e);return function o(){for(var i=arguments.length,s=Array(i),a=i,l=eo(o);a--;)s[a]=arguments[a];var c=i<3&&s[0]!==l&&s[i-1]!==l?[]:io(s,l);return(i-=c.length)<n?Xr(e,t,so,o.placeholder,void 0,s,c,void 0,void 0,n-i):yr(this&&this!==bn&&this instanceof o?r:e,this,s)}}(e,t,a):32!=t&&33!=t||o.length?so.apply(void 0,f):function(e,t,n,r){var o=1&t,i=vr(e);return function t(){for(var s=-1,a=arguments.length,l=-1,c=r.length,u=Array(c+a),h=this&&this!==bn&&this instanceof t?i:e;++l<c;)u[l]=r[l];for(;a--;)u[l++]=arguments[++s];return yr(h,o?n:this,u)}}(e,t,n,r);else var p=function(e,t,n){var r=1&t,o=vr(e);return function t(){return(this&&this!==bn&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Zr((d?pr:Lr)(p,f),e,t)}function uo(e,t,n){return t=n?void 0:t,co(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ho(e,t,n){"__proto__"==t&&Hr?Hr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function fo(e,t){return e===t||e!=e&&t!=t}var po=Object.prototype.hasOwnProperty;function mo(e,t,n){var r=e[t];po.call(e,t)&&fo(r,n)&&(void 0!==n||t in e)||ho(e,t,n)}function go(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),o?ho(n,a,l):mo(n,a,l)}return n}var vo=Math.max;function yo(e,t,n){return t=vo(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=vo(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),yr(e,this,a)}}function bo(e,t){return Wr(yo(e,t,Yn),e+"")}function xo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function wo(e){return null!=e&&xo(e.length)&&!Zn(e)}function $o(e,t,n){if(!qn(n))return!1;var r=typeof t;return!!("number"==r?wo(n)&&no(t,n.length):"string"==r&&t in n)&&fo(n[t],e)}function ko(e){return bo((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&$o(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t}))}var So=Object.prototype;function Co(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||So)}function _o(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Oo(e){return Pn(e)&&"[object Arguments]"==On(e)}var Po=Object.prototype,Eo=Po.hasOwnProperty,Ao=Po.propertyIsEnumerable,jo=Oo(function(){return arguments}())?Oo:function(e){return Pn(e)&&Eo.call(e,"callee")&&!Ao.call(e,"callee")};function Mo(){return!1}var To="object"==typeof exports&&exports&&!exports.nodeType&&exports,Io=To&&"object"==typeof module&&module&&!module.nodeType&&module,zo=Io&&Io.exports===To?bn.Buffer:void 0,No=(zo?zo.isBuffer:void 0)||Mo,Ro={};function Do(e){return function(t){return e(t)}}Ro["[object Float32Array]"]=Ro["[object Float64Array]"]=Ro["[object Int8Array]"]=Ro["[object Int16Array]"]=Ro["[object Int32Array]"]=Ro["[object Uint8Array]"]=Ro["[object Uint8ClampedArray]"]=Ro["[object Uint16Array]"]=Ro["[object Uint32Array]"]=!0,Ro["[object Arguments]"]=Ro["[object Array]"]=Ro["[object ArrayBuffer]"]=Ro["[object Boolean]"]=Ro["[object DataView]"]=Ro["[object Date]"]=Ro["[object Error]"]=Ro["[object Function]"]=Ro["[object Map]"]=Ro["[object Number]"]=Ro["[object Object]"]=Ro["[object RegExp]"]=Ro["[object Set]"]=Ro["[object String]"]=Ro["[object WeakMap]"]=!1;var Lo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Bo=Lo&&"object"==typeof module&&module&&!module.nodeType&&module,Fo=Bo&&Bo.exports===Lo&&vn.process,qo=function(){try{var e=Bo&&Bo.require&&Bo.require("util").types;return e||Fo&&Fo.binding&&Fo.binding("util")}catch(e){}}(),Vo=qo&&qo.isTypedArray,Ho=Vo?Do(Vo):function(e){return Pn(e)&&xo(e.length)&&!!Ro[On(e)]},Wo=Object.prototype.hasOwnProperty;function Uo(e,t){var n=Mn(e),r=!n&&jo(e),o=!n&&!r&&No(e),i=!n&&!r&&!o&&Ho(e),s=n||r||o||i,a=s?_o(e.length,String):[],l=a.length;for(var c in e)!t&&!Wo.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||no(c,l))||a.push(c);return a}function Jo(e,t){return function(n){return e(t(n))}}var Ko=Jo(Object.keys,Object),Go=Object.prototype.hasOwnProperty;function Qo(e){if(!Co(e))return Ko(e);var t=[];for(var n in Object(e))Go.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Yo(e){return wo(e)?Uo(e):Qo(e)}var Zo=Object.prototype.hasOwnProperty,Xo=ko((function(e,t){if(Co(t)||wo(t))go(t,Yo(t),e);else for(var n in t)Zo.call(t,n)&&mo(e,n,t[n])}));var ei=Object.prototype.hasOwnProperty;function ti(e){if(!qn(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Co(e),n=[];for(var r in e)("constructor"!=r||!t&&ei.call(e,r))&&n.push(r);return n}function ni(e){return wo(e)?Uo(e,!0):ti(e)}var ri=ko((function(e,t){go(t,ni(t),e)})),oi=ko((function(e,t,n,r){go(t,ni(t),e,r)})),ii=ko((function(e,t,n,r){go(t,Yo(t),e,r)})),si=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ai=/^\w*$/;function li(e,t){if(Mn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!En(e))||(ai.test(e)||!si.test(e)||null!=t&&e in Object(t))}var ci=hr(Object,"create");var ui=Object.prototype.hasOwnProperty;var hi=Object.prototype.hasOwnProperty;function di(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function fi(e,t){for(var n=e.length;n--;)if(fo(e[n][0],t))return n;return-1}di.prototype.clear=function(){this.__data__=ci?ci(null):{},this.size=0},di.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},di.prototype.get=function(e){var t=this.__data__;if(ci){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ui.call(t,e)?t[e]:void 0},di.prototype.has=function(e){var t=this.__data__;return ci?void 0!==t[e]:hi.call(t,e)},di.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ci&&void 0===t?"__lodash_hash_undefined__":t,this};var pi=Array.prototype.splice;function mi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mi.prototype.clear=function(){this.__data__=[],this.size=0},mi.prototype.delete=function(e){var t=this.__data__,n=fi(t,e);return!(n<0)&&(n==t.length-1?t.pop():pi.call(t,n,1),--this.size,!0)},mi.prototype.get=function(e){var t=this.__data__,n=fi(t,e);return n<0?void 0:t[n][1]},mi.prototype.has=function(e){return fi(this.__data__,e)>-1},mi.prototype.set=function(e,t){var n=this.__data__,r=fi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var gi=hr(bn,"Map");function vi(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function yi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yi.prototype.clear=function(){this.size=0,this.__data__={hash:new di,map:new(gi||mi),string:new di}},yi.prototype.delete=function(e){var t=vi(this,e).delete(e);return this.size-=t?1:0,t},yi.prototype.get=function(e){return vi(this,e).get(e)},yi.prototype.has=function(e){return vi(this,e).has(e)},yi.prototype.set=function(e,t){var n=vi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function bi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(bi.Cache||yi),n}bi.Cache=yi;var xi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wi=/\\(\\)?/g,$i=function(e){var t=bi(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(xi,(function(e,n,r,o){t.push(r?o.replace(wi,"$1"):n||e)})),t}));function ki(e){return null==e?"":zn(e)}function Si(e,t){return Mn(e)?e:li(e,t)?[e]:$i(ki(e))}function Ci(e){if("string"==typeof e||En(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function _i(e,t){for(var n=0,r=(t=Si(t,e)).length;null!=e&&n<r;)e=e[Ci(t[n++])];return n&&n==r?e:void 0}function Oi(e,t,n){var r=null==e?void 0:_i(e,t);return void 0===r?n:r}function Pi(e,t){for(var n=-1,r=t.length,o=Array(r),i=null==e;++n<r;)o[n]=i?void 0:Oi(e,t[n]);return o}function Ei(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var Ai=xn?xn.isConcatSpreadable:void 0;function ji(e){return Mn(e)||jo(e)||!!(Ai&&e&&e[Ai])}function Mi(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=ji),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?Mi(a,t-1,n,r,o):Ei(o,a):r||(o[o.length]=a)}return o}function Ti(e){return(null==e?0:e.length)?Mi(e,1):[]}function Ii(e){return Wr(yo(e,void 0,Ti),e+"")}var zi=Ii(Pi),Ni=Jo(Object.getPrototypeOf,Object),Ri=Function.prototype,Di=Object.prototype,Li=Ri.toString,Bi=Di.hasOwnProperty,Fi=Li.call(Object);function qi(e){if(!Pn(e)||"[object Object]"!=On(e))return!1;var t=Ni(e);if(null===t)return!0;var n=Bi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Li.call(n)==Fi}function Vi(e){if(!Pn(e))return!1;var t=On(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!qi(e)}var Hi=bo((function(e,t){try{return yr(e,void 0,t)}catch(e){return Vi(e)?e:new Error(e)}}));function Wi(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=Gn(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var Ui=bo((function(e,t,n){var r=1;if(n.length){var o=io(n,eo(Ui));r|=32}return co(e,r,t,n,o)}));Ui.placeholder={};var Ji=Ii((function(e,t){return Ur(t,(function(t){t=Ci(t),ho(e,t,Ui(e[t],e))})),e})),Ki=bo((function(e,t,n){var r=3;if(n.length){var o=io(n,eo(Ki));r|=32}return co(t,r,e,n,o)}));function Gi(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function Qi(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Gi(e,t,n)}Ki.placeholder={};var Yi=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Zi(e){return Yi.test(e)}var Xi="[\\ud800-\\udfff]",es="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ts="\\ud83c[\\udffb-\\udfff]",ns="[^\\ud800-\\udfff]",rs="(?:\\ud83c[\\udde6-\\uddff]){2}",os="[\\ud800-\\udbff][\\udc00-\\udfff]",is="(?:"+es+"|"+ts+")"+"?",ss="[\\ufe0e\\ufe0f]?"+is+("(?:\\u200d(?:"+[ns,rs,os].join("|")+")[\\ufe0e\\ufe0f]?"+is+")*"),as="(?:"+[ns+es+"?",es,rs,os,Xi].join("|")+")",ls=RegExp(ts+"(?="+ts+")|"+as+ss,"g");function cs(e){return Zi(e)?function(e){return e.match(ls)||[]}(e):function(e){return e.split("")}(e)}function us(e){return function(t){var n=Zi(t=ki(t))?cs(t):void 0,r=n?n[0]:t.charAt(0),o=n?Qi(n,1).join(""):t.slice(1);return r[e]()+o}}var hs=us("toUpperCase");function ds(e){return hs(ki(e).toLowerCase())}function fs(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function ps(e){return function(t){return null==e?void 0:e[t]}}var ms=ps({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),gs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vs=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function ys(e){return(e=ki(e))&&e.replace(gs,ms).replace(vs,"")}var bs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var xs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var ws="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$s="["+ws+"]",ks="\\d+",Ss="[\\u2700-\\u27bf]",Cs="[a-z\\xdf-\\xf6\\xf8-\\xff]",_s="[^\\ud800-\\udfff"+ws+ks+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Os="(?:\\ud83c[\\udde6-\\uddff]){2}",Ps="[\\ud800-\\udbff][\\udc00-\\udfff]",Es="[A-Z\\xc0-\\xd6\\xd8-\\xde]",As="(?:"+Cs+"|"+_s+")",js="(?:"+Es+"|"+_s+")",Ms="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Ts="[\\ufe0e\\ufe0f]?"+Ms+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Os,Ps].join("|")+")[\\ufe0e\\ufe0f]?"+Ms+")*"),Is="(?:"+[Ss,Os,Ps].join("|")+")"+Ts,zs=RegExp([Es+"?"+Cs+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[$s,Es,"$"].join("|")+")",js+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[$s,Es+As,"$"].join("|")+")",Es+"?"+As+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Es+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ks,Is].join("|"),"g");function Ns(e,t,n){return e=ki(e),void 0===(t=n?void 0:t)?function(e){return xs.test(e)}(e)?function(e){return e.match(zs)||[]}(e):function(e){return e.match(bs)||[]}(e):e.match(t)||[]}var Rs=RegExp("['’]","g");function Ds(e){return function(t){return fs(Ns(ys(t).replace(Rs,"")),e,"")}}var Ls=Ds((function(e,t,n){return t=t.toLowerCase(),e+(n?ds(t):t)}));function Bs(){if(!arguments.length)return[];var e=arguments[0];return Mn(e)?e:[e]}var Fs=bn.isFinite,qs=Math.min;function Vs(e){var t=Math[e];return function(e,n){if(e=Jn(e),(n=null==n?0:qs(Gn(n),292))&&Fs(e)){var r=(ki(e)+"e").split("e");return+((r=(ki(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Hs=Vs("ceil");function Ws(e){var t=zr(e);return t.__chain__=!0,t}var Us=Math.ceil,Js=Math.max;function Ks(e,t,n){t=(n?$o(e,t,n):void 0===t)?1:Js(Gn(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,s=Array(Us(r/t));o<r;)s[i++]=Gi(e,o,o+=t);return s}function Gs(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Qs(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=Jn(n))==n?n:0),void 0!==t&&(t=(t=Jn(t))==t?t:0),Gs(Jn(e),t,n)}function Ys(e){var t=this.__data__=new mi(e);this.size=t.size}function Zs(e,t){return e&&go(t,Yo(t),e)}Ys.prototype.clear=function(){this.__data__=new mi,this.size=0},Ys.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ys.prototype.get=function(e){return this.__data__.get(e)},Ys.prototype.has=function(e){return this.__data__.has(e)},Ys.prototype.set=function(e,t){var n=this.__data__;if(n instanceof mi){var r=n.__data__;if(!gi||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yi(r)}return n.set(e,t),this.size=n.size,this};var Xs="object"==typeof exports&&exports&&!exports.nodeType&&exports,ea=Xs&&"object"==typeof module&&module&&!module.nodeType&&module,ta=ea&&ea.exports===Xs?bn.Buffer:void 0,na=ta?ta.allocUnsafe:void 0;function ra(e,t){if(t)return e.slice();var n=e.length,r=na?na(n):new e.constructor(n);return e.copy(r),r}function oa(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function ia(){return[]}var sa=Object.prototype.propertyIsEnumerable,aa=Object.getOwnPropertySymbols,la=aa?function(e){return null==e?[]:(e=Object(e),oa(aa(e),(function(t){return sa.call(e,t)})))}:ia;var ca=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ei(t,la(e)),e=Ni(e);return t}:ia;function ua(e,t,n){var r=t(e);return Mn(e)?r:Ei(r,n(e))}function ha(e){return ua(e,Yo,la)}function da(e){return ua(e,ni,ca)}var fa=hr(bn,"DataView"),pa=hr(bn,"Promise"),ma=hr(bn,"Set"),ga=rr(fa),va=rr(gi),ya=rr(pa),ba=rr(ma),xa=rr(dr),wa=On;(fa&&"[object DataView]"!=wa(new fa(new ArrayBuffer(1)))||gi&&"[object Map]"!=wa(new gi)||pa&&"[object Promise]"!=wa(pa.resolve())||ma&&"[object Set]"!=wa(new ma)||dr&&"[object WeakMap]"!=wa(new dr))&&(wa=function(e){var t=On(e),n="[object Object]"==t?e.constructor:void 0,r=n?rr(n):"";if(r)switch(r){case ga:return"[object DataView]";case va:return"[object Map]";case ya:return"[object Promise]";case ba:return"[object Set]";case xa:return"[object WeakMap]"}return t});var $a=wa,ka=Object.prototype.hasOwnProperty;var Sa=bn.Uint8Array;function Ca(e){var t=new e.constructor(e.byteLength);return new Sa(t).set(new Sa(e)),t}var _a=/\w*$/;var Oa=xn?xn.prototype:void 0,Pa=Oa?Oa.valueOf:void 0;function Ea(e,t){var n=t?Ca(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Aa(e,t,n){var r,o=e.constructor;switch(t){case"[object ArrayBuffer]":return Ca(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var n=t?Ca(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ea(e,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,_a.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new o;case"[object Symbol]":return r=e,Pa?Object(Pa.call(r)):{}}}function ja(e){return"function"!=typeof e.constructor||Co(e)?{}:gr(Ni(e))}var Ma=qo&&qo.isMap,Ta=Ma?Do(Ma):function(e){return Pn(e)&&"[object Map]"==$a(e)};var Ia=qo&&qo.isSet,za=Ia?Do(Ia):function(e){return Pn(e)&&"[object Set]"==$a(e)},Na={};function Ra(e,t,n,r,o,i){var s,a=1&t,l=2&t,c=4&t;if(n&&(s=o?n(e,r,o,i):n(e)),void 0!==s)return s;if(!qn(e))return e;var u=Mn(e);if(u){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ka.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!a)return Mr(e,s)}else{var h=$a(e),d="[object Function]"==h||"[object GeneratorFunction]"==h;if(No(e))return ra(e,a);if("[object Object]"==h||"[object Arguments]"==h||d&&!o){if(s=l||d?{}:ja(e),!a)return l?function(e,t){return go(e,ca(e),t)}(e,function(e,t){return e&&go(t,ni(t),e)}(s,e)):function(e,t){return go(e,la(e),t)}(e,Zs(s,e))}else{if(!Na[h])return o?e:{};s=Aa(e,h,a)}}i||(i=new Ys);var f=i.get(e);if(f)return f;i.set(e,s),za(e)?e.forEach((function(r){s.add(Ra(r,t,n,r,e,i))})):Ta(e)&&e.forEach((function(r,o){s.set(o,Ra(r,t,n,o,e,i))}));var p=u?void 0:(c?l?da:ha:l?ni:Yo)(e);return Ur(p||e,(function(r,o){p&&(r=e[o=r]),mo(s,o,Ra(r,t,n,o,e,i))})),s}Na["[object Arguments]"]=Na["[object Array]"]=Na["[object ArrayBuffer]"]=Na["[object DataView]"]=Na["[object Boolean]"]=Na["[object Date]"]=Na["[object Float32Array]"]=Na["[object Float64Array]"]=Na["[object Int8Array]"]=Na["[object Int16Array]"]=Na["[object Int32Array]"]=Na["[object Map]"]=Na["[object Number]"]=Na["[object Object]"]=Na["[object RegExp]"]=Na["[object Set]"]=Na["[object String]"]=Na["[object Symbol]"]=Na["[object Uint8Array]"]=Na["[object Uint8ClampedArray]"]=Na["[object Uint16Array]"]=Na["[object Uint32Array]"]=!0,Na["[object Error]"]=Na["[object Function]"]=Na["[object WeakMap]"]=!1;function Da(e){return Ra(e,4)}function La(e){return Ra(e,5)}function Ba(e,t){return Ra(e,5,t="function"==typeof t?t:void 0)}function Fa(e,t){return Ra(e,4,t="function"==typeof t?t:void 0)}function qa(){return new jr(this.value(),this.__chain__)}function Va(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function Ha(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ei(Mn(n)?Mr(n):[n],Mi(t,1))}function Wa(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new yi;++t<n;)this.add(e[t])}function Ua(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Ja(e,t){return e.has(t)}Wa.prototype.add=Wa.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Wa.prototype.has=function(e){return this.__data__.has(e)};function Ka(e,t,n,r,o,i){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,f=2&n?new Wa:void 0;for(i.set(e,t),i.set(t,e);++h<a;){var p=e[h],m=t[h];if(r)var g=s?r(m,p,h,t,e,i):r(p,m,h,e,t,i);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!Ua(t,(function(e,t){if(!Ja(f,t)&&(p===e||o(p,e,n,r,i)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!o(p,m,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function Ga(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Qa(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ya=xn?xn.prototype:void 0,Za=Ya?Ya.valueOf:void 0;var Xa=Object.prototype.hasOwnProperty;var el="[object Object]",tl=Object.prototype.hasOwnProperty;function nl(e,t,n,r,o,i){var s=Mn(e),a=Mn(t),l=s?"[object Array]":$a(e),c=a?"[object Array]":$a(t),u=(l="[object Arguments]"==l?el:l)==el,h=(c="[object Arguments]"==c?el:c)==el,d=l==c;if(d&&No(e)){if(!No(t))return!1;s=!0,u=!1}if(d&&!u)return i||(i=new Ys),s||Ho(e)?Ka(e,t,n,r,o,i):function(e,t,n,r,o,i,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Sa(e),new Sa(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return fo(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Ga;case"[object Set]":var l=1&r;if(a||(a=Qa),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=Ka(a(e),a(t),r,o,i,s);return s.delete(e),u;case"[object Symbol]":if(Za)return Za.call(e)==Za.call(t)}return!1}(e,t,l,n,r,o,i);if(!(1&n)){var f=u&&tl.call(e,"__wrapped__"),p=h&&tl.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return i||(i=new Ys),o(m,g,n,r,i)}}return!!d&&(i||(i=new Ys),function(e,t,n,r,o,i){var s=1&n,a=ha(e),l=a.length;if(l!=ha(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:Xa.call(t,u)))return!1}var h=i.get(e),d=i.get(t);if(h&&d)return h==t&&d==e;var f=!0;i.set(e,t),i.set(t,e);for(var p=s;++c<l;){var m=e[u=a[c]],g=t[u];if(r)var v=s?r(g,m,u,t,e,i):r(m,g,u,e,t,i);if(!(void 0===v?m===g||o(m,g,n,r,i):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,i))}function rl(e,t,n,r,o){return e===t||(null==e||null==t||!Pn(e)&&!Pn(t)?e!=e&&t!=t:nl(e,t,n,r,rl,o))}function ol(e,t,n,r){var o=n.length,i=o,s=!r;if(null==e)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var l=(a=n[o])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var h=new Ys;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?rl(u,c,3,r,h):d))return!1}}return!0}function il(e){return e==e&&!qn(e)}function sl(e){for(var t=Yo(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,il(o)]}return t}function al(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function ll(e){var t=sl(e);return 1==t.length&&t[0][2]?al(t[0][0],t[0][1]):function(n){return n===e||ol(n,e,t)}}function cl(e,t){return null!=e&&t in Object(e)}function ul(e,t,n){for(var r=-1,o=(t=Si(t,e)).length,i=!1;++r<o;){var s=Ci(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&xo(o)&&no(s,o)&&(Mn(e)||jo(e))}function hl(e,t){return null!=e&&ul(e,t,cl)}function dl(e,t){return li(e)&&il(t)?al(Ci(e),t):function(n){var r=Oi(n,e);return void 0===r&&r===t?hl(n,e):rl(t,r,3)}}function fl(e){return function(t){return null==t?void 0:t[e]}}function pl(e){return li(e)?fl(Ci(e)):function(e){return function(t){return _i(t,e)}}(e)}function ml(e){return"function"==typeof e?e:null==e?Yn:"object"==typeof e?Mn(e)?dl(e[0],e[1]):ll(e):pl(e)}function gl(e){var t=null==e?0:e.length,n=ml;return e=t?jn(e,(function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[n(e[0]),e[1]]})):[],bo((function(n){for(var r=-1;++r<t;){var o=e[r];if(yr(o[0],this,n))return yr(o[1],this,n)}}))}function vl(e,t,n){var r=n.length;if(null==e)return!r;for(e=Object(e);r--;){var o=n[r],i=t[o],s=e[o];if(void 0===s&&!(o in e)||!i(s))return!1}return!0}function yl(e){return function(e){var t=Yo(e);return function(n){return vl(n,e,t)}}(Ra(e,1))}function bl(e,t){return null==t||vl(e,t,Yo(t))}function xl(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function wl(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===n(i[l],l,i))break}return t}}var $l=wl();function kl(e,t){return e&&$l(e,t,Yo)}function Sl(e,t){return function(n,r){if(null==n)return n;if(!wo(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}var Cl=Sl(kl);function _l(e,t,n,r){return Cl(e,(function(e,o,i){t(r,e,n(e),i)})),r}function Ol(e,t){return function(n,r){var o=Mn(n)?xl:_l,i=t?t():{};return o(n,e,ml(r),i)}}var Pl=Object.prototype.hasOwnProperty,El=Ol((function(e,t,n){Pl.call(e,n)?++e[n]:ho(e,n,1)}));function Al(e,t){var n=gr(e);return null==t?n:Zs(n,t)}function jl(e,t,n){var r=co(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=jl.placeholder,r}jl.placeholder={};function Ml(e,t,n){var r=co(e,16,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Ml.placeholder,r}Ml.placeholder={};var Tl=function(){return bn.Date.now()},Il=Math.max,zl=Math.min;function Nl(e,t,n){var r,o,i,s,a,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,i=o;return r=o=void 0,c=t,s=e.apply(i,n)}function p(e){return c=e,a=setTimeout(g,t),u?f(e):s}function m(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=i}function g(){var e=Tl();if(m(e))return v(e);a=setTimeout(g,function(e){var n=t-(e-l);return h?zl(n,i-(e-c)):n}(e))}function v(e){return a=void 0,d&&r?f(e):(r=o=void 0,s)}function y(){var e=Tl(),n=m(e);if(r=arguments,o=this,l=e,n){if(void 0===a)return p(l);if(h)return clearTimeout(a),a=setTimeout(g,t),f(l)}return void 0===a&&(a=setTimeout(g,t)),s}return t=Jn(t)||0,qn(n)&&(u=!!n.leading,i=(h="maxWait"in n)?Il(Jn(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=o=a=void 0},y.flush=function(){return void 0===a?s:v(Tl())},y}function Rl(e,t){return null==e||e!=e?t:e}var Dl=Object.prototype,Ll=Dl.hasOwnProperty,Bl=bo((function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&$o(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],s=ni(i),a=-1,l=s.length;++a<l;){var c=s[a],u=e[c];(void 0===u||fo(u,Dl[c])&&!Ll.call(e,c))&&(e[c]=i[c])}return e}));function Fl(e,t,n){(void 0!==n&&!fo(e[t],n)||void 0===n&&!(t in e))&&ho(e,t,n)}function ql(e){return Pn(e)&&wo(e)}function Vl(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Hl(e){return go(e,ni(e))}function Wl(e,t,n,r,o){e!==t&&$l(t,(function(i,s){if(o||(o=new Ys),qn(i))!function(e,t,n,r,o,i,s){var a=Vl(e,n),l=Vl(t,n),c=s.get(l);if(c)Fl(e,n,c);else{var u=i?i(a,l,n+"",e,t,s):void 0,h=void 0===u;if(h){var d=Mn(l),f=!d&&No(l),p=!d&&!f&&Ho(l);u=l,d||f||p?Mn(a)?u=a:ql(a)?u=Mr(a):f?(h=!1,u=ra(l,!0)):p?(h=!1,u=Ea(l,!0)):u=[]:qi(l)||jo(l)?(u=a,jo(a)?u=Hl(a):qn(a)&&!Zn(a)||(u=ja(l))):h=!1}h&&(s.set(l,u),o(u,l,r,i,s),s.delete(l)),Fl(e,n,u)}}(e,t,s,n,Wl,r,o);else{var a=r?r(Vl(e,s),i,s+"",e,t,o):void 0;void 0===a&&(a=i),Fl(e,s,a)}}),ni)}function Ul(e,t,n,r,o,i){return qn(e)&&qn(t)&&(i.set(t,e),Wl(e,t,void 0,Ul,i),i.delete(t)),e}var Jl=ko((function(e,t,n,r){Wl(e,t,n,r)})),Kl=bo((function(e){return e.push(void 0,Ul),yr(Jl,void 0,e)}));function Gl(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)}var Ql=bo((function(e,t){return Gl(e,1,t)})),Yl=bo((function(e,t,n){return Gl(e,Jn(t)||0,n)}));function Zl(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Xl(e,t,n,r){var o=-1,i=Qr,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=jn(t,Do(n))),r?(i=Zl,s=!1):t.length>=200&&(i=Ja,s=!1,t=new Wa(t));e:for(;++o<a;){var u=e[o],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else i(t,h,r)||l.push(u)}return l}var ec=bo((function(e,t){return ql(e)?Xl(e,Mi(t,1,ql,!0)):[]}));function tc(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var nc=bo((function(e,t){var n=tc(t);return ql(n)&&(n=void 0),ql(e)?Xl(e,Mi(t,1,ql,!0),ml(n)):[]})),rc=bo((function(e,t){var n=tc(t);return ql(n)&&(n=void 0),ql(e)?Xl(e,Mi(t,1,ql,!0),void 0,n):[]})),oc=Nn((function(e,t){return e/t}),1);function ic(e,t,n){var r=null==e?0:e.length;return r?Gi(e,(t=n||void 0===t?1:Gn(t))<0?0:t,r):[]}function sc(e,t,n){var r=null==e?0:e.length;return r?Gi(e,0,(t=r-(t=n||void 0===t?1:Gn(t)))<0?0:t):[]}function ac(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?Gi(e,r?0:i,r?i+1:o):Gi(e,r?i+1:0,r?o:i)}function lc(e,t){return e&&e.length?ac(e,ml(t),!0,!0):[]}function cc(e,t){return e&&e.length?ac(e,ml(t),!0):[]}function uc(e){return"function"==typeof e?e:Yn}function hc(e,t){return(Mn(e)?Ur:Cl)(e,uc(t))}function dc(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}var fc=wl(!0);function pc(e,t){return e&&fc(e,t,Yo)}var mc=Sl(pc,!0);function gc(e,t){return(Mn(e)?dc:mc)(e,uc(t))}function vc(e,t,n){e=ki(e),t=zn(t);var r=e.length,o=n=void 0===n?r:Gs(Gn(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t}function yc(e){return function(t){var n=$a(t);return"[object Map]"==n?Ga(t):"[object Set]"==n?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return jn(t,(function(t){return[t,e[t]]}))}(t,e(t))}}var bc=yc(Yo),xc=yc(ni),wc=ps({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),$c=/[&<>"']/g,kc=RegExp($c.source);function Sc(e){return(e=ki(e))&&kc.test(e)?e.replace($c,wc):e}var Cc=/[\\^$.*+?()[\]{}|]/g,_c=RegExp(Cc.source);function Oc(e){return(e=ki(e))&&_c.test(e)?e.replace(Cc,"\\$&"):e}function Pc(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ec(e,t){var n=!0;return Cl(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function Ac(e,t,n){var r=Mn(e)?Pc:Ec;return n&&$o(e,t,n)&&(t=void 0),r(e,ml(t))}function jc(e){return e?Gs(Gn(e),0,4294967295):0}function Mc(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&$o(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=Gn(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:Gn(r))<0&&(r+=o),r=n>r?0:jc(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]}function Tc(e,t){var n=[];return Cl(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function Ic(e,t){return(Mn(e)?oa:Tc)(e,ml(t))}function zc(e){return function(t,n,r){var o=Object(t);if(!wo(t)){var i=ml(n);t=Yo(t),n=function(e){return i(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var Nc=Math.max;function Rc(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Gn(n);return o<0&&(o=Nc(r+o,0)),Jr(e,ml(t),o)}var Dc=zc(Rc);function Lc(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Bc(e,t){return Lc(e,ml(t),kl)}var Fc=Math.max,qc=Math.min;function Vc(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=Gn(n),o=n<0?Fc(r+o,0):qc(o,r-1)),Jr(e,ml(t),o,!0)}var Hc=zc(Vc);function Wc(e,t){return Lc(e,ml(t),pc)}function Uc(e){return e&&e.length?e[0]:void 0}function Jc(e,t){var n=-1,r=wo(e)?Array(e.length):[];return Cl(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function Kc(e,t){return(Mn(e)?jn:Jc)(e,ml(t))}function Gc(e,t){return Mi(Kc(e,t),1)}function Qc(e,t){return Mi(Kc(e,t),Infinity)}function Yc(e,t,n){return n=void 0===n?1:Gn(n),Mi(Kc(e,t),n)}function Zc(e){return(null==e?0:e.length)?Mi(e,Infinity):[]}function Xc(e,t){return(null==e?0:e.length)?Mi(e,t=void 0===t?1:Gn(t)):[]}function eu(e){return co(e,512)}var tu=Vs("floor");function nu(e){return Ii((function(t){var n=t.length,r=n,o=jr.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new TypeError("Expected a function");if(o&&!s&&"wrapper"==Ar(i))var s=new jr([],!0)}for(r=s?r:n;++r<n;){var a=Ar(i=t[r]),l="wrapper"==a?Or(i):void 0;s=l&&Nr(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Ar(l[0])].apply(s,l[3]):1==i.length&&Nr(i)?s[a]():s.thru(i)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Mn(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}var ru=nu(),ou=nu(!0);function iu(e,t){return null==e?e:$l(e,uc(t),ni)}function su(e,t){return null==e?e:fc(e,uc(t),ni)}function au(e,t){return e&&kl(e,uc(t))}function lu(e,t){return e&&pc(e,uc(t))}function cu(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function uu(e,t){return oa(t,(function(t){return Zn(e[t])}))}function hu(e){return null==e?[]:uu(e,Yo(e))}function du(e){return null==e?[]:uu(e,ni(e))}var fu=Object.prototype.hasOwnProperty,pu=Ol((function(e,t,n){fu.call(e,n)?e[n].push(t):ho(e,n,[t])}));function mu(e,t){return e>t}function gu(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Jn(t),n=Jn(n)),e(t,n)}}var vu=gu(mu),yu=gu((function(e,t){return e>=t})),bu=Object.prototype.hasOwnProperty;function xu(e,t){return null!=e&&bu.call(e,t)}function wu(e,t){return null!=e&&ul(e,t,xu)}var $u=Math.max,ku=Math.min;function Su(e,t,n){return t=Kn(t),void 0===n?(n=t,t=0):n=Kn(n),function(e,t,n){return e>=ku(t,n)&&e<$u(t,n)}(e=Jn(e),t,n)}function Cu(e){return"string"==typeof e||!Mn(e)&&Pn(e)&&"[object String]"==On(e)}function _u(e,t){return jn(t,(function(t){return e[t]}))}function Ou(e){return null==e?[]:_u(e,Yo(e))}var Pu=Math.max;function Eu(e,t,n,r){e=wo(e)?e:Ou(e),n=n&&!r?Gn(n):0;var o=e.length;return n<0&&(n=Pu(o+n,0)),Cu(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Gr(e,t,n)>-1}var Au=Math.max;function ju(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Gn(n);return o<0&&(o=Au(r+o,0)),Gr(e,t,o)}function Mu(e){return(null==e?0:e.length)?Gi(e,0,-1):[]}var Tu=Math.min;function Iu(e,t,n){for(var r=n?Zl:Qr,o=e[0].length,i=e.length,s=i,a=Array(i),l=1/0,c=[];s--;){var u=e[s];s&&t&&(u=jn(u,Do(t))),l=Tu(u.length,l),a[s]=!n&&(t||o>=120&&u.length>=120)?new Wa(s&&u):void 0}u=e[0];var h=-1,d=a[0];e:for(;++h<o&&c.length<l;){var f=u[h],p=t?t(f):f;if(f=n||0!==f?f:0,!(d?Ja(d,p):r(c,p,n))){for(s=i;--s;){var m=a[s];if(!(m?Ja(m,p):r(e[s],p,n)))continue e}d&&d.push(p),c.push(f)}}return c}function zu(e){return ql(e)?e:[]}var Nu=bo((function(e){var t=jn(e,zu);return t.length&&t[0]===e[0]?Iu(t):[]})),Ru=bo((function(e){var t=tc(e),n=jn(e,zu);return t===tc(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?Iu(n,ml(t)):[]})),Du=bo((function(e){var t=tc(e),n=jn(e,zu);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?Iu(n,void 0,t):[]}));function Lu(e,t){return function(n,r){return function(e,t,n,r){return kl(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}var Bu=Object.prototype.toString,Fu=Lu((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Bu.call(t)),e[t]=n}),Vr(Yn)),qu=Object.prototype,Vu=qu.hasOwnProperty,Hu=qu.toString,Wu=Lu((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Hu.call(t)),Vu.call(e,t)?e[t].push(n):e[t]=[n]}),ml);function Uu(e,t){return t.length<2?e:_i(e,Gi(t,0,-1))}function Ju(e,t,n){var r=null==(e=Uu(e,t=Si(t,e)))?e:e[Ci(tc(t))];return null==r?void 0:yr(r,e,n)}var Ku=bo(Ju),Gu=bo((function(e,t,n){var r=-1,o="function"==typeof t,i=wo(e)?Array(e.length):[];return Cl(e,(function(e){i[++r]=o?yr(t,e,n):Ju(e,t,n)})),i}));var Qu=qo&&qo.isArrayBuffer,Yu=Qu?Do(Qu):function(e){return Pn(e)&&"[object ArrayBuffer]"==On(e)};function Zu(e){return!0===e||!1===e||Pn(e)&&"[object Boolean]"==On(e)}var Xu=qo&&qo.isDate,eh=Xu?Do(Xu):function(e){return Pn(e)&&"[object Date]"==On(e)};function th(e){return Pn(e)&&1===e.nodeType&&!qi(e)}var nh=Object.prototype.hasOwnProperty;function rh(e){if(null==e)return!0;if(wo(e)&&(Mn(e)||"string"==typeof e||"function"==typeof e.splice||No(e)||Ho(e)||jo(e)))return!e.length;var t=$a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Co(e))return!Qo(e).length;for(var n in e)if(nh.call(e,n))return!1;return!0}function oh(e,t){return rl(e,t)}function ih(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?rl(e,t,void 0,n):!!r}var sh=bn.isFinite;function ah(e){return"number"==typeof e&&sh(e)}function lh(e){return"number"==typeof e&&e==Gn(e)}function ch(e,t){return e===t||ol(e,t,sl(t))}function uh(e,t,n){return n="function"==typeof n?n:void 0,ol(e,t,sl(t),n)}function hh(e){return"number"==typeof e||Pn(e)&&"[object Number]"==On(e)}function dh(e){return hh(e)&&e!=+e}var fh=er?Zn:Mo;function ph(e){if(fh(e))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ur(e)}function mh(e){return null==e}function gh(e){return null===e}var vh=qo&&qo.isRegExp,yh=vh?Do(vh):function(e){return Pn(e)&&"[object RegExp]"==On(e)};function bh(e){return lh(e)&&e>=-9007199254740991&&e<=9007199254740991}function xh(e){return void 0===e}function wh(e){return Pn(e)&&"[object WeakMap]"==$a(e)}function $h(e){return Pn(e)&&"[object WeakSet]"==On(e)}function kh(e){return ml("function"==typeof e?e:Ra(e,1))}var Sh=Array.prototype.join;function Ch(e,t){return null==e?"":Sh.call(e,t)}var _h=Ds((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Oh=Ol((function(e,t,n){ho(e,n,t)}));var Ph=Math.max,Eh=Math.min;function Ah(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=Gn(n))<0?Ph(r+o,0):Eh(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Jr(e,Kr,o,!0)}var jh=Ds((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Mh=us("toLowerCase");function Th(e,t){return e<t}var Ih=gu(Th),zh=gu((function(e,t){return e<=t}));function Nh(e,t){var n={};return t=ml(t),kl(e,(function(e,r,o){ho(n,t(e,r,o),e)})),n}function Rh(e,t){var n={};return t=ml(t),kl(e,(function(e,r,o){ho(n,r,t(e,r,o))})),n}function Dh(e){return ll(Ra(e,1))}function Lh(e,t){return dl(e,Ra(t,1))}function Bh(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(null!=s&&(void 0===a?s==s&&!En(s):n(s,a)))var a=s,l=i}return l}function Fh(e){return e&&e.length?Bh(e,Yn,mu):void 0}function qh(e,t){return e&&e.length?Bh(e,ml(t),mu):void 0}function Vh(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}function Hh(e,t){var n=null==e?0:e.length;return n?Vh(e,t)/n:NaN}function Wh(e){return Hh(e,Yn)}function Uh(e,t){return Hh(e,ml(t))}var Jh=ko((function(e,t,n){Wl(e,t,n)})),Kh=bo((function(e,t){return function(n){return Ju(n,e,t)}})),Gh=bo((function(e,t){return function(n){return Ju(e,n,t)}}));function Qh(e){return e&&e.length?Bh(e,Yn,Th):void 0}function Yh(e,t){return e&&e.length?Bh(e,ml(t),Th):void 0}function Zh(e,t,n){var r=Yo(t),o=uu(t,r),i=!(qn(n)&&"chain"in n&&!n.chain),s=Zn(e);return Ur(o,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=Mr(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ei([this.value()],arguments))})})),e}var Xh=Nn((function(e,t){return e*t}),1);function ed(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var td=xn?xn.iterator:void 0;function nd(e){if(!e)return[];if(wo(e))return Cu(e)?cs(e):Mr(e);if(td&&e[td])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[td]());var t=$a(e);return("[object Map]"==t?Ga:"[object Set]"==t?Qa:Ou)(e)}function rd(){void 0===this.__values__&&(this.__values__=nd(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}}function od(e,t){var n=e.length;if(n)return no(t+=t<0?n:0,n)?e[t]:void 0}function id(e,t){return e&&e.length?od(e,Gn(t)):void 0}function sd(e){return e=Gn(e),bo((function(t){return od(t,e)}))}function ad(e,t){return null==(e=Uu(e,t=Si(t,e)))||delete e[Ci(tc(t))]}function ld(e){return qi(e)?void 0:e}var cd=Ii((function(e,t){var n={};if(null==e)return n;var r=!1;t=jn(t,(function(t){return t=Si(t,e),r||(r=t.length>1),t})),go(e,da(e),n),r&&(n=Ra(n,7,ld));for(var o=t.length;o--;)ad(n,t[o]);return n}));function ud(e,t,n,r){if(!qn(e))return e;for(var o=-1,i=(t=Si(t,e)).length,s=i-1,a=e;null!=a&&++o<i;){var l=Ci(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var u=a[l];void 0===(c=r?r(u,l,a):void 0)&&(c=qn(u)?u:no(t[o+1])?[]:{})}mo(a,l,c),a=a[l]}return e}function hd(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=_i(e,s);n(a,s)&&ud(i,Si(s,e),a)}return i}function dd(e,t){if(null==e)return{};var n=jn(da(e),(function(e){return[e]}));return t=ml(t),hd(e,n,(function(e,n){return t(e,n[0])}))}function fd(e,t){return dd(e,ed(ml(t)))}function pd(e){return Wi(2,e)}function md(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=En(e),s=void 0!==t,a=null===t,l=t==t,c=En(t);if(!a&&!c&&!i&&e>t||i&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!l)return-1}return 0}function gd(e,t,n){t=t.length?jn(t,(function(e){return Mn(e)?function(t){return _i(t,1===e.length?e[0]:e)}:e})):[Yn];var r=-1;return t=jn(t,Do(ml)),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Jc(e,(function(e,n,o){return{criteria:jn(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var l=md(o[r],i[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function vd(e,t,n,r){return null==e?[]:(Mn(t)||(t=null==t?[]:[t]),Mn(n=r?void 0:n)||(n=null==n?[]:[n]),gd(e,t,n))}function yd(e){return Ii((function(t){return t=jn(t,Do(ml)),bo((function(n){var r=this;return e(t,(function(e){return yr(e,r,n)}))}))}))}var bd=yd(jn),xd=bo,wd=Math.min,$d=xd((function(e,t){var n=(t=1==t.length&&Mn(t[0])?jn(t[0],Do(ml)):jn(Mi(t,1),Do(ml))).length;return bo((function(r){for(var o=-1,i=wd(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return yr(e,this,r)}))})),kd=yd(Pc),Sd=yd(Ua),Cd=Math.floor;function _d(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Cd(t/2))&&(e+=e)}while(t);return n}var Od=fl("length"),Pd="[\\ud800-\\udfff]",Ed="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ad="\\ud83c[\\udffb-\\udfff]",jd="[^\\ud800-\\udfff]",Md="(?:\\ud83c[\\udde6-\\uddff]){2}",Td="[\\ud800-\\udbff][\\udc00-\\udfff]",Id="(?:"+Ed+"|"+Ad+")"+"?",zd="[\\ufe0e\\ufe0f]?"+Id+("(?:\\u200d(?:"+[jd,Md,Td].join("|")+")[\\ufe0e\\ufe0f]?"+Id+")*"),Nd="(?:"+[jd+Ed+"?",Ed,Md,Td,Pd].join("|")+")",Rd=RegExp(Ad+"(?="+Ad+")|"+Nd+zd,"g");function Dd(e){return Zi(e)?function(e){for(var t=Rd.lastIndex=0;Rd.test(e);)++t;return t}(e):Od(e)}var Ld=Math.ceil;function Bd(e,t){var n=(t=void 0===t?" ":zn(t)).length;if(n<2)return n?_d(t,e):t;var r=_d(t,Ld(e/Dd(t)));return Zi(t)?Qi(cs(r),0,e).join(""):r.slice(0,e)}var Fd=Math.ceil,qd=Math.floor;function Vd(e,t,n){e=ki(e);var r=(t=Gn(t))?Dd(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Bd(qd(o),n)+e+Bd(Fd(o),n)}function Hd(e,t,n){e=ki(e);var r=(t=Gn(t))?Dd(e):0;return t&&r<t?e+Bd(t-r,n):e}function Wd(e,t,n){e=ki(e);var r=(t=Gn(t))?Dd(e):0;return t&&r<t?Bd(t-r,n)+e:e}var Ud=/^\s+/,Jd=bn.parseInt;function Kd(e,t,n){return n||null==t?t=0:t&&(t=+t),Jd(ki(e).replace(Ud,""),t||0)}var Gd=bo((function(e,t){return co(e,32,void 0,t,io(t,eo(Gd)))}));Gd.placeholder={};var Qd=bo((function(e,t){return co(e,64,void 0,t,io(t,eo(Qd)))}));Qd.placeholder={};var Yd=Ol((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Zd=Ii((function(e,t){return null==e?{}:function(e,t){return hd(e,t,(function(t,n){return hl(e,n)}))}(e,t)}));function Xd(e){for(var t,n=this;n instanceof Sr;){var r=Tr(n);r.__index__=0,r.__values__=void 0,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function ef(e){return function(t){return null==e?void 0:_i(e,t)}}function tf(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}var nf=Array.prototype.splice;function rf(e,t,n,r){var o=r?tf:Gr,i=-1,s=t.length,a=e;for(e===t&&(t=Mr(t)),n&&(a=jn(e,Do(n)));++i<s;)for(var l=0,c=t[i],u=n?n(c):c;(l=o(a,u,l,r))>-1;)a!==e&&nf.call(a,l,1),nf.call(e,l,1);return e}function of(e,t){return e&&e.length&&t&&t.length?rf(e,t):e}var sf=bo(of);function af(e,t,n){return e&&e.length&&t&&t.length?rf(e,t,ml(n)):e}function lf(e,t,n){return e&&e.length&&t&&t.length?rf(e,t,void 0,n):e}var cf=Array.prototype.splice;function uf(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;no(o)?cf.call(e,o,1):ad(e,o)}}return e}var hf=Ii((function(e,t){var n=null==e?0:e.length,r=Pi(e,t);return uf(e,jn(t,(function(e){return no(e,n)?+e:e})).sort(md)),r})),df=Math.floor,ff=Math.random;function pf(e,t){return e+df(ff()*(t-e+1))}var mf=parseFloat,gf=Math.min,vf=Math.random;function yf(e,t,n){if(n&&"boolean"!=typeof n&&$o(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=Kn(e),void 0===t?(t=e,e=0):t=Kn(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=vf();return gf(e+o*(t-e+mf("1e-"+((o+"").length-1))),t)}return pf(e,t)}var bf=Math.ceil,xf=Math.max;function wf(e){return function(t,n,r){return r&&"number"!=typeof r&&$o(t,n,r)&&(n=r=void 0),t=Kn(t),void 0===n?(n=t,t=0):n=Kn(n),function(e,t,n,r){for(var o=-1,i=xf(bf((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}(t,n,r=void 0===r?t<n?1:-1:Kn(r),e)}}var $f=wf(),kf=wf(!0),Sf=Ii((function(e,t){return co(e,256,void 0,void 0,void 0,t)}));function Cf(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function _f(e,t,n){var r=Mn(e)?fs:Cf,o=arguments.length<3;return r(e,ml(t),n,o,Cl)}function Of(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Pf(e,t,n){var r=Mn(e)?Of:Cf,o=arguments.length<3;return r(e,ml(t),n,o,mc)}function Ef(e,t){return(Mn(e)?oa:Tc)(e,ed(ml(t)))}function Af(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ml(t);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return uf(e,o),n}function jf(e,t,n){return t=(n?$o(e,t,n):void 0===t)?1:Gn(t),_d(ki(e),t)}function Mf(){var e=arguments,t=ki(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function Tf(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return bo(e,t=void 0===t?t:Gn(t))}function If(e,t,n){var r=-1,o=(t=Si(t,e)).length;for(o||(o=1,e=void 0);++r<o;){var i=null==e?void 0:e[Ci(t[r])];void 0===i&&(r=o,i=n),e=Zn(i)?i.call(e):i}return e}var zf=Array.prototype.reverse;function Nf(e){return null==e?e:zf.call(e)}var Rf=Vs("round");function Df(e){var t=e.length;return t?e[pf(0,t-1)]:void 0}function Lf(e){return Df(Ou(e))}function Bf(e){return(Mn(e)?Df:Lf)(e)}function Ff(e,t){var n=-1,r=e.length,o=r-1;for(t=void 0===t?r:t;++n<t;){var i=pf(n,o),s=e[i];e[i]=e[n],e[n]=s}return e.length=t,e}function qf(e,t){return Ff(Mr(e),Gs(t,0,e.length))}function Vf(e,t){var n=Ou(e);return Ff(n,Gs(t,0,n.length))}function Hf(e,t,n){return t=(n?$o(e,t,n):void 0===t)?1:Gn(t),(Mn(e)?qf:Vf)(e,t)}function Wf(e,t,n){return null==e?e:ud(e,t,n)}function Uf(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ud(e,t,n,r)}function Jf(e){return Ff(Mr(e))}function Kf(e){return Ff(Ou(e))}function Gf(e){return(Mn(e)?Jf:Kf)(e)}function Qf(e){if(null==e)return 0;if(wo(e))return Cu(e)?Dd(e):e.length;var t=$a(e);return"[object Map]"==t||"[object Set]"==t?e.size:Qo(e).length}function Yf(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&$o(e,t,n)?(t=0,n=r):(t=null==t?0:Gn(t),n=void 0===n?r:Gn(n)),Gi(e,t,n)):[]}var Zf=Ds((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function Xf(e,t){var n;return Cl(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ep(e,t,n){var r=Mn(e)?Ua:Xf;return n&&$o(e,t,n)&&(t=void 0),r(e,ml(t))}var tp=bo((function(e,t){if(null==e)return[];var n=t.length;return n>1&&$o(e,t[0],t[1])?t=[]:n>2&&$o(t[0],t[1],t[2])&&(t=[t[0]]),gd(e,Mi(t,1),[])})),np=Math.floor,rp=Math.min;function op(e,t,n,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var s=(t=n(t))!=t,a=null===t,l=En(t),c=void 0===t;o<i;){var u=np((o+i)/2),h=n(e[u]),d=void 0!==h,f=null===h,p=h==h,m=En(h);if(s)var g=r||p;else g=c?p&&(r||d):a?p&&d&&(r||!f):l?p&&d&&!f&&(r||!m):!f&&!m&&(r?h<=t:h<t);g?o=u+1:i=u}return rp(i,4294967294)}function ip(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!En(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return op(e,t,Yn,n)}function sp(e,t){return ip(e,t)}function ap(e,t,n){return op(e,t,ml(n))}function lp(e,t){var n=null==e?0:e.length;if(n){var r=ip(e,t);if(r<n&&fo(e[r],t))return r}return-1}function cp(e,t){return ip(e,t,!0)}function up(e,t,n){return op(e,t,ml(n),!0)}function hp(e,t){if(null==e?0:e.length){var n=ip(e,t,!0)-1;if(fo(e[n],t))return n}return-1}function dp(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!fo(a,l)){var l=a;i[o++]=0===s?0:s}}return i}function fp(e){return e&&e.length?dp(e):[]}function pp(e,t){return e&&e.length?dp(e,ml(t)):[]}function mp(e,t,n){return n&&"number"!=typeof n&&$o(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ki(e))&&("string"==typeof t||null!=t&&!yh(t))&&!(t=zn(t))&&Zi(e)?Qi(cs(e),0,n):e.split(t,n):[]}var gp=Math.max;function vp(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=null==t?0:gp(Gn(t),0),bo((function(n){var r=n[t],o=Qi(n,0,t);return r&&Ei(o,r),yr(e,this,o)}))}var yp=Ds((function(e,t,n){return e+(n?" ":"")+hs(t)}));function bp(e,t,n){return e=ki(e),n=null==n?0:Gs(Gn(n),0,e.length),t=zn(t),e.slice(n,n+t.length)==t}function xp(){return{}}function wp(){return""}function $p(){return!0}var kp=Nn((function(e,t){return e-t}),0);function Sp(e){return e&&e.length?Vh(e,Yn):0}function Cp(e,t){return e&&e.length?Vh(e,ml(t)):0}function _p(e){var t=null==e?0:e.length;return t?Gi(e,1,t):[]}function Op(e,t,n){return e&&e.length?Gi(e,0,(t=n||void 0===t?1:Gn(t))<0?0:t):[]}function Pp(e,t,n){var r=null==e?0:e.length;return r?Gi(e,(t=r-(t=n||void 0===t?1:Gn(t)))<0?0:t,r):[]}function Ep(e,t){return e&&e.length?ac(e,ml(t),!1,!0):[]}function Ap(e,t){return e&&e.length?ac(e,ml(t)):[]}function jp(e,t){return t(e),e}var Mp=Object.prototype,Tp=Mp.hasOwnProperty;function Ip(e,t,n,r){return void 0===e||fo(e,Mp[n])&&!Tp.call(r,n)?t:e}var zp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Np(e){return"\\"+zp[e]}var Rp=/<%=([\s\S]+?)%>/g,Dp={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Rp,variable:"",imports:{_:{escape:Sc}}},Lp=/\b__p \+= '';/g,Bp=/\b(__p \+=) '' \+/g,Fp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qp=/[()=,{}\[\]\/\s]/,Vp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hp=/($^)/,Wp=/['\n\r\u2028\u2029\\]/g,Up=Object.prototype.hasOwnProperty;function Jp(e,t,n){var r=Dp.imports._.templateSettings||Dp;n&&$o(e,t,n)&&(t=void 0),e=ki(e),t=oi({},t,r,Ip);var o,i,s=oi({},t.imports,r.imports,Ip),a=Yo(s),l=_u(s,a),c=0,u=t.interpolate||Hp,h="__p += '",d=RegExp((t.escape||Hp).source+"|"+u.source+"|"+(u===Rp?Vp:Hp).source+"|"+(t.evaluate||Hp).source+"|$","g"),f=Up.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(d,(function(t,n,r,s,a,l){return r||(r=s),h+=e.slice(c,l).replace(Wp,Np),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(i=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),h+="';\n";var p=Up.call(t,"variable")&&t.variable;if(p){if(qp.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(i?h.replace(Lp,""):h).replace(Bp,"$1").replace(Fp,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Hi((function(){return Function(a,f+"return "+h).apply(void 0,l)}));if(m.source=h,Vi(m))throw m;return m}function Kp(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return qn(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Nl(e,t,{leading:r,maxWait:t,trailing:o})}function Gp(e,t){return t(e)}var Qp=Math.min;function Yp(e,t){if((e=Gn(e))<1||e>9007199254740991)return[];var n=4294967295,r=Qp(e,4294967295);e-=4294967295;for(var o=_o(r,t=uc(t));++n<e;)t(n);return o}function Zp(){return this}function Xp(e,t){var n=e;return n instanceof Cr&&(n=n.value()),fs(t,(function(e,t){return t.func.apply(t.thisArg,Ei([e],t.args))}),n)}function em(){return Xp(this.__wrapped__,this.__actions__)}function tm(e){return ki(e).toLowerCase()}function nm(e){return Mn(e)?jn(e,Ci):En(e)?[e]:Mr($i(ki(e)))}function rm(e){return e?Gs(Gn(e),-9007199254740991,9007199254740991):0===e?e:0}function om(e){return ki(e).toUpperCase()}function im(e,t,n){var r=Mn(e),o=r||No(e)||Ho(e);if(t=ml(t),null==n){var i=e&&e.constructor;n=o?r?new i:[]:qn(e)&&Zn(i)?gr(Ni(e)):{}}return(o?Ur:kl)(e,(function(e,r,o){return t(n,e,r,o)})),n}function sm(e,t){for(var n=e.length;n--&&Gr(t,e[n],0)>-1;);return n}function am(e,t){for(var n=-1,r=e.length;++n<r&&Gr(t,e[n],0)>-1;);return n}function lm(e,t,n){if((e=ki(e))&&(n||void 0===t))return Fn(e);if(!e||!(t=zn(t)))return e;var r=cs(e),o=cs(t);return Qi(r,am(r,o),sm(r,o)+1).join("")}function cm(e,t,n){if((e=ki(e))&&(n||void 0===t))return e.slice(0,Ln(e)+1);if(!e||!(t=zn(t)))return e;var r=cs(e);return Qi(r,0,sm(r,cs(t))+1).join("")}var um=/^\s+/;function hm(e,t,n){if((e=ki(e))&&(n||void 0===t))return e.replace(um,"");if(!e||!(t=zn(t)))return e;var r=cs(e);return Qi(r,am(r,cs(t))).join("")}var dm=/\w*$/;function fm(e,t){var n=30,r="...";if(qn(t)){var o="separator"in t?t.separator:o;n="length"in t?Gn(t.length):n,r="omission"in t?zn(t.omission):r}var i=(e=ki(e)).length;if(Zi(e)){var s=cs(e);i=s.length}if(n>=i)return e;var a=n-Dd(r);if(a<1)return r;var l=s?Qi(s,0,a).join(""):e.slice(0,a);if(void 0===o)return l+r;if(s&&(a+=l.length-a),yh(o)){if(e.slice(a).search(o)){var c,u=l;for(o.global||(o=RegExp(o.source,ki(dm.exec(o))+"g")),o.lastIndex=0;c=o.exec(u);)var h=c.index;l=l.slice(0,void 0===h?a:h)}}else if(e.indexOf(zn(o),a)!=a){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+r}function pm(e){return uo(e,1)}var mm=ps({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gm=/&(?:amp|lt|gt|quot|#39);/g,vm=RegExp(gm.source);function ym(e){return(e=ki(e))&&vm.test(e)?e.replace(gm,mm):e}var bm=ma&&1/Qa(new ma([,-0]))[1]==1/0?function(e){return new ma(e)}:_r;function xm(e,t,n){var r=-1,o=Qr,i=e.length,s=!0,a=[],l=a;if(n)s=!1,o=Zl;else if(i>=200){var c=t?null:bm(e);if(c)return Qa(c);s=!1,o=Ja,l=new Wa}else l=t?[]:a;e:for(;++r<i;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(u)}else o(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}var wm=bo((function(e){return xm(Mi(e,1,ql,!0))})),$m=bo((function(e){var t=tc(e);return ql(t)&&(t=void 0),xm(Mi(e,1,ql,!0),ml(t))})),km=bo((function(e){var t=tc(e);return t="function"==typeof t?t:void 0,xm(Mi(e,1,ql,!0),void 0,t)}));function Sm(e){return e&&e.length?xm(e):[]}function Cm(e,t){return e&&e.length?xm(e,ml(t)):[]}function _m(e,t){return t="function"==typeof t?t:void 0,e&&e.length?xm(e,void 0,t):[]}var Om=0;function Pm(e){var t=++Om;return ki(e)+t}function Em(e,t){return null==e||ad(e,t)}var Am=Math.max;function jm(e){if(!e||!e.length)return[];var t=0;return e=oa(e,(function(e){if(ql(e))return t=Am(e.length,t),!0})),_o(t,(function(t){return jn(e,fl(t))}))}function Mm(e,t){if(!e||!e.length)return[];var n=jm(e);return null==t?n:jn(n,(function(e){return yr(t,void 0,e)}))}function Tm(e,t,n,r){return ud(e,t,n(_i(e,t)),r)}function Im(e,t,n){return null==e?e:Tm(e,t,uc(n))}function zm(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Tm(e,t,uc(n),r)}var Nm=Ds((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}));function Rm(e){return null==e?[]:_u(e,ni(e))}var Dm=bo((function(e,t){return ql(e)?Xl(e,t):[]}));function Lm(e,t){return Gd(uc(t),e)}var Bm=Ii((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Pi(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Cr&&no(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Gp,args:[o],thisArg:void 0}),new jr(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(o)}));function Fm(){return Ws(this)}function qm(){var e=this.__wrapped__;if(e instanceof Cr){var t=e;return this.__actions__.length&&(t=new Cr(this)),(t=t.reverse()).__actions__.push({func:Gp,args:[Nf],thisArg:void 0}),new jr(t,this.__chain__)}return this.thru(Nf)}function Vm(e,t,n){var r=e.length;if(r<2)return r?xm(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=Xl(i[o]||s,e[a],t,n));return xm(Mi(i,1),t,n)}var Hm=bo((function(e){return Vm(oa(e,ql))})),Wm=bo((function(e){var t=tc(e);return ql(t)&&(t=void 0),Vm(oa(e,ql),ml(t))})),Um=bo((function(e){var t=tc(e);return t="function"==typeof t?t:void 0,Vm(oa(e,ql),void 0,t)})),Jm=bo(jm);function Km(e,t,n){for(var r=-1,o=e.length,i=t.length,s={};++r<o;){var a=r<i?t[r]:void 0;n(s,e[r],a)}return s}function Gm(e,t){return Km(e||[],t||[],mo)}function Qm(e,t){return Km(e||[],t||[],ud)}var Ym=bo((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Mm(e,n)})),Zm={chunk:Ks,compact:Va,concat:Ha,difference:ec,differenceBy:nc,differenceWith:rc,drop:ic,dropRight:sc,dropRightWhile:lc,dropWhile:cc,fill:Mc,findIndex:Rc,findLastIndex:Vc,first:Uc,flatten:Ti,flattenDeep:Zc,flattenDepth:Xc,fromPairs:cu,head:Uc,indexOf:ju,initial:Mu,intersection:Nu,intersectionBy:Ru,intersectionWith:Du,join:Ch,last:tc,lastIndexOf:Ah,nth:id,pull:sf,pullAll:of,pullAllBy:af,pullAllWith:lf,pullAt:hf,remove:Af,reverse:Nf,slice:Yf,sortedIndex:sp,sortedIndexBy:ap,sortedIndexOf:lp,sortedLastIndex:cp,sortedLastIndexBy:up,sortedLastIndexOf:hp,sortedUniq:fp,sortedUniqBy:pp,tail:_p,take:Op,takeRight:Pp,takeRightWhile:Ep,takeWhile:Ap,union:wm,unionBy:$m,unionWith:km,uniq:Sm,uniqBy:Cm,uniqWith:_m,unzip:jm,unzipWith:Mm,without:Dm,xor:Hm,xorBy:Wm,xorWith:Um,zip:Jm,zipObject:Gm,zipObjectDeep:Qm,zipWith:Ym},Xm={countBy:El,each:hc,eachRight:gc,every:Ac,filter:Ic,find:Dc,findLast:Hc,flatMap:Gc,flatMapDeep:Qc,flatMapDepth:Yc,forEach:hc,forEachRight:gc,groupBy:pu,includes:Eu,invokeMap:Gu,keyBy:Oh,map:Kc,orderBy:vd,partition:Yd,reduce:_f,reduceRight:Pf,reject:Ef,sample:Bf,sampleSize:Hf,shuffle:Gf,size:Qf,some:ep,sortBy:tp},eg=Tl,tg={after:Qn,ary:uo,before:Wi,bind:Ui,bindKey:Ki,curry:jl,curryRight:Ml,debounce:Nl,defer:Ql,delay:Yl,flip:eu,memoize:bi,negate:ed,once:pd,overArgs:$d,partial:Gd,partialRight:Qd,rearg:Sf,rest:Tf,spread:vp,throttle:Kp,unary:pm,wrap:Lm},ng={castArray:Bs,clone:Da,cloneDeep:La,cloneDeepWith:Ba,cloneWith:Fa,conformsTo:bl,eq:fo,gt:vu,gte:yu,isArguments:jo,isArray:Mn,isArrayBuffer:Yu,isArrayLike:wo,isArrayLikeObject:ql,isBoolean:Zu,isBuffer:No,isDate:eh,isElement:th,isEmpty:rh,isEqual:oh,isEqualWith:ih,isError:Vi,isFinite:ah,isFunction:Zn,isInteger:lh,isLength:xo,isMap:Ta,isMatch:ch,isMatchWith:uh,isNaN:dh,isNative:ph,isNil:mh,isNull:gh,isNumber:hh,isObject:qn,isObjectLike:Pn,isPlainObject:qi,isRegExp:yh,isSafeInteger:bh,isSet:za,isString:Cu,isSymbol:En,isTypedArray:Ho,isUndefined:xh,isWeakMap:wh,isWeakSet:$h,lt:Ih,lte:zh,toArray:nd,toFinite:Kn,toInteger:Gn,toLength:jc,toNumber:Jn,toPlainObject:Hl,toSafeInteger:rm,toString:ki},rg={add:Rn,ceil:Hs,divide:oc,floor:tu,max:Fh,maxBy:qh,mean:Wh,meanBy:Uh,min:Qh,minBy:Yh,multiply:Xh,round:Rf,subtract:kp,sum:Sp,sumBy:Cp},og=Qs,ig=Su,sg=yf,ag={assign:Xo,assignIn:ri,assignInWith:oi,assignWith:ii,at:zi,create:Al,defaults:Bl,defaultsDeep:Kl,entries:bc,entriesIn:xc,extend:ri,extendWith:oi,findKey:Bc,findLastKey:Wc,forIn:iu,forInRight:su,forOwn:au,forOwnRight:lu,functions:hu,functionsIn:du,get:Oi,has:wu,hasIn:hl,invert:Fu,invertBy:Wu,invoke:Ku,keys:Yo,keysIn:ni,mapKeys:Nh,mapValues:Rh,merge:Jh,mergeWith:Jl,omit:cd,omitBy:fd,pick:Zd,pickBy:dd,result:If,set:Wf,setWith:Uf,toPairs:bc,toPairsIn:xc,transform:im,unset:Em,update:Im,updateWith:zm,values:Ou,valuesIn:Rm},lg={at:Bm,chain:Ws,commit:qa,lodash:zr,next:rd,plant:Xd,reverse:qm,tap:jp,thru:Gp,toIterator:Zp,toJSON:em,value:em,valueOf:em,wrapperChain:Fm},cg={camelCase:Ls,capitalize:ds,deburr:ys,endsWith:vc,escape:Sc,escapeRegExp:Oc,kebabCase:_h,lowerCase:jh,lowerFirst:Mh,pad:Vd,padEnd:Hd,padStart:Wd,parseInt:Kd,repeat:jf,replace:Mf,snakeCase:Zf,split:mp,startCase:yp,startsWith:bp,template:Jp,templateSettings:Dp,toLower:tm,toUpper:om,trim:lm,trimEnd:cm,trimStart:hm,truncate:fm,unescape:ym,upperCase:Nm,upperFirst:hs,words:Ns},ug={attempt:Hi,bindAll:Ji,cond:gl,conforms:yl,constant:Vr,defaultTo:Rl,flow:ru,flowRight:ou,identity:Yn,iteratee:kh,matches:Dh,matchesProperty:Lh,method:Kh,methodOf:Gh,mixin:Zh,noop:_r,nthArg:sd,over:bd,overEvery:kd,overSome:Sd,property:pl,propertyOf:ef,range:$f,rangeRight:kf,stubArray:ia,stubFalse:Mo,stubObject:xp,stubString:wp,stubTrue:$p,times:Yp,toPath:nm,uniqueId:Pm};var hg=Math.max,dg=Math.min;var fg=Math.min;
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var pg,mg=Array.prototype,gg=Object.prototype.hasOwnProperty,vg=xn?xn.iterator:void 0,yg=Math.max,bg=Math.min,xg=function(e){return function(t,n,r){if(null==r){var o=qn(n),i=o&&Yo(n),s=i&&i.length&&uu(n,i);(s?s.length:o)||(r=n,n=t,t=this)}return e(t,n,r)}}(Zh);zr.after=tg.after,zr.ary=tg.ary,zr.assign=ag.assign,zr.assignIn=ag.assignIn,zr.assignInWith=ag.assignInWith,zr.assignWith=ag.assignWith,zr.at=ag.at,zr.before=tg.before,zr.bind=tg.bind,zr.bindAll=ug.bindAll,zr.bindKey=tg.bindKey,zr.castArray=ng.castArray,zr.chain=lg.chain,zr.chunk=Zm.chunk,zr.compact=Zm.compact,zr.concat=Zm.concat,zr.cond=ug.cond,zr.conforms=ug.conforms,zr.constant=ug.constant,zr.countBy=Xm.countBy,zr.create=ag.create,zr.curry=tg.curry,zr.curryRight=tg.curryRight,zr.debounce=tg.debounce,zr.defaults=ag.defaults,zr.defaultsDeep=ag.defaultsDeep,zr.defer=tg.defer,zr.delay=tg.delay,zr.difference=Zm.difference,zr.differenceBy=Zm.differenceBy,zr.differenceWith=Zm.differenceWith,zr.drop=Zm.drop,zr.dropRight=Zm.dropRight,zr.dropRightWhile=Zm.dropRightWhile,zr.dropWhile=Zm.dropWhile,zr.fill=Zm.fill,zr.filter=Xm.filter,zr.flatMap=Xm.flatMap,zr.flatMapDeep=Xm.flatMapDeep,zr.flatMapDepth=Xm.flatMapDepth,zr.flatten=Zm.flatten,zr.flattenDeep=Zm.flattenDeep,zr.flattenDepth=Zm.flattenDepth,zr.flip=tg.flip,zr.flow=ug.flow,zr.flowRight=ug.flowRight,zr.fromPairs=Zm.fromPairs,zr.functions=ag.functions,zr.functionsIn=ag.functionsIn,zr.groupBy=Xm.groupBy,zr.initial=Zm.initial,zr.intersection=Zm.intersection,zr.intersectionBy=Zm.intersectionBy,zr.intersectionWith=Zm.intersectionWith,zr.invert=ag.invert,zr.invertBy=ag.invertBy,zr.invokeMap=Xm.invokeMap,zr.iteratee=ug.iteratee,zr.keyBy=Xm.keyBy,zr.keys=Yo,zr.keysIn=ag.keysIn,zr.map=Xm.map,zr.mapKeys=ag.mapKeys,zr.mapValues=ag.mapValues,zr.matches=ug.matches,zr.matchesProperty=ug.matchesProperty,zr.memoize=tg.memoize,zr.merge=ag.merge,zr.mergeWith=ag.mergeWith,zr.method=ug.method,zr.methodOf=ug.methodOf,zr.mixin=xg,zr.negate=ed,zr.nthArg=ug.nthArg,zr.omit=ag.omit,zr.omitBy=ag.omitBy,zr.once=tg.once,zr.orderBy=Xm.orderBy,zr.over=ug.over,zr.overArgs=tg.overArgs,zr.overEvery=ug.overEvery,zr.overSome=ug.overSome,zr.partial=tg.partial,zr.partialRight=tg.partialRight,zr.partition=Xm.partition,zr.pick=ag.pick,zr.pickBy=ag.pickBy,zr.property=ug.property,zr.propertyOf=ug.propertyOf,zr.pull=Zm.pull,zr.pullAll=Zm.pullAll,zr.pullAllBy=Zm.pullAllBy,zr.pullAllWith=Zm.pullAllWith,zr.pullAt=Zm.pullAt,zr.range=ug.range,zr.rangeRight=ug.rangeRight,zr.rearg=tg.rearg,zr.reject=Xm.reject,zr.remove=Zm.remove,zr.rest=tg.rest,zr.reverse=Zm.reverse,zr.sampleSize=Xm.sampleSize,zr.set=ag.set,zr.setWith=ag.setWith,zr.shuffle=Xm.shuffle,zr.slice=Zm.slice,zr.sortBy=Xm.sortBy,zr.sortedUniq=Zm.sortedUniq,zr.sortedUniqBy=Zm.sortedUniqBy,zr.split=cg.split,zr.spread=tg.spread,zr.tail=Zm.tail,zr.take=Zm.take,zr.takeRight=Zm.takeRight,zr.takeRightWhile=Zm.takeRightWhile,zr.takeWhile=Zm.takeWhile,zr.tap=lg.tap,zr.throttle=tg.throttle,zr.thru=Gp,zr.toArray=ng.toArray,zr.toPairs=ag.toPairs,zr.toPairsIn=ag.toPairsIn,zr.toPath=ug.toPath,zr.toPlainObject=ng.toPlainObject,zr.transform=ag.transform,zr.unary=tg.unary,zr.union=Zm.union,zr.unionBy=Zm.unionBy,zr.unionWith=Zm.unionWith,zr.uniq=Zm.uniq,zr.uniqBy=Zm.uniqBy,zr.uniqWith=Zm.uniqWith,zr.unset=ag.unset,zr.unzip=Zm.unzip,zr.unzipWith=Zm.unzipWith,zr.update=ag.update,zr.updateWith=ag.updateWith,zr.values=ag.values,zr.valuesIn=ag.valuesIn,zr.without=Zm.without,zr.words=cg.words,zr.wrap=tg.wrap,zr.xor=Zm.xor,zr.xorBy=Zm.xorBy,zr.xorWith=Zm.xorWith,zr.zip=Zm.zip,zr.zipObject=Zm.zipObject,zr.zipObjectDeep=Zm.zipObjectDeep,zr.zipWith=Zm.zipWith,zr.entries=ag.toPairs,zr.entriesIn=ag.toPairsIn,zr.extend=ag.assignIn,zr.extendWith=ag.assignInWith,xg(zr,zr),zr.add=rg.add,zr.attempt=ug.attempt,zr.camelCase=cg.camelCase,zr.capitalize=cg.capitalize,zr.ceil=rg.ceil,zr.clamp=og,zr.clone=ng.clone,zr.cloneDeep=ng.cloneDeep,zr.cloneDeepWith=ng.cloneDeepWith,zr.cloneWith=ng.cloneWith,zr.conformsTo=ng.conformsTo,zr.deburr=cg.deburr,zr.defaultTo=ug.defaultTo,zr.divide=rg.divide,zr.endsWith=cg.endsWith,zr.eq=ng.eq,zr.escape=cg.escape,zr.escapeRegExp=cg.escapeRegExp,zr.every=Xm.every,zr.find=Xm.find,zr.findIndex=Zm.findIndex,zr.findKey=ag.findKey,zr.findLast=Xm.findLast,zr.findLastIndex=Zm.findLastIndex,zr.findLastKey=ag.findLastKey,zr.floor=rg.floor,zr.forEach=Xm.forEach,zr.forEachRight=Xm.forEachRight,zr.forIn=ag.forIn,zr.forInRight=ag.forInRight,zr.forOwn=ag.forOwn,zr.forOwnRight=ag.forOwnRight,zr.get=ag.get,zr.gt=ng.gt,zr.gte=ng.gte,zr.has=ag.has,zr.hasIn=ag.hasIn,zr.head=Zm.head,zr.identity=Yn,zr.includes=Xm.includes,zr.indexOf=Zm.indexOf,zr.inRange=ig,zr.invoke=ag.invoke,zr.isArguments=ng.isArguments,zr.isArray=Mn,zr.isArrayBuffer=ng.isArrayBuffer,zr.isArrayLike=ng.isArrayLike,zr.isArrayLikeObject=ng.isArrayLikeObject,zr.isBoolean=ng.isBoolean,zr.isBuffer=ng.isBuffer,zr.isDate=ng.isDate,zr.isElement=ng.isElement,zr.isEmpty=ng.isEmpty,zr.isEqual=ng.isEqual,zr.isEqualWith=ng.isEqualWith,zr.isError=ng.isError,zr.isFinite=ng.isFinite,zr.isFunction=ng.isFunction,zr.isInteger=ng.isInteger,zr.isLength=ng.isLength,zr.isMap=ng.isMap,zr.isMatch=ng.isMatch,zr.isMatchWith=ng.isMatchWith,zr.isNaN=ng.isNaN,zr.isNative=ng.isNative,zr.isNil=ng.isNil,zr.isNull=ng.isNull,zr.isNumber=ng.isNumber,zr.isObject=qn,zr.isObjectLike=ng.isObjectLike,zr.isPlainObject=ng.isPlainObject,zr.isRegExp=ng.isRegExp,zr.isSafeInteger=ng.isSafeInteger,zr.isSet=ng.isSet,zr.isString=ng.isString,zr.isSymbol=ng.isSymbol,zr.isTypedArray=ng.isTypedArray,zr.isUndefined=ng.isUndefined,zr.isWeakMap=ng.isWeakMap,zr.isWeakSet=ng.isWeakSet,zr.join=Zm.join,zr.kebabCase=cg.kebabCase,zr.last=tc,zr.lastIndexOf=Zm.lastIndexOf,zr.lowerCase=cg.lowerCase,zr.lowerFirst=cg.lowerFirst,zr.lt=ng.lt,zr.lte=ng.lte,zr.max=rg.max,zr.maxBy=rg.maxBy,zr.mean=rg.mean,zr.meanBy=rg.meanBy,zr.min=rg.min,zr.minBy=rg.minBy,zr.stubArray=ug.stubArray,zr.stubFalse=ug.stubFalse,zr.stubObject=ug.stubObject,zr.stubString=ug.stubString,zr.stubTrue=ug.stubTrue,zr.multiply=rg.multiply,zr.nth=Zm.nth,zr.noop=ug.noop,zr.now=eg,zr.pad=cg.pad,zr.padEnd=cg.padEnd,zr.padStart=cg.padStart,zr.parseInt=cg.parseInt,zr.random=sg,zr.reduce=Xm.reduce,zr.reduceRight=Xm.reduceRight,zr.repeat=cg.repeat,zr.replace=cg.replace,zr.result=ag.result,zr.round=rg.round,zr.sample=Xm.sample,zr.size=Xm.size,zr.snakeCase=cg.snakeCase,zr.some=Xm.some,zr.sortedIndex=Zm.sortedIndex,zr.sortedIndexBy=Zm.sortedIndexBy,zr.sortedIndexOf=Zm.sortedIndexOf,zr.sortedLastIndex=Zm.sortedLastIndex,zr.sortedLastIndexBy=Zm.sortedLastIndexBy,zr.sortedLastIndexOf=Zm.sortedLastIndexOf,zr.startCase=cg.startCase,zr.startsWith=cg.startsWith,zr.subtract=rg.subtract,zr.sum=rg.sum,zr.sumBy=rg.sumBy,zr.template=cg.template,zr.times=ug.times,zr.toFinite=ng.toFinite,zr.toInteger=Gn,zr.toLength=ng.toLength,zr.toLower=cg.toLower,zr.toNumber=ng.toNumber,zr.toSafeInteger=ng.toSafeInteger,zr.toString=ng.toString,zr.toUpper=cg.toUpper,zr.trim=cg.trim,zr.trimEnd=cg.trimEnd,zr.trimStart=cg.trimStart,zr.truncate=cg.truncate,zr.unescape=cg.unescape,zr.uniqueId=ug.uniqueId,zr.upperCase=cg.upperCase,zr.upperFirst=cg.upperFirst,zr.each=Xm.forEach,zr.eachRight=Xm.forEachRight,zr.first=Zm.head,xg(zr,(pg={},kl(zr,(function(e,t){gg.call(zr.prototype,t)||(pg[t]=e)})),pg),{chain:!1}),zr.VERSION="4.17.21",(zr.templateSettings=cg.templateSettings).imports._=zr,Ur(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zr[e].placeholder=zr})),Ur(["drop","take"],(function(e,t){Cr.prototype[e]=function(n){n=void 0===n?1:yg(Gn(n),0);var r=this.__filtered__&&!t?new Cr(this):this.clone();return r.__filtered__?r.__takeCount__=bg(n,r.__takeCount__):r.__views__.push({size:bg(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Cr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ur(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Cr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ml(e),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ur(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Cr.prototype[e]=function(){return this[n](1).value()[0]}})),Ur(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Cr.prototype[e]=function(){return this.__filtered__?new Cr(this):this[n](1)}})),Cr.prototype.compact=function(){return this.filter(Yn)},Cr.prototype.find=function(e){return this.filter(e).head()},Cr.prototype.findLast=function(e){return this.reverse().find(e)},Cr.prototype.invokeMap=bo((function(e,t){return"function"==typeof e?new Cr(this):this.map((function(n){return Ju(n,e,t)}))})),Cr.prototype.reject=function(e){return this.filter(ed(ml(e)))},Cr.prototype.slice=function(e,t){e=Gn(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Cr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=Gn(t))<0?n.dropRight(-t):n.take(t-e)),n)},Cr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Cr.prototype.toArray=function(){return this.take(4294967295)},kl(Cr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=zr[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(zr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,a=t instanceof Cr,l=s[0],c=a||Mn(t),u=function(e){var t=o.apply(zr,Ei([e],s));return r&&h?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(a=c=!1);var h=this.__chain__,d=!!this.__actions__.length,f=i&&!h,p=a&&!d;if(!i&&c){t=p?t:new Cr(this);var m=e.apply(t,s);return m.__actions__.push({func:Gp,args:[u],thisArg:void 0}),new jr(m,h)}return f&&p?e.apply(this,s):(m=this.thru(u),f?r?m.value()[0]:m.value():m)})})),Ur(["pop","push","shift","sort","splice","unshift"],(function(e){var t=mg[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Mn(o)?o:[],e)}return this[n]((function(n){return t.apply(Mn(n)?n:[],e)}))}})),kl(Cr.prototype,(function(e,t){var n=zr[t];if(n){var r=n.name+"";gg.call(Pr,r)||(Pr[r]=[]),Pr[r].push({name:t,func:n})}})),Pr[so(void 0,2).name]=[{name:"wrapper",func:void 0}],Cr.prototype.clone=function(){var e=new Cr(this.__wrapped__);return e.__actions__=Mr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Mr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Mr(this.__views__),e},Cr.prototype.reverse=function(){if(this.__filtered__){var e=new Cr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Cr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Mn(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=dg(t,e+s);break;case"takeRight":e=hg(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,h=u.length,d=0,f=fg(l,this.__takeCount__);if(!n||!r&&o==l&&f==l)return Xp(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var m=-1,g=e[c+=t];++m<h;){var v=u[m],y=v.iteratee,b=v.type,x=y(g);if(2==b)g=x;else if(!x){if(1==b)continue e;break e}}p[d++]=g}return p},zr.prototype.at=lg.at,zr.prototype.chain=lg.wrapperChain,zr.prototype.commit=lg.commit,zr.prototype.next=lg.next,zr.prototype.plant=lg.plant,zr.prototype.reverse=lg.reverse,zr.prototype.toJSON=zr.prototype.valueOf=zr.prototype.value=lg.value,zr.prototype.first=zr.prototype.head,vg&&(zr.prototype[vg]=lg.toIterator)
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */;var wg=Object.freeze({__proto__:null,add:Rn,after:Qn,ary:uo,assign:Xo,assignIn:ri,assignInWith:oi,assignWith:ii,at:zi,attempt:Hi,before:Wi,bind:Ui,bindAll:Ji,bindKey:Ki,camelCase:Ls,capitalize:ds,castArray:Bs,ceil:Hs,chain:Ws,chunk:Ks,clamp:Qs,clone:Da,cloneDeep:La,cloneDeepWith:Ba,cloneWith:Fa,commit:qa,compact:Va,concat:Ha,cond:gl,conforms:yl,conformsTo:bl,constant:Vr,countBy:El,create:Al,curry:jl,curryRight:Ml,debounce:Nl,deburr:ys,defaultTo:Rl,defaults:Bl,defaultsDeep:Kl,defer:Ql,delay:Yl,difference:ec,differenceBy:nc,differenceWith:rc,divide:oc,drop:ic,dropRight:sc,dropRightWhile:lc,dropWhile:cc,each:hc,eachRight:gc,endsWith:vc,entries:bc,entriesIn:xc,eq:fo,escape:Sc,escapeRegExp:Oc,every:Ac,extend:ri,extendWith:oi,fill:Mc,filter:Ic,find:Dc,findIndex:Rc,findKey:Bc,findLast:Hc,findLastIndex:Vc,findLastKey:Wc,first:Uc,flatMap:Gc,flatMapDeep:Qc,flatMapDepth:Yc,flatten:Ti,flattenDeep:Zc,flattenDepth:Xc,flip:eu,floor:tu,flow:ru,flowRight:ou,forEach:hc,forEachRight:gc,forIn:iu,forInRight:su,forOwn:au,forOwnRight:lu,fromPairs:cu,functions:hu,functionsIn:du,get:Oi,groupBy:pu,gt:vu,gte:yu,has:wu,hasIn:hl,head:Uc,identity:Yn,inRange:Su,includes:Eu,indexOf:ju,initial:Mu,intersection:Nu,intersectionBy:Ru,intersectionWith:Du,invert:Fu,invertBy:Wu,invoke:Ku,invokeMap:Gu,isArguments:jo,isArray:Mn,isArrayBuffer:Yu,isArrayLike:wo,isArrayLikeObject:ql,isBoolean:Zu,isBuffer:No,isDate:eh,isElement:th,isEmpty:rh,isEqual:oh,isEqualWith:ih,isError:Vi,isFinite:ah,isFunction:Zn,isInteger:lh,isLength:xo,isMap:Ta,isMatch:ch,isMatchWith:uh,isNaN:dh,isNative:ph,isNil:mh,isNull:gh,isNumber:hh,isObject:qn,isObjectLike:Pn,isPlainObject:qi,isRegExp:yh,isSafeInteger:bh,isSet:za,isString:Cu,isSymbol:En,isTypedArray:Ho,isUndefined:xh,isWeakMap:wh,isWeakSet:$h,iteratee:kh,join:Ch,kebabCase:_h,keyBy:Oh,keys:Yo,keysIn:ni,last:tc,lastIndexOf:Ah,lodash:zr,lowerCase:jh,lowerFirst:Mh,lt:Ih,lte:zh,map:Kc,mapKeys:Nh,mapValues:Rh,matches:Dh,matchesProperty:Lh,max:Fh,maxBy:qh,mean:Wh,meanBy:Uh,memoize:bi,merge:Jh,mergeWith:Jl,method:Kh,methodOf:Gh,min:Qh,minBy:Yh,mixin:Zh,multiply:Xh,negate:ed,next:rd,noop:_r,now:Tl,nth:id,nthArg:sd,omit:cd,omitBy:fd,once:pd,orderBy:vd,over:bd,overArgs:$d,overEvery:kd,overSome:Sd,pad:Vd,padEnd:Hd,padStart:Wd,parseInt:Kd,partial:Gd,partialRight:Qd,partition:Yd,pick:Zd,pickBy:dd,plant:Xd,property:pl,propertyOf:ef,pull:sf,pullAll:of,pullAllBy:af,pullAllWith:lf,pullAt:hf,random:yf,range:$f,rangeRight:kf,rearg:Sf,reduce:_f,reduceRight:Pf,reject:Ef,remove:Af,repeat:jf,replace:Mf,rest:Tf,result:If,reverse:Nf,round:Rf,sample:Bf,sampleSize:Hf,set:Wf,setWith:Uf,shuffle:Gf,size:Qf,slice:Yf,snakeCase:Zf,some:ep,sortBy:tp,sortedIndex:sp,sortedIndexBy:ap,sortedIndexOf:lp,sortedLastIndex:cp,sortedLastIndexBy:up,sortedLastIndexOf:hp,sortedUniq:fp,sortedUniqBy:pp,split:mp,spread:vp,startCase:yp,startsWith:bp,stubArray:ia,stubFalse:Mo,stubObject:xp,stubString:wp,stubTrue:$p,subtract:kp,sum:Sp,sumBy:Cp,tail:_p,take:Op,takeRight:Pp,takeRightWhile:Ep,takeWhile:Ap,tap:jp,template:Jp,templateSettings:Dp,throttle:Kp,thru:Gp,times:Yp,toArray:nd,toFinite:Kn,toInteger:Gn,toIterator:Zp,toJSON:em,toLength:jc,toLower:tm,toNumber:Jn,toPairs:bc,toPairsIn:xc,toPath:nm,toPlainObject:Hl,toSafeInteger:rm,toString:ki,toUpper:om,transform:im,trim:lm,trimEnd:cm,trimStart:hm,truncate:fm,unary:pm,unescape:ym,union:wm,unionBy:$m,unionWith:km,uniq:Sm,uniqBy:Cm,uniqWith:_m,uniqueId:Pm,unset:Em,unzip:jm,unzipWith:Mm,update:Im,updateWith:zm,upperCase:Nm,upperFirst:hs,value:em,valueOf:em,values:Ou,valuesIn:Rm,without:Dm,words:Ns,wrap:Lm,wrapperAt:Bm,wrapperChain:Fm,wrapperCommit:qa,wrapperLodash:zr,wrapperNext:rd,wrapperPlant:Xd,wrapperReverse:qm,wrapperToIterator:Zp,wrapperValue:em,xor:Hm,xorBy:Wm,xorWith:Um,zip:Jm,zipObject:Gm,zipObjectDeep:Qm,zipWith:Ym,default:zr});function $g(e,t){const n=Ct.exports.parseJSONPointer(t);for(let t=0;t<n.length;t++){const r=n[t];if(kg.exec(r)){const o=n.slice(0,t),i=Ct.exports.getIn(e,o);Array.isArray(i)&&(n[t]=parseInt(r))}}return n}const kg=/^\d+$/;function Sg(e){const t=tp(e,(e=>e.start)),n=[t[0]];for(let e=0;e<t.length;e++){const r=n.length-1,o=n[r],i=t[e];i.start<=o.end?n[r]={start:Math.min(o.start,i.start),end:Math.max(o.end,i.end)}:n.push(i)}return n}function Cg(e,t){return e.some((e=>t>=e.start&&t<e.end))}function _g(e){return Og(e)+100}function Og(e){return 100*Math.floor(e/100)}function Pg(e,t,n,r,o=!1){const i=Array.isArray(e)?[]:{};return i[ot]=t&&t[ot]?t[ot]:Pm(),Vt(e)?(i[at]=function(e,t){if(!t)return Object.keys(e);const n=t.filter((t=>void 0!==e[t])),r=new Set(n);return Object.keys(e).filter((e=>!r.has(e))).forEach((e=>n.push(e))),n}(e,t&&t[at]),i[it]=t&&!o?t[it]:r(n),i[it]&&Object.keys(e).forEach((s=>{const a=e[s],l=t&&t[s];i[s]=Pg(a,l,n.concat(s),r,o)}))):Array.isArray(e)?(i[it]=t&&!o?t[it]:r(n),i[st]=t&&i[it]&&t[st]||ft,i[it]&&i[st].forEach((({start:s,end:a})=>{Xt(s,Math.min(e.length,a),(s=>{const a=e[s],l=t&&t[s];i[s]=Pg(a,l,n.concat(s),r,o)}))}))):t&&void 0!==t[ut]?i[ut]=t[ut]:Qt(e)&&(i[ut]=!0),i}function Eg(e){if(Array.isArray(e)){const e=[];return e[ot]=Pm(),e[it]=!1,e[st]=ft,e}if(Vt(e)){const t={};return t[ot]=Pm(),t[it]=!1,t[at]=Object.keys(e),t}const t={[ot]:Pm()};return Qt(e)&&(t[ut]=!0),t}function Ag(e,t,n){t[st].forEach((({start:t,end:r})=>{Xt(t,Math.min(e.length,r),n)}))}function jg(e,t){e[at].forEach((e=>t(e)))}function Mg(e,t,n){let r=t;for(let t=0;t<n.length;t++){const o=n.slice(0,t),i=o.concat(it);if(r=Ct.exports.setIn(r,i,!0,!0),Array.isArray(Ct.exports.getIn(r,o))){const e=n[t],i=o.concat(st),s=Ct.exports.getIn(r,i)||ft;if(!Cg(s,e)){const t=Og(e),n={start:t,end:_g(t)},o=Sg(s.concat(n));r=Ct.exports.setIn(r,i,o)}}const s=Ct.exports.getIn(e,o);r=Ct.exports.updateIn(r,o,(e=>Pg(s,e,[],(()=>!1))))}return r}function Tg(e,t,n){const r=Ct.exports.immutableJSONPatch(e,n),o=function(e,t,n){let r=t;function o(e,t,n){let r=t;return Ct.exports.existsIn(e,n)&&!Ct.exports.existsIn(r,n)&&(n.length>0&&(r=o(e,r,Mu(n))),r=Ct.exports.setIn(r,n,Eg(Ct.exports.getIn(e,n)))),r}return n.forEach((t=>{const n="string"==typeof t.from?$g(e,t.from):null,i="string"==typeof t.path?$g(e,t.path):null;"add"===t.op&&(r=o(e,r,Mu(i))),"copy"!==t.op&&"move"!==t.op||(r=o(e,r,n),r=o(e,r,Mu(i))),"remove"!==t.op&&"replace"!==t.op&&"test"!==t.op||(r=o(e,r,i))})),r}(e,t,n);return{json:r,state:Ct.exports.immutableJSONPatch(o,n,{before:function(e,t){const{op:n,path:r,from:o}=t,i=Mu(r);let s=e,a=t;if(void 0!==t.value&&(a={...a,value:Eg(t.value)}),"add"===n||"copy"===n){const t=zg(e,i);if(t){const e=tc(r);t.includes(e)||(s=Rg(s,i,e))}s=Ig(s,r,1)}if("move"===n){const t=Mu(r),n=zg(s,t),i=tc(o),l=tc(r);if(oh(Mu(o),Mu(r)))n&&(i!==l?(s=Ng(s,t,l),s=function(e,t,n,r){return Ct.exports.updateIn(e,t.concat([at]),(e=>{const t=e.indexOf(n);if(-1===t)return e;const o=e.slice(0);return o.splice(t,1,r),o}))}(s,t,i,l)):(s=Ng(s,t,l),s=Rg(s,t,l)));else{const e=Mu(o);zg(s,e)&&(s=Ng(s,e,i)),n&&(s=Rg(s,t,l))}s=Ig(s,o,-1),s=Ig(s,r,1);const c=Ct.exports.getIn(e,o);a={...a,value:c}}if("remove"===n){const e=Mu(r);if(zg(s,e)){s=Ng(s,e,tc(r))}else s=Ig(s,r,-1)}if("replace"===n){const e=Mu(r),t=zg(s,e);if(t){const n=tc(r);t.includes(n)||(s=Rg(s,e,n))}}return{json:s,operation:a}},after:function(e,t){const{op:n,path:r}=t;let o=e;return"copy"===n&&Ct.exports.existsIn(o,r.concat([ot]))&&(o=Ct.exports.setIn(o,r.concat([ot]),Pm())),o}})}}function Ig(e,t,n){const r=Mu(t).concat([st]),o=Ct.exports.getIn(e,r);if(!o)return e;const i=parseInt(tc(t),10),s=o.map((e=>({start:e.start>i?e.start+n:e.start,end:e.end>=i?e.end+n:e.end})));return Ct.exports.setIn(e,r,s)}function zg(e,t){return Ct.exports.getIn(e,t.concat([at]))}function Ng(e,t,n){return Ct.exports.updateIn(e,t.concat([at]),(e=>{const t=e.indexOf(n);if(-1===t)return e;const r=e.slice(0);return r.splice(t,1),r}))}function Rg(e,t,n){return Ct.exports.updateIn(e,t.concat([at]),(e=>e.concat(n)))}function Dg(e,t,n=!1){const r=e.indexOf(t);return-1!==r?n?e.slice(r):e.slice(r+1):[]}function Lg(e,t){const n=[];return function e(t,r,o){n.push(o),t&&r&&!0===r[it]&&(Array.isArray(t)?Ag(t,r,(n=>{e(t[n],r[n],o.concat(n))})):jg(r,(n=>{e(t[n],r[n],o.concat(n))})))}(e,t,[]),n}const Bg="inside",Fg="after",qg="key",Vg="value";function Hg(e,t,n=!0){const r=[];return function e(t,o,i){r.push({path:i,type:Vg}),t&&o&&!0===o[it]&&(n&&r.push({path:i,type:Bg}),Array.isArray(t)?Ag(t,o,(s=>{const a=i.concat(s);e(t[s],o[s],a),n&&r.push({path:a,type:Fg})})):jg(o,(s=>{const a=i.concat(s);r.push({path:a,type:qg}),e(t[s],o[s],a),n&&r.push({path:a,type:Fg})})))}(e,t,[]),r}function Wg(e,t,n){const r=Lg(e,t),o=r.map(Ct.exports.compileJSONPointer).indexOf(Ct.exports.compileJSONPointer(n));return-1!==o&&o<r.length-1?r[o+1]:null}const Ug="after",Jg="inside",Kg="key",Gg="value",Qg="multi";function Yg(e){return e.type===Jg?e.focusPath:Mu(e.focusPath)}function Zg(e){return e.paths?Uc(e.paths):e.focusPath}function Xg(e){return e.paths?tc(e.paths):e.focusPath}function ev(e,t,n,r=!1,o=!1){const i=!o&&n.paths?Uc(n.paths):n.focusPath,s=function(e,t,n){const r=Lg(e,t),o=r.map(Ct.exports.compileJSONPointer),i=Ct.exports.compileJSONPointer(n),s=o.indexOf(i);return-1!==s&&s>0?r[s-1]:null}(e,t,i);if(null===s)return null;const a=s,l=s;if(r)return n.type===Ug||n.type===Jg?uv(e,t,{type:Qg,anchorPath:n.anchorPath,focusPath:n.anchorPath}):uv(e,t,{type:Qg,anchorPath:n.anchorPath,focusPath:l});if(n.type===Kg){const t=Mu(s),n=Ct.exports.getIn(e,t);return Array.isArray(n)||rh(s)?{type:Gg,anchorPath:a,focusPath:l}:{type:Kg,anchorPath:a,focusPath:l}}return n.type===Gg?{type:Gg,anchorPath:a,focusPath:l}:n.type===Ug||n.type===Jg?uv(e,t,{type:Qg,anchorPath:i,focusPath:i}):uv(e,t,{type:Qg,anchorPath:a,focusPath:l})}function tv(e,t,n,r=!1,o=!1){const i=!o&&n.paths?tc(n.paths):n.focusPath,s=Wg(e,t,i),a=s,l=s;if(null===s)return null;if(r){const r=Wg(e,Ht(Ct.exports.getIn(e,i))?Ct.exports.setIn(t,i.concat(it),!1,!0):t,i);return null===r?null:n.type===Ug?uv(e,t,{type:Qg,anchorPath:r,focusPath:r}):n.type===Jg?uv(e,t,{type:Qg,anchorPath:a,focusPath:l}):uv(e,t,{type:Qg,anchorPath:n.anchorPath,focusPath:r})}if(n.type===Kg){const t=Mu(s),n=Ct.exports.getIn(e,t);return Array.isArray(n)?{type:Gg,anchorPath:a,focusPath:l}:{type:Kg,anchorPath:a,focusPath:l}}return n.type===Gg?{type:Gg,anchorPath:a,focusPath:l}:n.type===Jg?uv(e,t,{type:Qg,anchorPath:a,focusPath:l}):uv(e,t,{type:Qg,anchorPath:s,focusPath:s})}function nv(e,t,n,r){const o=Hg(e,t,r),i=o.findIndex((e=>oh(e.path,n.focusPath)&&e.type===n.type));return{caret:-1!==i?o[i]:null,previous:-1!==i&&i>0?o[i-1]:null,next:-1!==i&&i<o.length-1?o[i+1]:null}}function rv(e,t){const n=Lg(e,t);let r=0;for(;r<n.length-1&&n[r+1].length>n[r].length;)r++;const o=n[r];return 0===o.length||Array.isArray(Ct.exports.getIn(e,Mu(o)))?{type:Gg,anchorPath:o,focusPath:o}:{type:Kg,anchorPath:o,focusPath:o}}function ov(e,t,n){if(1===n.length){const t=Uc(n);if("replace"===t.op||"move"===t.op){const n=$g(e,t.path);return{type:Gg,anchorPath:n,focusPath:n,edit:!1}}}if(!rh(n)&&n.every((e=>"move"===e.op))){const t=Uc(n),r=n.slice(1);if(t.from!==t.path&&r.every((e=>e.from===e.path))){const n=$g(e,t.path);return{type:Kg,anchorPath:n,focusPath:n,edit:!1}}}const r=n.filter((e=>"test"!==e.op&&"remove"!==e.op&&("move"!==e.op||e.from!==e.path)&&"string"==typeof e.path)).map((t=>$g(e,t.path)));return rh(r)?null:{type:Qg,paths:r,anchorPath:Uc(r),focusPath:tc(r),pathsMap:iv(r)}}function iv(e){const t={};return e.forEach((e=>{t[Ct.exports.compileJSONPointer(e)]=!0})),t}function sv(e){return e&&(e.type===Kg||e.type===Gg||e.type===Qg&&1===e.paths.length)}function av(e,t){return sv(t)&&Ht(Ct.exports.getIn(e,t.focusPath))?t.focusPath:Mu(t.focusPath)}function lv(e,t){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function cv(e){return e&&e.edit?{...e,edit:!1}:e}function uv(e,t,n){const{type:r,anchorPath:o,focusPath:i,path:s,edit:a=!1,next:l=!1,nextInside:c=!1}=n;if(r===Kg){let e={type:r,anchorPath:s,focusPath:s,edit:a};return l&&(e={...e,type:Gg}),e}if(r===Gg){let n={type:Gg,anchorPath:s,focusPath:s,edit:a};return l&&(n=tv(e,t,n)||n),c&&(n=function(e,t,n){const r=n.focusPath,o=Mu(r),i=[tc(r)],s=Wg(Ct.exports.getIn(e,o),Ct.exports.getIn(t,o),i);return uv(e,t,s?{type:Gg,path:o.concat(s)}:{type:Ug,path:r})}(e,t,n)||n),n}if(r===Ug)return{type:r,anchorPath:s,focusPath:s};if(r===Jg)return{type:r,anchorPath:s,focusPath:s};if(o&&i){const n=function(e,t,n,r){if(oh(n,r))return[n];{const o=function(e,t){let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;return e.slice(0,n)}(n,r);if(n.length===o.length||r.length===o.length)return[o];const i=n[o.length],s=r[o.length],a=Ct.exports.getIn(e,o);if(Vt(a)){const e=Ct.exports.getIn(t,o.concat(at)),n=e.indexOf(i),r=e.indexOf(s);if(-1!==n&&-1!==r){const t=Math.min(n,r),i=Math.max(n,r),s=[];for(let n=t;n<=i;n++)s.push(o.concat(e[n]));return s}}if(Array.isArray(a)){const e=Math.min(i,s),t=Math.max(i,s),n=[];for(let r=e;r<=t;r++)n.push(o.concat(r));return n}}throw new Error("Failed to create selection")}(e,t,o,i),r=oh(i,tc(n))||oh(o,Uc(n));return{type:Qg,anchorPath:r?Uc(n):tc(n),focusPath:r?tc(n):Uc(n),paths:n,pathsMap:iv(n)}}throw new TypeError(`Unknown type of selection ${JSON.stringify(n)}`)}function hv(e,t,n=2){if(t.type===Kg)return tc(t.focusPath);if(t.type===Gg){const r=Ct.exports.getIn(e,t.focusPath);return"string"==typeof r?r:JSON.stringify(r,null,n)}if(t.type===Qg){if(rh(t.focusPath))return JSON.stringify(e,null,n);const r=Yg(t),o=Ct.exports.getIn(e,r);if(Array.isArray(o)){if(1===t.paths.length){const r=Ct.exports.getIn(e,Uc(t.paths));return JSON.stringify(r,null,n)}return t.paths.map((t=>{const r=Ct.exports.getIn(e,t);return`${JSON.stringify(r,null,n)},`})).join("\n")}return t.paths.map((t=>{const r=tc(t),o=Ct.exports.getIn(e,t);return`${JSON.stringify(r)}: ${JSON.stringify(o,null,n)},`})).join("\n")}return null}function dv(e,t){if(!t)return null;let n={};return(t.type===Qg?t.paths:[t.focusPath]).forEach((r=>{const o=r.concat(ht);if(!Ct.exports.existsIn(n,o)){const t=Ct.exports.getIn(e,o);n=Ct.exports.setIn(n,o,Array.isArray(t)?[]:{},!0)}n=Ct.exports.setIn(n,o,t,!0)})),n}function fv(e){return!!e&&(e.type===Kg||e.type===Gg||(e.type===Qg&&1===e.paths.length||void 0))}function pv(e,t,n){const r=n?.[t]?.[ht];return!(!r||r.type!==Kg||r.edit)&&oh(r.focusPath,e.concat(t))}function mv({escapeControlCharacters:e,escapeUnicodeCharacters:t}){return e?t?gv:vv:t?yv:bv}const gv={escapeValue:e=>xv(Sv(String(e))),unescapeValue:e=>Cv(wv(e))},vv={escapeValue:e=>Sv(String(e)),unescapeValue:e=>Cv(e)},yv={escapeValue:e=>xv(String(e)),unescapeValue:e=>wv(e)},bv={escapeValue:e=>String(e),unescapeValue:e=>e};function xv(e){return e.replace(/[^\x20-\x7F]/g,(e=>"\b"===e||"\f"===e||"\n"===e||"\r"===e||"\t"===e?e:"\\u"+("000"+e.codePointAt(0).toString(16)).slice(-4)))}function wv(e){return e.replace(/\\u[a-fA-F0-9]{4}/g,(e=>{try{return JSON.parse('"'+e+'"')}catch(t){return e}}))}const $v={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},kv={"\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"};function Sv(e){return e.replace(/[\b\f\n\r\t]/g,(e=>$v[e]||e))}function Cv(e){return e.replace(/\\[bfnrt]/g,(e=>kv[e]||e))}function _v(e){return"string"!=typeof e?String(e):e.endsWith("\n")?e+"\n":e}function Ov(e,t){return Ev(e,(e=>e.nodeName.toUpperCase()===t.toUpperCase()))}function Pv(e,t,n){return Ev(e,(e=>function(e,t,n){return"function"==typeof e.getAttribute&&e.getAttribute(t)===n}(e,t,n)))}function Ev(e,t){return!!Av(e,t)}function Av(e,t){let n=e;for(;n&&!t(n);)n=n.parentNode;return n||void 0}function jv(e){if(null==e.firstChild)return void e.focus();const t=document.createRange(),n=window.getSelection();t.setStart(e,1),t.collapse(!0),n.removeAllRanges(),n.addRange(t)}function Mv(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView}function Tv(e){return Ev(Mv(e).document.activeElement,(t=>t===e))}function Iv(e,t){return Av(e,(e=>e.nodeName===t))}function zv(e){return Pv(e,"data-type","selectable-key")?Kg:Pv(e,"data-type","selectable-value")?Gg:Pv(e,"data-type","insert-selection-area-inside")?Jg:Pv(e,"data-type","insert-selection-area-after")?Ug:Qg}function Nv(e){return encodeURIComponent(JSON.stringify(e))}function Rv(e){const t=Av(e,(e=>e.hasAttribute("data-path")));return t?(n=t.getAttribute("data-path"),JSON.parse(decodeURIComponent(n))):null;var n}const Dv="undefined"!=typeof navigator&&navigator.platform.toUpperCase().indexOf("MAC")>=0;function Lv(e){const t=[];e.ctrlKey&&t.push("Ctrl"),e.metaKey&&t.push("Command"),e.altKey&&t.push(Dv?"Option":"Alt"),e.shiftKey&&t.push("Shift");const n=function(e){return Fv[e]||""}(e.which);return Bv[n]||t.push(n),t.join("+")}const Bv={Ctrl:!0,Command:!0,Alt:!0,Option:!0,Shift:!0},Fv={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause_Break",20:"Caps_Lock",27:"Escape",33:"Page_Up",34:"Page_Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Left_Window_Key",92:"Right_Window_Key",93:"Select_Key",96:"Numpad_0",97:"Numpad_1",98:"Numpad_2",99:"Numpad_3",100:"Numpad_4",101:"Numpad_5",102:"Numpad_6",103:"Numpad_7",104:"Numpad_8",105:"Numpad_9",106:"Numpad_*",107:"Numpad_+",109:"Numpad_-",110:"Numpad_.",111:"Numpad_/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Num_Lock",145:"Scroll_Lock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},{window:qv}=Me;function Vv(e){$(e,"svelte-1g8ebt0",".absolute-popup.svelte-1g8ebt0.svelte-1g8ebt0{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.absolute-popup.svelte-1g8ebt0 .hidden-input.svelte-1g8ebt0{position:absolute;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.absolute-popup.svelte-1g8ebt0 .absolute-popup-content.svelte-1g8ebt0{position:absolute}")}function Hv(e){let t,r,o,i,s,a;const l=[e[1]];var c=e[0];function u(e){let t={};for(let e=0;e<l.length;e+=1)t=n(t,l[e]);return{props:t}}return c&&(i=new c(u())),{c(){t=E("div"),r=E("input"),o=M(),i&&Le(i.$$.fragment),N(r,"class","hidden-input svelte-1g8ebt0"),N(t,"class","absolute-popup-content svelte-1g8ebt0"),N(t,"style",s=e[7]())},m(n,s){_(n,t,s),w(t,r),e[10](r),w(t,o),i&&Be(i,t,null),a=!0},p(e,n){const r=2&n?Ne(l,[Re(e[1])]):{};if(c!==(c=e[0])){if(i){_e();const e=i;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}c?(i=new c(u()),Le(i.$$.fragment),Pe(i.$$.fragment,1),Be(i,t,null)):i=null}else c&&i.$set(r)},i(e){a||(i&&Pe(i.$$.fragment,e),a=!0)},o(e){i&&Ee(i.$$.fragment,e),a=!1},d(n){n&&O(t),e[10](null),i&&Fe(i)}}}function Wv(e){let t,n,r,o,s,a=e[0]&&e[1]&&Hv(e);const l=e[9].default,u=c(l,e,e[8],null);return{c(){t=E("div"),a&&a.c(),n=M(),u&&u.c(),N(t,"class","absolute-popup svelte-1g8ebt0")},m(i,l){_(i,t,l),a&&a.m(t,null),e[11](t),_(i,n,l),u&&u.m(i,l),r=!0,o||(s=[I(qv,"mousedown",e[4],!0),I(qv,"keydown",e[5],!0),I(qv,"wheel",e[6],!0),I(t,"mousedown",Uv),I(t,"keydown",e[5])],o=!0)},p(e,[n]){e[0]&&e[1]?a?(a.p(e,n),3&n&&Pe(a,1)):(a=Hv(e),a.c(),Pe(a,1),a.m(t,null)):a&&(_e(),Ee(a,1,1,(()=>{a=null})),Oe()),u&&u.p&&(!r||256&n)&&d(u,l,e,e[8],r?h(l,e[8],n,null):f(e[8]),null)},i(e){r||(Pe(a),Pe(u,e),r=!0)},o(e){Ee(a),Ee(u,e),r=!1},d(r){r&&O(t),a&&a.d(),e[11](null),r&&O(n),u&&u.d(r),o=!1,i(s)}}}function Uv(e){e.stopPropagation()}function Jv(e,t,n){let{$$slots:r={},$$scope:o}=t;const i=He("jsoneditor:AbsolutePopup");let s,a,l=null,c=null,u={};function h(){if(l){const e=u.onClose;n(0,l=null),n(1,c=null),u={},e&&e()}}function d(e){u&&u.closeOnOuterClick&&!Ev(e.target,(e=>e===s))&&h()}function f(){a&&a.focus()}return se("absolute-popup",{openAbsolutePopup:function(e,t,r){i("open...",r),n(0,l=e),n(1,c=t||{}),u=r||{},me().then(f)},closeAbsolutePopup:h}),e.$$set=e=>{"$$scope"in e&&n(8,o=e.$$scope)},[l,c,s,a,function(e){d(e)},function(e){"Escape"===Lv(e)&&h()},function(e){d(e)},function(){const e=s.getBoundingClientRect(),{left:t,top:n,positionAbove:r,positionLeft:o}=function(){if(u.anchor){const{anchor:e,width:t=0,height:n=0,offsetTop:r=0,offsetLeft:o=0,position:i}=u,{left:s,top:a,bottom:l,right:c}=e.getBoundingClientRect(),h="top"===i||a+n>window.innerHeight&&a>n,d="left"===i||s+t>window.innerWidth&&s>t;return{left:d?c-o:s+o,top:h?a-r:l+r,positionAbove:h,positionLeft:d}}if("number"==typeof u.left&&"number"==typeof u.top){const{left:e,top:t,width:n=0,height:r=0}=u;return{left:e,top:t,positionAbove:t+r>window.innerHeight&&t>r,positionLeft:e+n>window.innerWidth&&e>n}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}();return(r?`bottom: ${e.top-n}px;`:`top: ${n-e.top}px;`)+(o?`right: ${e.left-t}px;`:`left: ${t-e.left}px;`)},o,r,function(e){ce[e?"unshift":"push"]((()=>{a=e,n(3,a)}))},function(e){ce[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class Kv extends Ve{constructor(e){super(),qe(this,e,Jv,Wv,l,{},Vv)}}
/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var Gv={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z"]},Qv={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M64 448c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L178.8 256L41.38 118.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160c12.5 12.5 12.5 32.75 0 45.25l-160 160C80.38 444.9 72.19 448 64 448z"]},Yv={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M374.6 310.6l-160 160C208.4 476.9 200.2 480 192 480s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 370.8V64c0-17.69 14.33-31.1 31.1-31.1S224 46.31 224 64v306.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0S387.1 298.1 374.6 310.6z"]},Zv={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M320 224H416c17.67 0 32-14.33 32-32s-14.33-32-32-32h-95.1c-17.67 0-32 14.33-32 32S302.3 224 320 224zM320 352H480c17.67 0 32-14.33 32-32s-14.33-32-32-32h-159.1c-17.67 0-32 14.33-32 32S302.3 352 320 352zM320 96h32c17.67 0 31.1-14.33 31.1-32s-14.33-32-31.1-32h-32c-17.67 0-32 14.33-32 32S302.3 96 320 96zM544 416h-223.1c-17.67 0-32 14.33-32 32s14.33 32 32 32H544c17.67 0 32-14.33 32-32S561.7 416 544 416zM192.4 330.7L160 366.1V64.03C160 46.33 145.7 32 128 32S96 46.33 96 64.03v302L63.6 330.7c-6.312-6.883-14.94-10.38-23.61-10.38c-7.719 0-15.47 2.781-21.61 8.414c-13.03 11.95-13.9 32.22-1.969 45.27l87.1 96.09c12.12 13.26 35.06 13.26 47.19 0l87.1-96.09c11.94-13.05 11.06-33.31-1.969-45.27C224.6 316.8 204.4 317.7 192.4 330.7z"]},Xv={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.86 0-95.19-15.58-134.2-44.86c-14.14-10.59-17-30.66-6.391-44.81c10.61-14.09 30.69-16.97 44.8-6.375c27.84 20.91 61 31.94 95.89 31.94C344.3 415.8 416 344.1 416 256s-71.67-159.8-159.8-159.8C205.9 96.22 158.6 120.3 128.6 160H192c17.67 0 32 14.31 32 32S209.7 224 192 224H48c-17.67 0-32-14.31-32-32V48c0-17.69 14.33-32 32-32s32 14.31 32 32v70.23C122.1 64.58 186.1 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z"]},ey={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M496 48V192c0 17.69-14.31 32-32 32H320c-17.69 0-32-14.31-32-32s14.31-32 32-32h63.39c-29.97-39.7-77.25-63.78-127.6-63.78C167.7 96.22 96 167.9 96 256s71.69 159.8 159.8 159.8c34.88 0 68.03-11.03 95.88-31.94c14.22-10.53 34.22-7.75 44.81 6.375c10.59 14.16 7.75 34.22-6.375 44.81c-39.03 29.28-85.36 44.86-134.2 44.86C132.5 479.9 32 379.4 32 256s100.5-223.9 223.9-223.9c69.15 0 134 32.47 176.1 86.12V48c0-17.69 14.31-32 32-32S496 30.31 496 48z"]},ty={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M310.6 246.6l-127.1 128C176.4 380.9 168.2 384 160 384s-16.38-3.125-22.63-9.375l-127.1-128C.2244 237.5-2.516 223.7 2.438 211.8S19.07 192 32 192h255.1c12.94 0 24.62 7.781 29.58 19.75S319.8 237.5 310.6 246.6z"]},ny={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M118.6 105.4l128 127.1C252.9 239.6 256 247.8 256 255.1s-3.125 16.38-9.375 22.63l-128 127.1c-9.156 9.156-22.91 11.9-34.88 6.943S64 396.9 64 383.1V128c0-12.94 7.781-24.62 19.75-29.58S109.5 96.23 118.6 105.4z"]},ry={prefix:"fas",iconName:"check",icon:[448,512,[10004,10003],"f00c","M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z"]},oy={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"]},iy={prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"]},sy={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.15C227.7 49.08 218.1 66.9 201.1 71.94C121.8 95.55 64 169.1 64 255.1C64 362 149.1 447.1 256 447.1C362 447.1 448 362 448 255.1C448 169.1 390.2 95.55 310.9 71.94C293.9 66.9 284.3 49.08 289.3 32.15C294.4 15.21 312.2 5.562 329.1 10.6C434.9 42.07 512 139.1 512 255.1C512 397.4 397.4 511.1 256 511.1C114.6 511.1 0 397.4 0 255.1C0 139.1 77.15 42.07 182.9 10.6C199.8 5.562 217.6 15.21 222.7 32.15V32.15z"]},ay={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 224C0 188.7 28.65 160 64 160H128V288C128 341 170.1 384 224 384H352V448C352 483.3 323.3 512 288 512H64C28.65 512 0 483.3 0 448V224zM224 352C188.7 352 160 323.3 160 288V64C160 28.65 188.7 0 224 0H448C483.3 0 512 28.65 512 64V288C512 323.3 483.3 352 448 352H224z"]},ly={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M414.8 40.79L286.8 488.8C281.9 505.8 264.2 515.6 247.2 510.8C230.2 505.9 220.4 488.2 225.2 471.2L353.2 23.21C358.1 6.216 375.8-3.624 392.8 1.232C409.8 6.087 419.6 23.8 414.8 40.79H414.8zM518.6 121.4L630.6 233.4C643.1 245.9 643.1 266.1 630.6 278.6L518.6 390.6C506.1 403.1 485.9 403.1 473.4 390.6C460.9 378.1 460.9 357.9 473.4 345.4L562.7 256L473.4 166.6C460.9 154.1 460.9 133.9 473.4 121.4C485.9 108.9 506.1 108.9 518.6 121.4V121.4zM166.6 166.6L77.25 256L166.6 345.4C179.1 357.9 179.1 378.1 166.6 390.6C154.1 403.1 133.9 403.1 121.4 390.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4L121.4 121.4C133.9 108.9 154.1 108.9 166.6 121.4C179.1 133.9 179.1 154.1 166.6 166.6V166.6z"]},cy={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M384 96L384 0h-112c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48H464c26.51 0 48-21.49 48-48V128h-95.1C398.4 128 384 113.6 384 96zM416 0v96h96L416 0zM192 352V128h-144c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48L288 416h-32C220.7 416 192 387.3 192 352z"]},uy={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 384H352V448H128C92.65 448 64 419.3 64 384V128H32C14.33 128 0 113.7 0 96C0 78.33 14.33 64 32 64H64V32C64 14.33 78.33 0 96 0C113.7 0 128 14.33 128 32V384zM384 128H160V64H384C419.3 64 448 92.65 448 128V384H480C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H448V480C448 497.7 433.7 512 416 512C398.3 512 384 497.7 384 480V128z"]},hy={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360C94.93 360 120 385.1 120 416C120 446.9 94.93 472 64 472C33.07 472 8 446.9 8 416C8 385.1 33.07 360 64 360zM64 200C94.93 200 120 225.1 120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200zM64 152C33.07 152 8 126.9 8 96C8 65.07 33.07 40 64 40C94.93 40 120 65.07 120 96C120 126.9 94.93 152 64 152z"]},dy={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.853 54.87C10.47 40.9 24.54 32 40 32H472C487.5 32 501.5 40.9 508.1 54.87C514.8 68.84 512.7 85.37 502.1 97.33L320 320.9V448C320 460.1 313.2 471.2 302.3 476.6C291.5 482 278.5 480.9 268.8 473.6L204.8 425.6C196.7 419.6 192 410.1 192 400V320.9L9.042 97.33C-.745 85.37-2.765 68.84 3.854 54.87L3.853 54.87z"]},fy={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"]},py={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"]},my={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M320 96V80C320 53.49 298.5 32 272 32H215.4C204.3 12.89 183.6 0 160 0S115.7 12.89 104.6 32H48C21.49 32 0 53.49 0 80v320C0 426.5 21.49 448 48 448l144 .0013L192 176C192 131.8 227.8 96 272 96H320zM160 88C146.8 88 136 77.25 136 64S146.8 40 160 40S184 50.75 184 64S173.3 88 160 88zM416 128v96h96L416 128zM384 224L384 128h-112C245.5 128 224 149.5 224 176v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48V256h-95.99C398.4 256 384 241.6 384 224z"]},gy={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32zM421.7 220.3L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3z"]},vy={prefix:"fas",iconName:"scissors",icon:[512,512,[9986,9988,9984,"cut"],"f0c4","M396.8 51.2C425.1 22.92 470.9 22.92 499.2 51.2C506.3 58.27 506.3 69.73 499.2 76.8L216.5 359.5C221.3 372.1 224 385.7 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 287.1 112 287.1C126.3 287.1 139.9 290.7 152.5 295.5L191.1 255.1L152.5 216.5C139.9 221.3 126.3 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 126.3 221.3 139.9 216.5 152.5L255.1 191.1L396.8 51.2zM160 111.1C160 85.49 138.5 63.1 112 63.1C85.49 63.1 64 85.49 64 111.1C64 138.5 85.49 159.1 112 159.1C138.5 159.1 160 138.5 160 111.1zM112 448C138.5 448 160 426.5 160 400C160 373.5 138.5 352 112 352C85.49 352 64 373.5 64 400C64 426.5 85.49 448 112 448zM278.6 342.6L342.6 278.6L499.2 435.2C506.3 442.3 506.3 453.7 499.2 460.8C470.9 489.1 425.1 489.1 396.8 460.8L278.6 342.6z"]},yy={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 32H64C28.65 32 0 60.65 0 96v320c0 35.34 28.65 64 64 64h320c35.35 0 64-28.66 64-64V96C448 60.65 419.3 32 384 32zM345.6 232.3l-104 112C237 349.2 230.7 352 224 352s-13.03-2.781-17.59-7.656l-104-112c-6.5-7-8.219-17.19-4.407-25.94C101.8 197.7 110.5 192 120 192h208c9.531 0 18.19 5.656 21.1 14.41C353.8 215.2 352.1 225.3 345.6 232.3z"]},by={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M384 32H64C28.65 32 0 60.65 0 96v320c0 35.34 28.65 64 64 64h320c35.35 0 64-28.66 64-64V96C448 60.65 419.3 32 384 32zM349.1 305.6C346.2 314.3 337.5 320 328 320h-208c-9.531 0-18.19-5.656-22-14.41C94.19 296.8 95.91 286.7 102.4 279.7l104-112c9.125-9.75 26.06-9.75 35.19 0l104 112C352.1 286.7 353.8 296.8 349.1 305.6z"]},xy={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"]},wy={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]},$y={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]};function ky(e,t=1e3){if(e<.9*t)return e.toFixed()+" B";const n=e/t;if(n<.9*t)return n.toFixed(1)+" KB";const r=n/t;if(r<.9*t)return r.toFixed(1)+" MB";const o=r/t;if(o<.9*t)return o.toFixed(1)+" GB";return(o/t).toFixed(1)+" TB"}const Sy=He("jsoneditor:FocusTracker");function Cy({onMount:e,onDestroy:t,getWindow:n,hasFocus:r,onFocus:o,onBlur:i}){let s,a=!1;function l(){const e=r();e&&(clearTimeout(s),a||(Sy("focus"),o(),a=e))}function c(){a&&(clearTimeout(s),s=setTimeout((()=>{Sy("blur"),a=!1,i()})))}e((()=>{Sy("mount FocusTracker");const e=n();e&&(e.addEventListener("focusin",l,!0),e.addEventListener("focusout",c,!0))})),t((()=>{Sy("destroy FocusTracker");const e=n();e&&(e.removeEventListener("focusin",l,!0),e.removeEventListener("focusout",c,!0))}))}function _y(t){let r,o,i=[{id:o="path-"+t[0]},t[1]],s={};for(let e=0;e<i.length;e+=1)s=n(s,i[e]);return{c(){r=A("path"),D(r,s)},m(e,t){_(e,r,t)},p(e,[t]){D(r,s=Ne(i,[1&t&&o!==(o="path-"+e[0])&&{id:o},2&t&&e[1]]))},i:e,o:e,d(e){e&&O(r)}}}function Oy(e,t,n){let{id:r}=t,{data:o={}}=t;return e.$$set=e=>{"id"in e&&n(0,r=e.id),"data"in e&&n(1,o=e.data)},[r,o]}class Py extends Ve{constructor(e){super(),qe(this,e,Oy,_y,a,{id:0,data:1})}}function Ey(t){let r,o,i=[{id:o="polygon-"+t[0]},t[1]],s={};for(let e=0;e<i.length;e+=1)s=n(s,i[e]);return{c(){r=A("polygon"),D(r,s)},m(e,t){_(e,r,t)},p(e,[t]){D(r,s=Ne(i,[1&t&&o!==(o="polygon-"+e[0])&&{id:o},2&t&&e[1]]))},i:e,o:e,d(e){e&&O(r)}}}function Ay(e,t,n){let{id:r}=t,{data:o={}}=t;return e.$$set=e=>{"id"in e&&n(0,r=e.id),"data"in e&&n(1,o=e.data)},[r,o]}class jy extends Ve{constructor(e){super(),qe(this,e,Ay,Ey,a,{id:0,data:1})}}function My(t){let n;return{c(){n=A("g")},m(e,r){_(e,n,r),n.innerHTML=t[0]},p(e,[t]){1&t&&(n.innerHTML=e[0])},i:e,o:e,d(e){e&&O(n)}}}function Ty(e,t,n){let r,o=870711;let{data:i}=t;function s(e){if(!e||!e.raw)return null;let t=e.raw;const n={};return t=t.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,((e,t)=>{const r=(o+=1,`fa-${o.toString(16)}`);return n[t]=r,` id="${r}"`})),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,((e,t,r,o)=>{const i=t||o;return i&&n[i]?`#${n[i]}`:e})),t}return e.$$set=e=>{"data"in e&&n(1,i=e.data)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=s(i))},[r,i]}class Iy extends Ve{constructor(e){super(),qe(this,e,Ty,My,a,{data:1})}}function zy(e){$(e,"svelte-1dof0an",".fa-icon.svelte-1dof0an{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1dof0an{transform:scale(-1, 1)}.fa-flip-vertical.svelte-1dof0an{transform:scale(1, -1)}.fa-spin.svelte-1dof0an{animation:svelte-1dof0an-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1dof0an{color:#fff}.fa-pulse.svelte-1dof0an{animation:svelte-1dof0an-fa-spin 1s infinite steps(8)}@keyframes svelte-1dof0an-fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}")}function Ny(e){let t,n,r,o;const i=e[13].default,s=c(i,e,e[12],null);return{c(){t=A("svg"),s&&s.c(),N(t,"version","1.1"),N(t,"class",n="fa-icon "+e[0]+" svelte-1dof0an"),N(t,"x",e[8]),N(t,"y",e[9]),N(t,"width",e[1]),N(t,"height",e[2]),N(t,"aria-label",e[11]),N(t,"role",r=e[11]?"img":"presentation"),N(t,"viewBox",e[3]),N(t,"style",e[10]),U(t,"fa-spin",e[4]),U(t,"fa-pulse",e[6]),U(t,"fa-inverse",e[5]),U(t,"fa-flip-horizontal","horizontal"===e[7]),U(t,"fa-flip-vertical","vertical"===e[7])},m(e,n){_(e,t,n),s&&s.m(t,null),o=!0},p(e,[a]){s&&s.p&&(!o||4096&a)&&d(s,i,e,e[12],o?h(i,e[12],a,null):f(e[12]),null),(!o||1&a&&n!==(n="fa-icon "+e[0]+" svelte-1dof0an"))&&N(t,"class",n),(!o||256&a)&&N(t,"x",e[8]),(!o||512&a)&&N(t,"y",e[9]),(!o||2&a)&&N(t,"width",e[1]),(!o||4&a)&&N(t,"height",e[2]),(!o||2048&a)&&N(t,"aria-label",e[11]),(!o||2048&a&&r!==(r=e[11]?"img":"presentation"))&&N(t,"role",r),(!o||8&a)&&N(t,"viewBox",e[3]),(!o||1024&a)&&N(t,"style",e[10]),17&a&&U(t,"fa-spin",e[4]),65&a&&U(t,"fa-pulse",e[6]),33&a&&U(t,"fa-inverse",e[5]),129&a&&U(t,"fa-flip-horizontal","horizontal"===e[7]),129&a&&U(t,"fa-flip-vertical","vertical"===e[7])},i(e){o||(Pe(s,e),o=!0)},o(e){Ee(s,e),o=!1},d(e){e&&O(t),s&&s.d(e)}}}function Ry(e,t,n){let{$$slots:r={},$$scope:o}=t,{class:i}=t,{width:s}=t,{height:a}=t,{box:l}=t,{spin:c=!1}=t,{inverse:u=!1}=t,{pulse:h=!1}=t,{flip:d=null}=t,{x:f}=t,{y:p}=t,{style:m}=t,{label:g}=t;return e.$$set=e=>{"class"in e&&n(0,i=e.class),"width"in e&&n(1,s=e.width),"height"in e&&n(2,a=e.height),"box"in e&&n(3,l=e.box),"spin"in e&&n(4,c=e.spin),"inverse"in e&&n(5,u=e.inverse),"pulse"in e&&n(6,h=e.pulse),"flip"in e&&n(7,d=e.flip),"x"in e&&n(8,f=e.x),"y"in e&&n(9,p=e.y),"style"in e&&n(10,m=e.style),"label"in e&&n(11,g=e.label),"$$scope"in e&&n(12,o=e.$$scope)},[i,s,a,l,c,u,h,d,f,p,m,g,o,r]}class Dy extends Ve{constructor(e){super(),qe(this,e,Ry,Ny,a,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11},zy)}}function Ly(e,t,n){const r=e.slice();return r[24]=t[n],r[26]=n,r}function By(e,t,n){const r=e.slice();return r[27]=t[n],r[26]=n,r}function Fy(e){let t,n,r,o,i=e[6].paths&&qy(e),s=e[6].polygons&&Hy(e),a=e[6].raw&&Uy(e);return{c(){i&&i.c(),t=M(),s&&s.c(),n=M(),a&&a.c(),r=T()},m(e,l){i&&i.m(e,l),_(e,t,l),s&&s.m(e,l),_(e,n,l),a&&a.m(e,l),_(e,r,l),o=!0},p(e,o){e[6].paths?i?(i.p(e,o),64&o&&Pe(i,1)):(i=qy(e),i.c(),Pe(i,1),i.m(t.parentNode,t)):i&&(_e(),Ee(i,1,1,(()=>{i=null})),Oe()),e[6].polygons?s?(s.p(e,o),64&o&&Pe(s,1)):(s=Hy(e),s.c(),Pe(s,1),s.m(n.parentNode,n)):s&&(_e(),Ee(s,1,1,(()=>{s=null})),Oe()),e[6].raw?a?(a.p(e,o),64&o&&Pe(a,1)):(a=Uy(e),a.c(),Pe(a,1),a.m(r.parentNode,r)):a&&(_e(),Ee(a,1,1,(()=>{a=null})),Oe())},i(e){o||(Pe(i),Pe(s),Pe(a),o=!0)},o(e){Ee(i),Ee(s),Ee(a),o=!1},d(e){i&&i.d(e),e&&O(t),s&&s.d(e),e&&O(n),a&&a.d(e),e&&O(r)}}}function qy(e){let t,n,r=e[6].paths,o=[];for(let t=0;t<r.length;t+=1)o[t]=Vy(By(e,r,t));const i=e=>Ee(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);_(e,t,r),n=!0},p(e,n){if(64&n){let s;for(r=e[6].paths,s=0;s<r.length;s+=1){const i=By(e,r,s);o[s]?(o[s].p(i,n),Pe(o[s],1)):(o[s]=Vy(i),o[s].c(),Pe(o[s],1),o[s].m(t.parentNode,t))}for(_e(),s=r.length;s<o.length;s+=1)i(s);Oe()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Pe(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Ee(o[e]);n=!1},d(e){P(o,e),e&&O(t)}}}function Vy(e){let t,n;return t=new Py({props:{id:e[26],data:e[27]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.data=e[27]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Hy(e){let t,n,r=e[6].polygons,o=[];for(let t=0;t<r.length;t+=1)o[t]=Wy(Ly(e,r,t));const i=e=>Ee(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);_(e,t,r),n=!0},p(e,n){if(64&n){let s;for(r=e[6].polygons,s=0;s<r.length;s+=1){const i=Ly(e,r,s);o[s]?(o[s].p(i,n),Pe(o[s],1)):(o[s]=Wy(i),o[s].c(),Pe(o[s],1),o[s].m(t.parentNode,t))}for(_e(),s=r.length;s<o.length;s+=1)i(s);Oe()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Pe(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Ee(o[e]);n=!1},d(e){P(o,e),e&&O(t)}}}function Wy(e){let t,n;return t=new jy({props:{id:e[26],data:e[24]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.data=e[24]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Uy(e){let t,n,r;function o(t){e[15](t)}let i={};return void 0!==e[6]&&(i.data=e[6]),t=new Iy({props:i}),ce.push((()=>De(t,"data",o))),{c(){Le(t.$$.fragment)},m(e,n){Be(t,e,n),r=!0},p(e,r){const o={};!n&&64&r&&(n=!0,o.data=e[6],ve((()=>n=!1))),t.$set(o)},i(e){r||(Pe(t.$$.fragment,e),r=!0)},o(e){Ee(t.$$.fragment,e),r=!1},d(e){Fe(t,e)}}}function Jy(e){let t;const n=e[14].default,r=c(n,e,e[16],null),o=r||function(e){let t,n,r=e[6]&&Fy(e);return{c(){r&&r.c(),t=T()},m(e,o){r&&r.m(e,o),_(e,t,o),n=!0},p(e,n){e[6]?r?(r.p(e,n),64&n&&Pe(r,1)):(r=Fy(e),r.c(),Pe(r,1),r.m(t.parentNode,t)):r&&(_e(),Ee(r,1,1,(()=>{r=null})),Oe())},i(e){n||(Pe(r),n=!0)},o(e){Ee(r),n=!1},d(e){r&&r.d(e),e&&O(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,i){r?r.p&&(!t||65536&i)&&d(r,n,e,e[16],t?h(n,e[16],i,null):f(e[16]),null):o&&o.p&&(!t||64&i)&&o.p(e,t?i:-1)},i(e){t||(Pe(o,e),t=!0)},o(e){Ee(o,e),t=!1},d(e){o&&o.d(e)}}}function Ky(e){let t,n;return t=new Dy({props:{label:e[5],width:e[7],height:e[8],box:e[10],style:e[9],spin:e[1],flip:e[4],inverse:e[2],pulse:e[3],class:e[0],$$slots:{default:[Jy]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,[n]){const r={};32&n&&(r.label=e[5]),128&n&&(r.width=e[7]),256&n&&(r.height=e[8]),1024&n&&(r.box=e[10]),512&n&&(r.style=e[9]),2&n&&(r.spin=e[1]),16&n&&(r.flip=e[4]),4&n&&(r.inverse=e[2]),8&n&&(r.pulse=e[3]),1&n&&(r.class=e[0]),65600&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Gy(e,t,n){let r,o,i,s,{$$slots:a={},$$scope:l}=t,{class:c=""}=t,{data:u}=t,{scale:h=1}=t,{spin:d=!1}=t,{inverse:f=!1}=t,{pulse:p=!1}=t,{flip:m=null}=t,{label:g=null}=t,v=null,{style:y=null}=t;function b(){let e=1;return void 0!==h&&(e=Number(h)),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*e}function x(){return v?Math.max(v.width,v.height)/16:1}return e.$$set=e=>{"class"in e&&n(0,c=e.class),"data"in e&&n(11,u=e.data),"scale"in e&&n(12,h=e.scale),"spin"in e&&n(1,d=e.spin),"inverse"in e&&n(2,f=e.inverse),"pulse"in e&&n(3,p=e.pulse),"flip"in e&&n(4,m=e.flip),"label"in e&&n(5,g=e.label),"style"in e&&n(13,y=e.style),"$$scope"in e&&n(16,l=e.$$scope)},e.$$.update=()=>{14336&e.$$.dirty&&(!function(){if(void 0===u)return;const e=function(e){if("iconName"in e&&"icon"in e){let t={},n=e.icon,r=e.iconName,o={width:n[0],height:n[1],paths:[{d:n[4]}]};return t[r]=o,t}return e}(u),[t]=Object.keys(e),r=e[t];r.paths||(r.paths=[]),r.d&&r.paths.push({d:r.d}),r.polygons||(r.polygons=[]),r.points&&r.polygons.push({points:r.points}),n(6,v=r)}(),n(7,r=v?v.width/x()*b():0),n(8,o=v?v.height/x()*b():0),n(9,i=function(){let e="";null!==y&&(e+=y);let t=b();if(1===t){if(0===e.length)return;return e}return""===e||e.endsWith(";")||(e+="; "),`${e}font-size: ${t}em`}()),n(10,s=v?`0 0 ${v.width} ${v.height}`:`0 0 ${r} ${o}`))},[c,d,f,p,m,g,v,r,o,i,s,u,h,y,a,function(e){v=e,n(6,v)},l]}class Qy extends Ve{constructor(e){super(),qe(this,e,Gy,Ky,a,{class:0,data:11,scale:12,spin:1,inverse:2,pulse:3,flip:4,label:5,style:13})}}function Yy(e){$(e,"svelte-10tc3fa",'.message.svelte-10tc3fa.svelte-10tc3fa{font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;padding:10px;display:flex;gap:10px;flex-wrap:wrap;align-items:center}.message.success.svelte-10tc3fa.svelte-10tc3fa{background:#9ac45d;color:#fff}.message.svelte-10tc3fa .text.svelte-10tc3fa{flex:1;min-width:60%}.message.svelte-10tc3fa .text.clickable.svelte-10tc3fa{cursor:pointer}.message.svelte-10tc3fa .text.clickable.svelte-10tc3fa:hover{background-color:rgba(255, 255, 255, 0.1)}.message.error.svelte-10tc3fa.svelte-10tc3fa{background:#ee5341;color:#fff}.message.warning.svelte-10tc3fa.svelte-10tc3fa{background:#fdc539;color:#fff}.message.info.svelte-10tc3fa.svelte-10tc3fa{background:rgb(157, 157, 157);color:#fff}.message.svelte-10tc3fa .actions.svelte-10tc3fa{display:flex;gap:10px}.message.svelte-10tc3fa .actions button.action.svelte-10tc3fa{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;background:rgba(255, 255, 255, 0.2);color:#fff;padding:5px 10px}.message.svelte-10tc3fa .actions button.action.svelte-10tc3fa:hover{background:rgba(255, 255, 255, 0.3)}')}function Zy(e,t,n){const r=e.slice();return r[6]=t[n],r}function Xy(e){let t,n;return t=new Qy({props:{data:e[1]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.data=e[1]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function eb(e){let t,n;return t=new Qy({props:{data:e[6].icon}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.data=e[6].icon),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function tb(e){let t,n,r,o,i,a,l,c,u,h=e[6].text+"",d=e[6].icon&&eb(e);return{c(){t=E("button"),d&&d.c(),n=M(),r=j(h),o=M(),N(t,"type","button"),N(t,"class","button action primary svelte-10tc3fa"),N(t,"title",i=e[6].title),t.disabled=a=e[6].disabled},m(i,a){_(i,t,a),d&&d.m(t,null),w(t,n),w(t,r),w(t,o),l=!0,c||(u=I(t,"click",(function(){s(e[6].onClick)&&e[6].onClick.apply(this,arguments)})),c=!0)},p(o,s){(e=o)[6].icon?d?(d.p(e,s),8&s&&Pe(d,1)):(d=eb(e),d.c(),Pe(d,1),d.m(t,n)):d&&(_e(),Ee(d,1,1,(()=>{d=null})),Oe()),(!l||8&s)&&h!==(h=e[6].text+"")&&B(r,h),(!l||8&s&&i!==(i=e[6].title))&&N(t,"title",i),(!l||8&s&&a!==(a=e[6].disabled))&&(t.disabled=a)},i(e){l||(Pe(d),l=!0)},o(e){Ee(d),l=!1},d(e){e&&O(t),d&&d.d(),c=!1,u()}}}function nb(e){let t,n,r,o,i,s,a,l,c,u,h=e[1]&&Xy(e),d=e[3],f=[];for(let t=0;t<d.length;t+=1)f[t]=tb(Zy(e,d,t));const p=e=>Ee(f[e],1,1,(()=>{f[e]=null}));return{c(){t=E("div"),n=E("div"),h&&h.c(),r=M(),o=j(e[2]),i=M(),s=E("div");for(let e=0;e<f.length;e+=1)f[e].c();N(n,"class","text svelte-10tc3fa"),U(n,"clickable",null!==e[4]),N(s,"class","actions svelte-10tc3fa"),N(t,"class",a="message "+e[0]+" svelte-10tc3fa")},m(a,d){_(a,t,d),w(t,n),h&&h.m(n,null),w(n,r),w(n,o),w(t,i),w(t,s);for(let e=0;e<f.length;e+=1)f[e].m(s,null);l=!0,c||(u=I(n,"click",e[5]),c=!0)},p(e,[i]){if(e[1]?h?(h.p(e,i),2&i&&Pe(h,1)):(h=Xy(e),h.c(),Pe(h,1),h.m(n,r)):h&&(_e(),Ee(h,1,1,(()=>{h=null})),Oe()),(!l||4&i)&&B(o,e[2]),16&i&&U(n,"clickable",null!==e[4]),8&i){let t;for(d=e[3],t=0;t<d.length;t+=1){const n=Zy(e,d,t);f[t]?(f[t].p(n,i),Pe(f[t],1)):(f[t]=tb(n),f[t].c(),Pe(f[t],1),f[t].m(s,null))}for(_e(),t=d.length;t<f.length;t+=1)p(t);Oe()}(!l||1&i&&a!==(a="message "+e[0]+" svelte-10tc3fa"))&&N(t,"class",a)},i(e){if(!l){Pe(h);for(let e=0;e<d.length;e+=1)Pe(f[e]);l=!0}},o(e){Ee(h),f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)Ee(f[e]);l=!1},d(e){e&&O(t),h&&h.d(),P(f,e),c=!1,u()}}}function rb(e,t,n){let{type:r="success"}=t,{icon:o=null}=t,{message:i=null}=t,{actions:s=[]}=t,{onClick:a=null}=t;return e.$$set=e=>{"type"in e&&n(0,r=e.type),"icon"in e&&n(1,o=e.icon),"message"in e&&n(2,i=e.message),"actions"in e&&n(3,s=e.actions),"onClick"in e&&n(4,a=e.onClick)},[r,o,i,s,a,function(){a&&a()}]}class ob extends Ve{constructor(e){super(),qe(this,e,rb,nb,l,{type:0,icon:1,message:2,actions:3,onClick:4},Yy)}}function ib(e){return e.map((e=>"number"==typeof e?"["+e+"]":"string"==typeof e&&e.match(/^[A-Za-z0-9_$]+$/)?"."+e:'["'+e+'"]')).join("")}function sb(e){return e.map((e=>ab.test(e)?`?.${e}`:`?.[${JSON.stringify(e)}]`)).join("")}const ab=/^[A-z$_][A-z$_\d]*$/i;function lb(e){$(e,"svelte-1sxev4g",'.validation-errors-overview.svelte-1sxev4g.svelte-1sxev4g{font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;background:#fdc539;color:#fff;overflow:auto;max-height:25%}.validation-errors-overview.svelte-1sxev4g table.svelte-1sxev4g{border-collapse:collapse;width:100%}.validation-errors-overview.svelte-1sxev4g table tr.svelte-1sxev4g{cursor:pointer}.validation-errors-overview.svelte-1sxev4g table tr.svelte-1sxev4g:hover{background-color:rgba(255, 255, 255, 0.1)}.validation-errors-overview.svelte-1sxev4g table tr td.svelte-1sxev4g{padding:4px 10px;vertical-align:middle}.validation-errors-overview.svelte-1sxev4g table tr td.validation-error-icon.svelte-1sxev4g{width:36px;box-sizing:border-box}.validation-errors-overview.svelte-1sxev4g table tr td.validation-error-action.svelte-1sxev4g{width:36px;box-sizing:border-box;padding:0}.validation-errors-overview.svelte-1sxev4g table tr td.validation-error-action button.validation-errors-collapse.svelte-1sxev4g{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.validation-errors-overview.svelte-1sxev4g table tr td.validation-error-action button.validation-errors-collapse.svelte-1sxev4g:hover{background-color:rgba(255, 255, 255, 0.2)}.validation-errors-overview.svelte-1sxev4g table tr td div.validation-errors-expand.svelte-1sxev4g{display:inline-block;position:relative;top:3px}')}function cb(e,t,n){const r=e.slice();return r[6]=t[n],r[8]=n,r}function ub(e){let t,n,r,o;const i=[db,hb],s=[];function a(e,t){return e[2]||1===e[0].length?0:1}return n=a(e),r=s[n]=i[n](e),{c(){t=E("div"),r.c(),N(t,"class","validation-errors-overview svelte-1sxev4g")},m(e,r){_(e,t,r),s[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?s[n].p(e,o):(_e(),Ee(s[l],1,1,(()=>{s[l]=null})),Oe(),r=s[n],r?r.p(e,o):(r=s[n]=i[n](e),r.c()),Pe(r,1),r.m(t,null))},i(e){o||(Pe(r),o=!0)},o(e){Ee(r),o=!1},d(e){e&&O(t),s[n].d()}}}function hb(e){let t,n,r,o,i,s,a,l,c,u,h,d,f,p,m=e[0].length+"";return i=new Qy({props:{data:xy}}),h=new Qy({props:{data:Qv}}),{c(){t=E("table"),n=E("tbody"),r=E("tr"),o=E("td"),Le(i.$$.fragment),s=M(),a=E("td"),l=j(m),c=j(" validation errors\n              "),u=E("div"),Le(h.$$.fragment),N(o,"class","validation-error-icon svelte-1sxev4g"),N(u,"class","validation-errors-expand svelte-1sxev4g"),N(a,"class","svelte-1sxev4g"),N(r,"class","validation-error svelte-1sxev4g"),N(t,"class","svelte-1sxev4g")},m(m,g){_(m,t,g),w(t,n),w(n,r),w(r,o),Be(i,o,null),w(r,s),w(r,a),w(a,l),w(a,c),w(a,u),Be(h,u,null),d=!0,f||(p=I(r,"click",e[4]),f=!0)},p(e,t){(!d||1&t)&&m!==(m=e[0].length+"")&&B(l,m)},i(e){d||(Pe(i.$$.fragment,e),Pe(h.$$.fragment,e),d=!0)},o(e){Ee(i.$$.fragment,e),Ee(h.$$.fragment,e),d=!1},d(e){e&&O(t),Fe(i),Fe(h),f=!1,p()}}}function db(e){let t,n,r,o=e[0],i=[];for(let t=0;t<o.length;t+=1)i[t]=pb(cb(e,o,t));const s=e=>Ee(i[e],1,1,(()=>{i[e]=null}));return{c(){t=E("table"),n=E("tbody");for(let e=0;e<i.length;e+=1)i[e].c();N(t,"class","svelte-1sxev4g")},m(e,o){_(e,t,o),w(t,n);for(let e=0;e<i.length;e+=1)i[e].m(n,null);r=!0},p(e,t){if(11&t){let r;for(o=e[0],r=0;r<o.length;r+=1){const s=cb(e,o,r);i[r]?(i[r].p(s,t),Pe(i[r],1)):(i[r]=pb(s),i[r].c(),Pe(i[r],1),i[r].m(n,null))}for(_e(),r=o.length;r<i.length;r+=1)s(r);Oe()}},i(e){if(!r){for(let e=0;e<o.length;e+=1)Pe(i[e]);r=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Ee(i[e]);r=!1},d(e){e&&O(t),P(i,e)}}}function fb(t){let n,r,o,i,s;return r=new Qy({props:{data:Gv}}),{c(){n=E("button"),Le(r.$$.fragment),N(n,"type","button"),N(n,"class","validation-errors-collapse svelte-1sxev4g"),N(n,"title","Collapse validation errors")},m(e,a){_(e,n,a),Be(r,n,null),o=!0,i||(s=I(n,"click",z(t[3])),i=!0)},p:e,i(e){o||(Pe(r.$$.fragment,e),o=!0)},o(e){Ee(r.$$.fragment,e),o=!1},d(e){e&&O(n),Fe(r),i=!1,s()}}}function pb(e){let t,n,r,o,i,s,a,l,c,u,h,d,f,p,m,g=ib(e[6].path)+"",v=e[6].message+"";r=new Qy({props:{data:xy}});let y=0===e[8]&&e[0].length>1&&fb(e);function b(){return e[5](e[6])}return{c(){t=E("tr"),n=E("td"),Le(r.$$.fragment),o=M(),i=E("td"),s=j(g),a=M(),l=E("td"),c=j(v),u=M(),h=E("td"),y&&y.c(),d=M(),N(n,"class","validation-error-icon svelte-1sxev4g"),N(i,"class","svelte-1sxev4g"),N(l,"class","svelte-1sxev4g"),N(h,"class","validation-error-action svelte-1sxev4g"),N(t,"class","validation-error svelte-1sxev4g")},m(e,g){_(e,t,g),w(t,n),Be(r,n,null),w(t,o),w(t,i),w(i,s),w(t,a),w(t,l),w(l,c),w(t,u),w(t,h),y&&y.m(h,null),w(t,d),f=!0,p||(m=I(t,"click",b),p=!0)},p(t,n){e=t,(!f||1&n)&&g!==(g=ib(e[6].path)+"")&&B(s,g),(!f||1&n)&&v!==(v=e[6].message+"")&&B(c,v),0===e[8]&&e[0].length>1?y?(y.p(e,n),1&n&&Pe(y,1)):(y=fb(e),y.c(),Pe(y,1),y.m(h,null)):y&&(_e(),Ee(y,1,1,(()=>{y=null})),Oe())},i(e){f||(Pe(r.$$.fragment,e),Pe(y),f=!0)},o(e){Ee(r.$$.fragment,e),Ee(y),f=!1},d(e){e&&O(t),Fe(r),y&&y.d(),p=!1,m()}}}function mb(e){let t,n,r=!rh(e[0]),o=r&&ub(e);return{c(){o&&o.c(),t=T()},m(e,r){o&&o.m(e,r),_(e,t,r),n=!0},p(e,[n]){1&n&&(r=!rh(e[0])),r?o?(o.p(e,n),1&n&&Pe(o,1)):(o=ub(e),o.c(),Pe(o,1),o.m(t.parentNode,t)):o&&(_e(),Ee(o,1,1,(()=>{o=null})),Oe())},i(e){n||(Pe(o),n=!0)},o(e){Ee(o),n=!1},d(e){o&&o.d(e),e&&O(t)}}}function gb(e,t,n){let{validationErrors:r}=t,{selectError:o}=t,i=!0;return e.$$set=e=>{"validationErrors"in e&&n(0,r=e.validationErrors),"selectError"in e&&n(1,o=e.selectError)},[r,o,i,function(){n(2,i=!1)},function(){n(2,i=!0)},e=>{setTimeout((()=>o(e)))}]}class vb extends Ve{constructor(e){super(),qe(this,e,gb,mb,l,{validationErrors:0,selectError:1},lb)}}const yb={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],null,"M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},bb={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],null,"m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},xb={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],null,"M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},wb={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],null,"M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function $b(e){$(e,"svelte-1ampib6",'.menu.svelte-1ampib6.svelte-1ampib6{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;background:#3883fa;border-bottom:1px solid #3883fa;color:#fff;display:flex;flex-wrap:wrap;align-items:center;position:relative}.menu.svelte-1ampib6 .button.svelte-1ampib6{width:32px;height:32px;border:none;background:transparent;color:inherit;cursor:pointer;padding:5px;margin:0;border-radius:0}.menu.svelte-1ampib6 .button.svelte-1ampib6:hover,.menu.svelte-1ampib6 .button.svelte-1ampib6:focus{background:rgba(255, 255, 255, 0.3)}.menu.svelte-1ampib6 .button.svelte-1ampib6:disabled{color:rgba(255, 255, 255, 0.5);background:transparent}.menu.svelte-1ampib6 .button.group-button.svelte-1ampib6{border:1px solid white;padding:0;margin:5px 0;height:22px;width:40px}.menu.svelte-1ampib6 .button.group-button.svelte-1ampib6:not(.last){border-right:none}.menu.svelte-1ampib6 .button.group-button.first.svelte-1ampib6{margin-left:5px}.menu.svelte-1ampib6 .button.group-button.last.svelte-1ampib6{margin-right:5px}.menu.svelte-1ampib6 .button.group-button.svelte-1ampib6:hover,.menu.svelte-1ampib6 .button.group-button.svelte-1ampib6:focus{background:rgba(255, 255, 255, 0.3)}.menu.svelte-1ampib6 .button.group-button.selected.svelte-1ampib6{background:white;color:#3883fa}.menu.svelte-1ampib6 .space.svelte-1ampib6{flex:1}.menu.svelte-1ampib6 .separator.svelte-1ampib6{background:rgba(255, 255, 255, 0.15);box-sizing:border-box;width:1px;height:26px;margin:3px}')}const kb=e=>({}),Sb=e=>({});function Cb(e,t,n){const r=e.slice();return r[3]=t[n],r}const _b=e=>({}),Ob=e=>({});function Pb(e){let t,n,r,o,i,a,l,c,u=e[3].icon&&jb(e),h=e[3].text&&Mb(e);return{c(){t=E("button"),u&&u.c(),n=M(),h&&h.c(),N(t,"type","button"),N(t,"class",r="button "+e[3].className+" svelte-1ampib6"),N(t,"title",o=e[3].title),t.disabled=i=e[3].disabled||!1},m(r,o){_(r,t,o),u&&u.m(t,null),w(t,n),h&&h.m(t,null),a=!0,l||(c=I(t,"click",(function(){s(e[3].onClick)&&e[3].onClick.apply(this,arguments)})),l=!0)},p(s,l){(e=s)[3].icon?u?(u.p(e,l),1&l&&Pe(u,1)):(u=jb(e),u.c(),Pe(u,1),u.m(t,n)):u&&(_e(),Ee(u,1,1,(()=>{u=null})),Oe()),e[3].text?h?h.p(e,l):(h=Mb(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null),(!a||1&l&&r!==(r="button "+e[3].className+" svelte-1ampib6"))&&N(t,"class",r),(!a||1&l&&o!==(o=e[3].title))&&N(t,"title",o),(!a||1&l&&i!==(i=e[3].disabled||!1))&&(t.disabled=i)},i(e){a||(Pe(u),a=!0)},o(e){Ee(u),a=!1},d(e){e&&O(t),u&&u.d(),h&&h.d(),l=!1,c()}}}function Eb(t){let n;return{c(){n=E("div"),N(n,"class","space svelte-1ampib6")},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}function Ab(t){let n;return{c(){n=E("div"),N(n,"class","separator svelte-1ampib6")},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}function jb(e){let t,n;return t=new Qy({props:{data:e[3].icon}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.data=e[3].icon),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Mb(e){let t,n=e[3].text+"";return{c(){t=j(n)},m(e,n){_(e,t,n)},p(e,r){1&r&&n!==(n=e[3].text+"")&&B(t,n)},d(e){e&&O(t)}}}function Tb(e){let t,n,r,o;const i=[Ab,Eb,Pb],s=[];function a(e,t){return!0===e[3].separator?0:!0===e[3].space?1:2}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=T()},m(e,n){s[t].m(e,n),_(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?s[t].p(e,o):(_e(),Ee(s[l],1,1,(()=>{s[l]=null})),Oe(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),Pe(n,1),n.m(r.parentNode,r))},i(e){o||(Pe(n),o=!0)},o(e){Ee(n),o=!1},d(e){s[t].d(e),e&&O(r)}}}function Ib(e){let t,n,r,o;const i=e[2].left,s=c(i,e,e[1],Ob);let a=e[0],l=[];for(let t=0;t<a.length;t+=1)l[t]=Tb(Cb(e,a,t));const u=e=>Ee(l[e],1,1,(()=>{l[e]=null})),p=e[2].right,m=c(p,e,e[1],Sb);return{c(){t=E("div"),s&&s.c(),n=M();for(let e=0;e<l.length;e+=1)l[e].c();r=M(),m&&m.c(),N(t,"class","menu svelte-1ampib6")},m(e,i){_(e,t,i),s&&s.m(t,null),w(t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null);w(t,r),m&&m.m(t,null),o=!0},p(e,[n]){if(s&&s.p&&(!o||2&n)&&d(s,i,e,e[1],o?h(i,e[1],n,_b):f(e[1]),Ob),1&n){let o;for(a=e[0],o=0;o<a.length;o+=1){const i=Cb(e,a,o);l[o]?(l[o].p(i,n),Pe(l[o],1)):(l[o]=Tb(i),l[o].c(),Pe(l[o],1),l[o].m(t,r))}for(_e(),o=a.length;o<l.length;o+=1)u(o);Oe()}m&&m.p&&(!o||2&n)&&d(m,p,e,e[1],o?h(p,e[1],n,kb):f(e[1]),Sb)},i(e){if(!o){Pe(s,e);for(let e=0;e<a.length;e+=1)Pe(l[e]);Pe(m,e),o=!0}},o(e){Ee(s,e),l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)Ee(l[e]);Ee(m,e),o=!1},d(e){e&&O(t),s&&s.d(e),P(l,e),m&&m.d(e)}}}function zb(e,t,n){let{$$slots:r={},$$scope:o}=t,{items:i=[]}=t;return e.$$set=e=>{"items"in e&&n(0,i=e.items),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,r]}class Nb extends Ve{constructor(e){super(),qe(this,e,zb,Ib,l,{items:0},$b)}}function Rb(e){$(e,"svelte-1aw7dgi",".powered-by.svelte-1aw7dgi.svelte-1aw7dgi{font-size:8pt;padding:0 10px 3px}.powered-by.svelte-1aw7dgi a.svelte-1aw7dgi{color:#fff;opacity:0.7}.powered-by.svelte-1aw7dgi a.svelte-1aw7dgi:hover{opacity:1}")}function Db(t){let n;return{c(){n=E("div"),n.innerHTML='<a href="https://codemirror.net/6/" target="_blank" rel="noopener noreferrer" title="Code mode is powered by CodeMirror" class="svelte-1aw7dgi">powered by CodeMirror</a>',N(n,"slot","right"),N(n,"class","powered-by svelte-1aw7dgi")},m(e,t){_(e,n,t)},p:e,d(e){e&&O(n)}}}function Lb(e){let t,n;return t=new Nb({props:{items:e[0],$$slots:{right:[Db]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.items=e[0]),131072&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Bb(e,t,n){let r,o,{readOnly:i=!1}=t,{onFormat:s}=t,{onCompact:a}=t,{onSort:l}=t,{onTransform:c}=t,{onToggleSearch:u}=t,{onUndo:h}=t,{onRedo:d}=t,{canUndo:f}=t,{canRedo:p}=t,{canFormat:m}=t,{canCompact:g}=t,{canSort:v}=t,{canTransform:y}=t,{onRenderMenu:b=(()=>{})}=t;return e.$$set=e=>{"readOnly"in e&&n(1,i=e.readOnly),"onFormat"in e&&n(2,s=e.onFormat),"onCompact"in e&&n(3,a=e.onCompact),"onSort"in e&&n(4,l=e.onSort),"onTransform"in e&&n(5,c=e.onTransform),"onToggleSearch"in e&&n(6,u=e.onToggleSearch),"onUndo"in e&&n(7,h=e.onUndo),"onRedo"in e&&n(8,d=e.onRedo),"canUndo"in e&&n(9,f=e.canUndo),"canRedo"in e&&n(10,p=e.canRedo),"canFormat"in e&&n(11,m=e.canFormat),"canCompact"in e&&n(12,g=e.canCompact),"canSort"in e&&n(13,v=e.canSort),"canTransform"in e&&n(14,y=e.canTransform),"onRenderMenu"in e&&n(15,b=e.onRenderMenu)},e.$$.update=()=>{32766&e.$$.dirty&&n(16,r=i?[{space:!0}]:[{icon:xb,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"format",onClick:s,disabled:i||!m},{icon:wb,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"compact",onClick:a,disabled:i||!g},{separator:!0},{icon:Zv,title:"Sort",className:"sort",onClick:l,disabled:i||!v},{icon:dy,title:"Transform contents (filter, sort, project)",className:"transform",onClick:c,disabled:i||!y},{icon:py,title:"Search (Ctrl+F)",className:"search",onClick:u},{separator:!0},{icon:Xv,title:"Undo (Ctrl+Z)",className:"undo",onClick:h,disabled:!f},{icon:ey,title:"Redo (Ctrl+Shift+Z)",className:"redo",onClick:d,disabled:!p},{space:!0}]),98304&e.$$.dirty&&n(0,o=b("code",r)||r)},[o,i,s,a,l,c,u,h,d,f,p,m,g,v,y,b,r]}class Fb extends Ve{constructor(e){super(),qe(this,e,Bb,Lb,l,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15},Rb)}}let qb="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<qb.length;e++)qb[e]+=qb[e-1];function Vb(e){for(let t=1;t<qb.length;t+=2)if(qb[t]>e)return qb[t-1]<=e;return!1}function Hb(e){return e>=127462&&e<=127487}function Wb(e,t,n=!0,r=!0){return(n?Ub:Jb)(e,t,r)}function Ub(e,t,n){if(t==e.length)return t;t&&Kb(e.charCodeAt(t))&&Gb(e.charCodeAt(t-1))&&t--;let r=Qb(e,t);for(t+=Zb(r);t<e.length;){let o=Qb(e,t);if(8205==r||8205==o||n&&Vb(o))t+=Zb(o),r=o;else{if(!Hb(o))break;{let n=0,r=t-2;for(;r>=0&&Hb(Qb(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function Jb(e,t,n){for(;t>0;){let r=Ub(e,t-2,n);if(r<t)return r;t--}return 0}function Kb(e){return e>=56320&&e<57344}function Gb(e){return e>=55296&&e<56320}function Qb(e,t){let n=e.charCodeAt(t);if(!Gb(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return Kb(r)?r-56320+(n-55296<<10)+65536:n}function Yb(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Zb(e){return e<65536?1:2}function Xb(e,t,n=e.length){let r=0;for(let o=0;o<n;)9==e.charCodeAt(o)?(r+=t-r%t,o++):(r++,o=Wb(e,o));return r}function ex(e,t,n,r){for(let r=0,o=0;;){if(o>=t)return r;if(r==e.length)break;o+=9==e.charCodeAt(r)?n-o%n:1,r=Wb(e,r)}return!0===r?-1:e.length}class tx{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),rx.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),rx.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new sx(this),o=new sx(e);for(let e=t,i=t;;){if(r.next(e),o.next(e),e=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(i+=r.value.length,r.done||i>=n)return!0}}iter(e=1){return new sx(this,e)}iterRange(e,t=this.length){return new ax(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new lx(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new nx(e):rx.from(nx.split(e,[])):tx.empty}}class nx extends tx{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.text[o],s=r+i.length;if((t?n:s)>=e)return new cx(r,s,n,i);r=s+1,n++}}decompose(e,t,n,r){let o=e<=0&&t>=this.length?this:new nx(ix(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=n.pop(),t=ox(o.text,e.text.slice(),0,o.length);if(t.length<=32)n.push(new nx(t,e.length+o.length));else{let e=t.length>>1;n.push(new nx(t.slice(0,e)),new nx(t.slice(e)))}}else n.push(o)}replace(e,t,n){if(!(n instanceof nx))return super.replace(e,t,n);let r=ox(this.text,ox(n.text,ix(this.text,0,e)),t),o=this.length+n.length-(t-e);return r.length<=32?new nx(r,o):rx.from(nx.split(r,[]),o)}sliceString(e,t=this.length,n="\n"){let r="";for(let o=0,i=0;o<=t&&i<this.text.length;i++){let s=this.text[i],a=o+s.length;o>e&&i&&(r+=n),e<a&&t>o&&(r+=s.slice(Math.max(0,e-o),t-o)),o=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let o of e)n.push(o),r+=o.length+1,32==n.length&&(t.push(new nx(n,r)),n=[],r=-1);return r>-1&&t.push(new nx(n,r)),t}}class rx extends tx{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.children[o],s=r+i.length,a=n+i.lines-1;if((t?a:s)>=e)return i.lineInner(e,t,n,r);r=s+1,n=a+1}}decompose(e,t,n,r){for(let o=0,i=0;i<=t&&o<this.children.length;o++){let s=this.children[o],a=i+s.length;if(e<=a&&t>=i){let o=r&((i<=e?1:0)|(a>=t?2:0));i>=e&&a<=t&&!o?n.push(s):s.decompose(e-i,t-i,n,o)}i=a+1}}replace(e,t,n){if(n.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let i=this.children[r],s=o+i.length;if(e>=o&&t<=s){let a=i.replace(e-o,t-o,n),l=this.lines-i.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let o=this.children.slice();return o[r]=a,new rx(o,this.length-(t-e)+n.length)}return super.replace(o,s,a)}o=s+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){let r="";for(let o=0,i=0;o<this.children.length&&i<=t;o++){let s=this.children[o],a=i+s.length;i>e&&o&&(r+=n),e<a&&t>i&&(r+=s.sliceString(e-i,t-i,n)),i=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof rx))return 0;let n=0,[r,o,i,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,o+=t){if(r==i||o==s)return n;let a=this.children[r],l=e.children[o];if(a!=l)return n+a.scanIdentical(l,t);n+=a.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new nx(n,t)}let r=Math.max(32,n>>5),o=r<<1,i=r>>1,s=[],a=0,l=-1,c=[];function u(e){let t;if(e.lines>o&&e instanceof rx)for(let t of e.children)u(t);else e.lines>i&&(a>i||!a)?(h(),s.push(e)):e instanceof nx&&a&&(t=c[c.length-1])instanceof nx&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,c[c.length-1]=new nx(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>r&&h(),a+=e.lines,l+=e.length+1,c.push(e))}function h(){0!=a&&(s.push(1==c.length?c[0]:rx.from(c,l)),l=-1,a=c.length=0)}for(let t of e)u(t);return h(),1==s.length?s[0]:new rx(s,t)}}function ox(e,t,n=0,r=1e9){for(let o=0,i=0,s=!0;i<e.length&&o<=r;i++){let a=e[i],l=o+a.length;l>=n&&(l>r&&(a=a.slice(0,r-o)),o<n&&(a=a.slice(n-o)),s?(t[t.length-1]+=a,s=!1):t.push(a)),o=l+1}return t}function ix(e,t,n){return ox(e,[""],t,n)}tx.empty=new nx([""],0);class sx{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof nx?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],o=this.offsets[n],i=o>>1,s=r instanceof nx?r.text.length:r.children.length;if(i==(t>0?s:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof nx){let o=r.text[i+(t<0?-1:0)];if(this.offsets[n]+=t,o.length>Math.max(0,e))return this.value=0==e?o:t>0?o.slice(e):o.slice(0,o.length-e),this;e-=o.length}else{let o=r.children[i+(t<0?-1:0)];e>o.length?(e-=o.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(o),this.offsets.push(t>0?1:(o instanceof nx?o.text.length:o.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class ax{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new sx(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class lx{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(tx.prototype[Symbol.iterator]=function(){return this.iter()},sx.prototype[Symbol.iterator]=ax.prototype[Symbol.iterator]=lx.prototype[Symbol.iterator]=function(){return this});class cx{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}const ux=/\r\n?|\n/;var hx=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(hx||(hx={}));class dx{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let o=this.sections[t++],i=this.sections[t++];i<0?(e(n,r,o),r+=o):r+=i,n+=o}}iterChangedRanges(e,t=!1){gx(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new dx(e)}composeDesc(e){return this.empty?e:e.empty?this:yx(this,e)}mapDesc(e,t=!1){return e.empty?this:vx(this,e,t)}mapPos(e,t=-1,n=hx.Simple){let r=0,o=0;for(let i=0;i<this.sections.length;){let s=this.sections[i++],a=this.sections[i++],l=r+s;if(a<0){if(l>e)return o+(e-r);o+=s}else{if(n!=hx.Simple&&l>=e&&(n==hx.TrackDel&&r<e&&l>e||n==hx.TrackBefore&&r<e||n==hx.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==r||t<0?o:o+a;o+=a}r=l}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return o}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let o=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&o>=e)return!(r<e&&o>t)||"cover";r=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new dx(e)}}class fx extends dx{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return gx(this,((t,n,r,o,i)=>e=e.replace(r,r+(n-t),i)),!1),e}mapDesc(e,t=!1){return vx(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,o=0;r<t.length;r+=2){let i=t[r],s=t[r+1];if(s>=0){t[r]=s,t[r+1]=i;let a=r>>1;for(;n.length<a;)n.push(tx.empty);n.push(i?e.slice(o,o+i):tx.empty)}o+=i}return new fx(t,n)}compose(e){return this.empty?e:e.empty?this:yx(this,e,!0)}map(e,t=!1){return e.empty?this:vx(this,e,t,!0)}iterChanges(e,t=!1){gx(this,e,t)}get desc(){return new dx(this.sections)}filter(e){let t=[],n=[],r=[],o=new bx(this);e:for(let i=0,s=0;;){let a=i==e.length?1e9:e[i++];for(;s<a||s==a&&0==o.len;){if(o.done)break e;let e=Math.min(o.len,a-s);px(r,e,-1);let i=-1==o.ins?-1:0==o.off?o.ins:0;px(t,e,i),i>0&&mx(n,t,o.text),o.forward(e),s+=e}let l=e[i++];for(;s<l;){if(o.done)break e;let e=Math.min(o.len,l-s);px(t,e,-1),px(r,e,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(e),s+=e}}return{changes:new fx(t,n),filtered:new dx(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],o=[],i=0,s=null;function a(e=!1){if(!e&&!r.length)return;i<t&&px(r,t-i,-1);let n=new fx(r,o);s=s?s.compose(n.map(s)):n,r=[],o=[],i=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof fx){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);a(),s=s?s.compose(l.map(s)):l}else{let{from:e,to:s=e,insert:c}=l;if(e>s||e<0||s>t)throw new RangeError(`Invalid change range ${e} to ${s} (in doc of length ${t})`);let u=c?"string"==typeof c?tx.of(c.split(n||ux)):c:tx.empty,h=u.length;if(e==s&&0==h)return;e<i&&a(),e>i&&px(r,e-i,-1),px(r,s-e,h),mx(o,r,u),i=s}}(e),a(!s),s}static empty(e){return new fx(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let o=e[r];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;n.length<r;)n.push(tx.empty);n[r]=tx.of(o.slice(1)),t.push(o[0],n[r].length)}}}return new fx(t,n)}}function px(e,t,n,r=!1){if(0==t&&n<=0)return;let o=e.length-2;o>=0&&n<=0&&n==e[o+1]?e[o]+=t:0==t&&0==e[o]?e[o+1]+=n:r?(e[o]+=t,e[o+1]+=n):e.push(t,n)}function mx(e,t,n){if(0==n.length)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(tx.empty);e.push(n)}}function gx(e,t,n){let r=e.inserted;for(let o=0,i=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)o+=a,i+=a;else{let c=o,u=i,h=tx.empty;for(;c+=a,u+=l,l&&r&&(h=h.append(r[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(o,c,i,u,h),o=c,i=u}}}function vx(e,t,n,r=!1){let o=[],i=r?[]:null,s=new bx(e),a=new bx(t);for(let e=0,t=0;;)if(-1==s.ins)e+=s.len,s.next();else if(-1==a.ins&&t<e){let n=Math.min(a.len,e-t);a.forward(n),px(o,n,-1),t+=n}else if(a.ins>=0&&(s.done||t<e||t==e&&(a.len<s.len||a.len==s.len&&!n))){for(px(o,a.ins,-1);e>t&&!s.done&&e+s.len<t+a.len;)e+=s.len,s.next();t+=a.len,a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return i?new fx(o,i):new dx(o);throw new Error("Mismatched change set lengths")}{let n=0,r=e+s.len;for(;;)if(a.ins>=0&&t>e&&t+a.len<r)n+=a.ins,t+=a.len,a.next();else{if(!(-1==a.ins&&t<r))break;{let e=Math.min(a.len,r-t);n+=e,a.forward(e),t+=e}}px(o,n,s.ins),i&&mx(i,o,s.text),e=r,s.next()}}}function yx(e,t,n=!1){let r=[],o=n?[]:null,i=new bx(e),s=new bx(t);for(let e=!1;;){if(i.done&&s.done)return o?new fx(r,o):new dx(r);if(0==i.ins)px(r,i.len,0,e),i.next();else if(0!=s.len||s.done){if(i.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(i.len2,s.len),n=r.length;if(-1==i.ins){let n=-1==s.ins?-1:s.off?0:s.ins;px(r,t,n,e),o&&n&&mx(o,r,s.text)}else-1==s.ins?(px(r,i.off?0:i.len,t,e),o&&mx(o,r,i.textBit(t))):(px(r,i.off?0:i.len,s.off?0:s.ins,e),o&&!s.off&&mx(o,r,s.text));e=(i.ins>t||s.ins>=0&&s.len>t)&&(e||r.length>n),i.forward2(t),s.forward(t)}}else px(r,0,s.ins,e),o&&mx(o,r,s.text),s.next()}}class bx{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?tx.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?tx.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class xx{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new xx(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return wx.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return wx.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return wx.range(e.anchor,e.head)}}class wx{constructor(e,t=0){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:wx.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new wx([this.main])}addRange(e,t=!0){return wx.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,wx.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new wx(e.ranges.map((e=>xx.fromJSON(e))),e.main)}static single(e,t=e){return new wx([wx.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=n:o.from<n)return $x(e.slice(),t);n=o.to}return new wx(e,t)}static cursor(e,t=0,n,r){return new xx(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!=r?r:33554431)<<5)}static range(e,t,n){let r=(null!=n?n:33554431)<<5;return t<e?new xx(t,e,24|r):new xx(e,t,r|(t>e?4:0))}}function $x(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let n=1;n<e.length;n++){let r=e[n],o=e[n-1];if(r.empty?r.from<=o.to:r.from<o.to){let i=o.from,s=Math.max(r.to,o.to);n<=t&&t--,e.splice(--n,2,r.anchor>r.head?wx.range(s,i):wx.range(i,s))}}return new wx(e,t)}function kx(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let Sx=0;class Cx{constructor(e,t,n,r,o){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.extensions=o,this.id=Sx++,this.default=e([])}static define(e={}){return new Cx(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:_x),!!e.static,e.enables)}of(e){return new Ox([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ox(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ox(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function _x(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class Ox{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=Sx++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,o=this.id,i=e[o]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?a=!0:"selection"==n?l=!0:0==(1&(null!==(t=e[n.id])&&void 0!==t?t:1))&&c.push(e[n.id]);return{create:e=>(e.values[i]=n(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||c.some((t=>(1&Vx(e,t))>0))){let t=n(e);if(s?!Px(t,e.values[i],r):!r(t,e.values[i]))return e.values[i]=t,1}return 0},reconfigure(e,t){let a=n(e),l=t.config.address[o];if(null!=l){let n=Hx(t,l);if(s?Px(a,n,r):r(a,n))return e.values[i]=n,0}return e.values[i]=a,1}}}}function Px(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Ex(e,t,n){let r=n.map((t=>e[t.id])),o=n.map((e=>e.type)),i=r.filter((e=>!(1&e))),s=e[t.id]>>1;function a(e){let n=[];for(let t=0;t<r.length;t++){let i=Hx(e,r[t]);if(2==o[t])for(let e of i)n.push(e);else n.push(i)}return t.combine(n)}return{create(e){for(let t of r)Vx(e,t);return e.values[s]=a(e),1},update(e,n){if(!i.some((t=>1&Vx(e,t))))return 0;let r=a(e);return t.compare(r,e.values[s])?0:(e.values[s]=r,1)},reconfigure(e,o){let i=r.some((t=>1&Vx(e,t))),l=o.config.facets[t.id],c=o.facet(t);if(l&&!i&&_x(n,l))return e.values[s]=c,0;let u=a(e);return t.compare(u,c)?(e.values[s]=c,0):(e.values[s]=u,1)}}}const Ax=Cx.define({static:!0});class jx{constructor(e,t,n,r,o){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new jx(Sx++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ax).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],o=this.updateF(r,n);return this.compareF(r,o)?0:(e.values[t]=o,1)},reconfigure:(e,n)=>null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,Ax.of({field:this,create:e})]}get extension(){return this}}const Mx=4,Tx=3,Ix=2,zx=1,Nx=0;function Rx(e){return t=>new Lx(t,e)}const Dx={lowest:Rx(Mx),low:Rx(Tx),default:Rx(Ix),high:Rx(zx),highest:Rx(Nx),fallback:Rx(Mx),extend:Rx(zx),override:Rx(Nx)};class Lx{constructor(e,t){this.inner=e,this.prec=t}}class Bx{of(e){return new Fx(this,e)}reconfigure(e){return Bx.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Fx{constructor(e,t){this.compartment=e,this.inner=t}}class qx{constructor(e,t,n,r,o,i){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=o,this.facets=i,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],o=Object.create(null),i=new Map;for(let n of function(e,t,n){let r=[[],[],[],[],[]],o=new Map;function i(e,s){let a=o.get(e);if(null!=a){if(a>=s)return;let t=r[a].indexOf(e);t>-1&&r[a].splice(t,1),e instanceof Fx&&n.delete(e.compartment)}if(o.set(e,s),Array.isArray(e))for(let t of e)i(t,s);else if(e instanceof Fx){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(e.compartment)||e.inner;n.set(e.compartment,r),i(r,s)}else if(e instanceof Lx)i(e.inner,e.prec);else if(e instanceof jx)r[s].push(e),e.provides&&i(e.provides,s);else if(e instanceof Ox)r[s].push(e),e.facet.extensions&&i(e.facet.extensions,s);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(t,s)}}return i(e,Ix),r.reduce(((e,t)=>e.concat(t)))}(e,t,i))n instanceof jx?r.push(n):(o[n.facet.id]||(o[n.facet.id]=[])).push(n);let s=Object.create(null),a=[],l=[];for(let e of r)s[e.id]=l.length<<1,l.push((t=>e.slot(t)));let c=null==n?void 0:n.config.facets;for(let e in o){let t=o[e],r=t[0].facet,i=c&&c[e]||[];if(t.every((e=>0==e.type)))if(s[r.id]=a.length<<1|1,_x(i,t))a.push(n.facet(r));else{let e=r.combine(t.map((e=>e.value)));a.push(n&&r.compare(e,n.facet(r))?n.facet(r):e)}else{for(let e of t)0==e.type?(s[e.id]=a.length<<1|1,a.push(e.value)):(s[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));s[r.id]=l.length<<1,l.push((e=>Ex(e,r,t)))}}let u=l.map((e=>e(s)));return new qx(e,i,u,s,a,o)}}function Vx(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let o=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|o}function Hx(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const Wx=Cx.define(),Ux=Cx.define({combine:e=>e.some((e=>e)),static:!0}),Jx=Cx.define({combine:e=>e.length?e[0]:void 0,static:!0}),Kx=Cx.define(),Gx=Cx.define(),Qx=Cx.define(),Yx=Cx.define({combine:e=>!!e.length&&e[0]});class Zx{constructor(e,t){this.type=e,this.value=t}static define(){return new Xx}}class Xx{of(e){return new Zx(this,e)}}class ew{constructor(e){this.map=e}of(e){return new tw(this,e)}}class tw{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new tw(this.type,t)}is(e){return this.type==e}static define(e={}){return new ew(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}tw.reconfigure=tw.define(),tw.appendConfig=tw.define();class nw{constructor(e,t,n,r,o,i){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=o,this.scrollIntoView=i,this._doc=null,this._state=null,n&&kx(n,t.newLength),o.some((e=>e.type==nw.time))||(this.annotations=o.concat(nw.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(nw.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function rw(e,t){let n=[];for(let r=0,o=0;;){let i,s;if(r<e.length&&(o==t.length||t[o]>=e[r]))i=e[r++],s=e[r++];else{if(!(o<t.length))return n;i=t[o++],s=t[o++]}!n.length||n[n.length-1]<i?n.push(i,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function ow(e,t,n){var r;let o,i,s;return n?(o=t.changes,i=fx.empty(t.changes.length),s=e.changes.compose(t.changes)):(o=t.changes.map(e.changes),i=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(o)),{changes:s,selection:t.selection?t.selection.map(i):null===(r=e.selection)||void 0===r?void 0:r.map(o),effects:tw.mapEffects(e.effects,o).concat(tw.mapEffects(t.effects,i)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function iw(e,t,n){let r=t.selection,o=lw(t.annotations);return t.userEvent&&(o=o.concat(nw.userEvent.of(t.userEvent))),{changes:t.changes instanceof fx?t.changes:fx.of(t.changes||[],n,e.facet(Jx)),selection:r&&(r instanceof wx?r:wx.single(r.anchor,r.head)),effects:lw(t.effects),annotations:o,scrollIntoView:!!t.scrollIntoView}}function sw(e,t,n){let r=iw(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let o=1;o<t.length;o++){!1===t[o].filter&&(n=!1);let i=!!t[o].sequential;r=ow(r,iw(e,t[o],i?r.changes.newLength:e.doc.length),i)}let o=new nw(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(Qx),r=e;for(let o=n.length-1;o>=0;o--){let i=n[o](e);i&&Object.keys(i).length&&(r=ow(e,iw(t,i,e.changes.newLength),!0))}return r==e?e:new nw(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let r of t.facet(Kx)){let t=r(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:rw(n,t))}if(!0!==n){let r,o;if(!1===n)o=e.changes.invertedDesc,r=fx.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,o=t.filtered.invertedDesc}e=new nw(t,r,e.selection&&e.selection.map(o),tw.mapEffects(e.effects,o),e.annotations,e.scrollIntoView)}let r=t.facet(Gx);for(let n=r.length-1;n>=0;n--){let o=r[n](e);e=o instanceof nw?o:Array.isArray(o)&&1==o.length&&o[0]instanceof nw?o[0]:sw(t,lw(o),!1)}return e}(o):o)}nw.time=Zx.define(),nw.userEvent=Zx.define(),nw.addToHistory=Zx.define(),nw.remote=Zx.define();const aw=[];function lw(e){return null==e?aw:Array.isArray(e)?e:[e]}var cw=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(cw||(cw={}));const uw=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let hw;try{hw=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(wg){}function dw(e){return t=>{if(!/\S/.test(t))return cw.Space;if(function(e){if(hw)return hw.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||uw.test(n)))return!0}return!1}(t))return cw.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return cw.Word;return cw.Other}}class fw{constructor(e,t,n,r,o,i){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,i&&(i._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)Vx(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return Vx(this,n),Hx(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return sw(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:r,compartments:o}=n;for(let t of e.effects)t.is(Bx.reconfigure)?(n&&(o=new Map,n.compartments.forEach(((e,t)=>o.set(t,e))),n=null),o.set(t.value.compartment,t.value.extension)):t.is(tw.reconfigure)?(n=null,r=t.value):t.is(tw.appendConfig)&&(n=null,r=lw(r).concat(t.value));if(n)t=e.startState.values.slice();else{n=qx.resolve(r,o,this),t=new fw(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values}new fw(n,e.newDoc,e.newSelection,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:wx.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),o=[n.range],i=lw(n.effects);for(let n=1;n<t.ranges.length;n++){let s=e(t.ranges[n]),a=this.changes(s.changes),l=a.map(r);for(let e=0;e<n;e++)o[e]=o[e].map(l);let c=r.mapDesc(a,!0);o.push(s.range.map(c)),r=r.compose(l),i=tw.mapEffects(i,l).concat(tw.mapEffects(lw(s.effects),c))}return{changes:r,selection:wx.create(o,t.mainIndex),effects:i}}changes(e=[]){return e instanceof fx?e:fx.of(e,this.doc.length,this.facet(fw.lineSeparator))}toText(e){return tx.of(e.split(this.facet(fw.lineSeparator)||ux))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(Vx(this,t),Hx(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof jx&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let t in n){let o=n[t],i=e[t];r.push(o.init((e=>o.spec.fromJSON(i,e))))}return fw.create({doc:e.doc,selection:wx.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=qx.resolve(e.extensions||[],new Map),n=e.doc instanceof tx?e.doc:tx.of((e.doc||"").split(t.staticFacet(fw.lineSeparator)||ux)),r=e.selection?e.selection instanceof wx?e.selection:wx.single(e.selection.anchor,e.selection.head):wx.single(0);return kx(r,n.length),t.staticFacet(Ux)||(r=r.asSingle()),new fw(t,n,r,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(fw.tabSize)}get lineBreak(){return this.facet(fw.lineSeparator)||"\n"}get readOnly(){return this.facet(Yx)}phrase(e){for(let t of this.facet(fw.phrases))if(Object.prototype.hasOwnProperty.call(t,e))return t[e];return e}languageDataAt(e,t,n=-1){let r=[];for(let o of this.facet(Wx))for(let i of o(this,t,n))Object.prototype.hasOwnProperty.call(i,e)&&r.push(i[e]);return r}charCategorizer(e){return dw(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),i=e-n,s=e-n;for(;i>0;){let e=Wb(t,i,!1);if(o(t.slice(e,i))!=cw.Word)break;i=e}for(;s<r;){let e=Wb(t,s);if(o(t.slice(s,e))!=cw.Word)break;s=e}return i==s?null:wx.range(i+n,s+n)}}function pw(e,t,n={}){let r={};for(let t of e)for(let e of Object.keys(t)){let o=t[e],i=r[e];if(void 0===i)r[e]=o;else if(i===o||void 0===o);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](i,o)}}for(let e in t)void 0===r[e]&&(r[e]=t[e]);return r}fw.allowMultipleSelections=Ux,fw.tabSize=Cx.define({combine:e=>e.length?e[0]:4}),fw.lineSeparator=Jx,fw.readOnly=Yx,fw.phrases=Cx.define(),fw.languageData=Wx,fw.changeFilter=Kx,fw.transactionFilter=Gx,fw.transactionExtender=Qx,Bx.reconfigure=tw.define();const mw="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),gw="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),vw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class yw{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,i,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return i.push(e[0]+";");for(let n in t){let s=t[n];if(/&/.test(n))o(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,i);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");o(r(n),s,a,c)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||c)&&i.push((!n||l||s?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)o(r(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=vw[mw]||1;return vw[mw]=e+1,"ͼ"+e.toString(36)}static mount(e,t){(e[gw]||new xw(e)).mount(Array.isArray(t)?t:[t])}}let bw=null;class xw{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(bw)return e.adoptedStyleSheets=[bw.sheet].concat(e.adoptedStyleSheets),e[gw]=bw;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),bw=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[gw]=this}mount(e){let t=this.sheet,n=0,r=0;for(let o=0;o<e.length;o++){let i=e[o],s=this.modules.indexOf(i);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,i),t)for(let e=0;e<i.rules.length;e++)t.insertRule(i.rules[e],n++)}else{for(;r<s;)n+=this.modules[r++].rules.length;n+=i.rules.length,r++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}class ww{eq(e){return this==e}range(e,t=e){return new $w(e,t,this)}}ww.prototype.startSide=ww.prototype.endSide=0,ww.prototype.point=!1,ww.prototype.mapMode=hx.TrackDel;class $w{constructor(e,t,n){this.from=e,this.to=t,this.value=n}}function kw(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Sw{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let o=n?this.to:this.from;for(let i=r,s=o.length;;){if(i==s)return i;let r=i+s>>1,a=o[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==i)return a>=0?i:s;a>=0?s=r:i=r+1}}between(e,t,n,r){for(let o=this.findIndex(t,-1e9,!0),i=this.findIndex(n,1e9,!1,o);o<i;o++)if(!1===r(this.from[o]+e,this.to[o]+e,this.value[o]))return!1}map(e,t){let n=[],r=[],o=[],i=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,u=this.value[a],h=this.from[a]+e,d=this.to[a]+e;if(h==d){let e=t.mapPos(h,u.startSide,u.mapMode);if(null==e)continue;if(l=c=e,u.startSide!=u.endSide&&(c=t.mapPos(h,u.endSide),c<l))continue}else if(l=t.mapPos(h,u.startSide),c=t.mapPos(d,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(i<0&&(i=l),u.point&&(s=Math.max(s,c-l)),n.push(u),r.push(l-i),o.push(c-i))}return{mapped:n.length?new Sw(r,o,n,s):null,pos:i}}}class Cw{constructor(e,t,n=Cw.empty,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:o=this.length}=e,i=e.filter;if(0==t.length&&!i)return this;if(n&&(t=t.slice().sort(kw)),this.isEmpty)return t.length?Cw.of(t):this;let s=new Pw(this,null,-1).goto(0),a=0,l=[],c=new _w;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!i||r>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!i||r>s.to||o<s.from||i(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||l.push(new $w(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?Cw.empty:this.nextLayer.update({add:l,filter:i,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],s=this.chunk[o],a=e.touchesRange(i,i+s.length);if(!1===a)r=Math.max(r,s.maxPoint),t.push(s),n.push(e.mapPos(i));else if(!0===a){let{mapped:o,pos:a}=s.map(i,e);o&&(r=Math.max(r,o.maxPoint),t.push(o),n.push(a))}}let o=this.nextLayer.map(e);return 0==t.length?o:new Cw(n,t,o,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],i=this.chunk[r];if(t>=o&&e<=o+i.length&&!1===i.between(o,e-o,t-o,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return Ew.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Ew.from(e).goto(t)}static compare(e,t,n,r,o=-1){let i=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),s=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),a=Ow(i,s,n),l=new jw(i,a,o),c=new jw(s,a,o);n.iterGaps(((e,t,n)=>Mw(l,e,c,t,n,r))),n.empty&&0==n.length&&Mw(l,0,c,0,0,r)}static eq(e,t,n=0,r){null==r&&(r=1e9);let o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(o.length!=i.length)return!1;if(!o.length)return!0;let s=Ow(o,i),a=new jw(o,s,0).goto(n),l=new jw(i,s,0).goto(n);for(;;){if(a.to!=l.to||!Tw(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}static spans(e,t,n,r,o=-1){var i;let s=new jw(e,null,o,null===(i=r.filterPoint)||void 0===i?void 0:i.bind(r)).goto(t),a=t,l=s.openStart;for(;;){let e=Math.min(s.to,n);if(s.point?(r.point(a,e,s.point,s.activeForPoint(s.to),l),l=s.openEnd(e)+(s.to>e?1:0)):e>a&&(r.span(a,e,s.active,l),l=s.openEnd(e)),s.to>n)break;a=s.to,s.next()}return l}static of(e,t=!1){let n=new _w;for(let r of e instanceof $w?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(kw(t,r)>0)return e.slice().sort(kw);t=r}return e}(e):e)n.add(r.from,r.to,r.value);return n.finish()}}Cw.empty=new Cw([],[],null,-1),Cw.empty.nextLayer=Cw.empty;class _w{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Sw(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new _w)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Cw.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=new Cw(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Ow(e,t,n){let r=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&r.set(t.chunk[e],t.chunkPos[e]);let o=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let i=r.get(e.chunk[t]);null==i||(n?n.mapPos(i):i)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(i,i+e.chunk[t].length))||o.add(e.chunk[t])}return o}class Pw{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ew{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let o=0;o<e.length;o++)for(let i=e[o];!i.isEmpty;i=i.nextLayer)i.maxPoint>=n&&r.push(new Pw(i,t,n,o));return 1==r.length?r[0]:new Ew(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)Aw(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)Aw(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Aw(this.heap,0)}}}function Aw(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let o=e[r];if(r+1<e.length&&o.compare(e[r+1])>=0&&(o=e[r+1],r++),n.compare(o)<0)break;e[r]=n,e[t]=o,t=r}}class jw{constructor(e,t,n,r=(()=>!0)){this.minPoint=n,this.filterPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ew.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Iw(this.active,e),Iw(this.activeTo,e),Iw(this.activeRank,e),this.minActive=Nw(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;zw(this.active,t,n),zw(this.activeTo,t,r),zw(this.activeRank,t,o),e&&zw(e,t,this.cursor.from),this.minActive=Nw(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null,r=0;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),n&&Iw(n,o)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let o=this.cursor.value;if(o.point)if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{if(this.filterPoint(this.cursor.from,this.cursor.to,this.cursor.value,this.cursor.rank)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.from<e&&(r=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){let t=0;for(;t<n.length&&n[t]<e;)t++;this.openStart=t+r}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Mw(e,t,n,r,o,i){e.goto(t),n.goto(r);let s=r+o,a=r,l=r-t;for(;;){let t=e.to+l-n.to||e.endSide-n.endSide,r=t<0?e.to+l:n.to,o=Math.min(r,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&Tw(e.activeForPoint(e.to+l),n.activeForPoint(n.to))||i.comparePoint(a,o,e.point,n.point):o>a&&!Tw(e.active,n.active)&&i.compareRange(a,o,e.active,n.active),r>s)break;a=r,t<=0&&e.next(),t>=0&&n.next()}}function Tw(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function Iw(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function zw(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function Nw(e,t){let n=-1,r=1e9;for(let o=0;o<t.length;o++)(t[o]-r||e[o].endSide-e[n].endSide)<0&&(n=o,r=t[o]);return n}for(var Rw={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Dw={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Lw="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Bw="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Fw="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),qw="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Vw="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Hw=Lw&&(qw||+Lw[1]<57)||Fw&&qw,Ww=0;Ww<10;Ww++)Rw[48+Ww]=Rw[96+Ww]=String(Ww);for(Ww=1;Ww<=24;Ww++)Rw[Ww+111]="F"+Ww;for(Ww=65;Ww<=90;Ww++)Rw[Ww]=String.fromCharCode(Ww+32),Dw[Ww]=String.fromCharCode(Ww);for(var Uw in Rw)Dw.hasOwnProperty(Uw)||(Dw[Uw]=Rw[Uw]);function Jw(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function Kw(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function Gw(e,t){if(!t.anchorNode)return!1;try{return Kw(e,t.anchorNode)}catch(e){return!1}}function Qw(e){return 3==e.nodeType?l$(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function Yw(e,t,n,r){return!!n&&(Xw(e,t,n,r,-1)||Xw(e,t,n,r,1))}function Zw(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function Xw(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:e$(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=Zw(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(o<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=o<0?e$(e):0}}}function e$(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const t$={left:0,right:0,top:0,bottom:0};function n$(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function r$(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class o${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let i$,s$=null;function a$(e){if(e.setActive)return e.setActive();if(s$)return e.focus(s$);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==s$?{get preventScroll(){return s$={preventScroll:!0},!0}}:void 0),!s$){s$=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],o=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=o&&(n.scrollLeft=o)}}}function l$(e,t,n=t){let r=i$||(i$=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function c$(e,t,n){let r={key:t,code:t,keyCode:n,which:n,cancelable:!0},o=new KeyboardEvent("keydown",r);o.synthetic=!0,e.dispatchEvent(o);let i=new KeyboardEvent("keyup",r);return i.synthetic=!0,e.dispatchEvent(i),o.defaultPrevented||i.defaultPrevented}function u$(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}class h${constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new h$(e.parentNode,Zw(e),t)}static after(e,t){return new h$(e.parentNode,Zw(e)+1,t)}}const d$=[];class f${constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let t,n=this.dom,r=null;for(let o of this.children){if(o.dirty){if(!o.dom&&(t=r?r.nextSibling:n.firstChild)){let e=f$.get(t);e&&(e.parent||e.constructor!=o.constructor)||o.reuseDOM(t)}o.sync(e),o.dirty=0}if(t=r?r.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&t!=o.dom&&(e.written=!0),o.dom.parentNode==n)for(;t&&t!=o.dom;)t=p$(t);else n.insertBefore(o.dom,t);r=o.dom}for(t=r?r.nextSibling:n.firstChild,t&&e&&e.node==n&&(e.written=!0);t;)t=p$(t)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=0==e$(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}n=r<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!f$.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let r=this.children[e];if(r.dom==n)return t;t+=r.length+r.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,o=-1,i=-1,s=-1;for(let a=0,l=n,c=n;a<this.children.length;a++){let n=this.children[a],u=l+n.length;if(l<e&&u>t)return n.domBoundsAround(e,t,l);if(u>=e&&-1==r&&(r=a,o=l),l>t&&n.dom.parentNode==this.dom){i=a,s=c;break}c=u,l=u+n.breakAfter}return{from:o,to:s<0?n+this.length:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:i<this.children.length&&i>=0?this.children[i].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=d$){this.markDirty();for(let n=e;n<t;n++){let e=this.children[n];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...n);for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new m$(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,n,r,o,i){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}function p$(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}f$.prototype.breakAfter=0;class m${constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function g$(e,t,n,r,o,i,s,a,l){let{children:c}=e,u=c.length?c[t]:null,h=i.length?i[i.length-1]:null,d=h?h.breakAfter:s;if(!(t==r&&u&&!s&&!d&&i.length<2&&u.merge(n,o,i.length?h:null,0==n,a,l))){if(r<c.length){let e=c[r];e&&o<e.length?(t==r&&(e=e.split(o),o=0),!d&&h&&e.merge(0,o,h,!0,0,l)?i[i.length-1]=e:(o&&e.merge(0,o,null,!1,0,l),i.push(e))):(null==e?void 0:e.breakAfter)&&(h?h.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&i.length&&u.merge(n,u.length,i[0],!1,a,0)?u.breakAfter=i.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,a,0),t++));t<r&&i.length;)if(c[r-1].become(i[i.length-1]))r--,i.pop(),l=i.length?0:a;else{if(!c[t].become(i[0]))break;t++,i.shift(),a=i.length?0:l}!i.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,a,l)&&t--,(t<r||i.length)&&e.replaceChildren(t,r,i)}}function v$(e,t,n,r,o,i){let s=e.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(t,-1),h=t-n;for(let e of r)h+=e.length;e.length+=h,g$(e,c,u,a,l,r,0,o,i)}let y$="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},b$="undefined"!=typeof document?document:{documentElement:{style:{}}};const x$=/Edge\/(\d+)/.exec(y$.userAgent),w$=/MSIE \d/.test(y$.userAgent),$$=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(y$.userAgent),k$=!!(w$||$$||x$),S$=!k$&&/gecko\/(\d+)/i.test(y$.userAgent),C$=!k$&&/Chrome\/(\d+)/.exec(y$.userAgent),_$="webkitFontSmoothing"in b$.documentElement.style,O$=!k$&&/Apple Computer/.test(y$.vendor),P$=O$&&(/Mobile\/\w+/.test(y$.userAgent)||y$.maxTouchPoints>2);var E$={mac:P$||/Mac/.test(y$.platform),windows:/Win/.test(y$.platform),linux:/Linux|X11/.test(y$.platform),ie:k$,ie_version:w$?b$.documentMode||6:$$?+$$[1]:x$?+x$[1]:0,gecko:S$,gecko_version:S$?+(/Firefox\/(\d+)/.exec(y$.userAgent)||[0,0])[1]:0,chrome:!!C$,chrome_version:C$?+C$[1]:0,ios:P$,android:/Android\b/.test(y$.userAgent),webkit:_$,safari:O$,webkit_version:_$?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=b$.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class A$ extends f${constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return(!n||n instanceof A$&&!(this.length-(t-e)+n.length>256))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new A$(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new h$(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return M$(this.dom,e,t)}}class j$ extends f${constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(u$(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,n,r,o,i){return(!n||!(!(n instanceof j$&&n.mark.eq(this.mark))||e&&o<=0||t<this.length&&i<=0))&&(v$(this,e,t,n?n.children:[],o-1,i-1),this.markDirty(),!0)}split(e){let t=[],n=0,r=-1,o=0;for(let i of this.children){let s=n+i.length;s>e&&t.push(n<e?i.split(e-n):i),r<0&&n>=e&&(r=o),n=s,o++}let i=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new j$(this.mark,t,i)}domAtPos(e){return D$(this.dom,this.children,e)}coordsAt(e,t){return B$(this,e,t)}}function M$(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let o=t,i=t,s=0;0==t&&n<0||t==r&&n>=0?E$.chrome||E$.gecko||(t?(o--,s=1):(i++,s=-1)):n<0?o--:i++;let a=l$(e,o,i).getClientRects();if(!a.length)return t$;let l=a[(s?s<0:n>=0)?0:a.length-1];return E$.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l),s?n$(l,s<0):l||null}class T$ extends f${constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}static create(e,t,n){return new(e.customView||T$)(e,t,n)}split(e){let t=T$.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof T$&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof T$&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return tx.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):tx.empty}domAtPos(e){return 0==e?h$.before(this.dom):h$.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.dom.getClientRects(),r=null;if(!n.length)return t$;for(let t=e>0?n.length-1:0;r=n[t],!(e>0?0==t:t==n.length-1||r.top<r.bottom);t+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?r:n$(r,0==e)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class I$ extends T${domAtPos(e){let{topView:t,text:n}=this.widget;return t?z$(e,0,t,n,((e,t)=>e.domAtPos(t)),(e=>new h$(n,Math.min(e,n.nodeValue.length)))):new h$(n,Math.min(e,n.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:n,text:r}=this.widget;return n?N$(e,t,n,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:n,text:r}=this.widget;return n?z$(e,t,n,r,((e,t,n)=>e.coordsAt(t,n)),((e,t)=>M$(r,e,t))):M$(r,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}}function z$(e,t,n,r,o,i){if(n instanceof j$){for(let s of n.children){let n=Kw(s.dom,r),a=n?r.nodeValue.length:s.length;if(e<a||e==a&&s.getSide()<=0)return n?z$(e,t,s,r,o,i):o(s,e,t);e-=a}return o(n,n.length,-1)}return n.dom==r?i(e,t):o(n,e,t)}function N$(e,t,n,r){if(n instanceof j$)for(let o of n.children){let n=0,i=Kw(o.dom,r);if(Kw(o.dom,e))return n+(i?N$(e,t,o,r):o.localPosFromDOM(e,t));n+=i?r.nodeValue.length:o.length}else if(n.dom==r)return Math.min(t,r.nodeValue.length);return n.localPosFromDOM(e,t)}class R$ extends f${constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof R$&&e.side==this.side}split(){return new R$(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return h$.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),n=function(e,t){let n=e.parent,r=n?n.children.indexOf(e):-1;for(;n&&r>=0;)if(t<0?r>0:r<n.children.length){let e=n.children[r+t];if(e instanceof A$){let n=e.coordsAt(t<0?e.length:0,t);if(n)return n}r+=t}else{if(!(n instanceof j$&&n.parent)){let e=n.dom.lastChild;if(e&&"BR"==e.nodeName)return e.getClientRects()[0];break}r=n.parent.children.indexOf(n)+(t<0?0:1),n=n.parent}return}(this,this.side>0?-1:1);return n&&n.top<t.bottom&&n.bottom>t.top?{left:t.left,right:t.right,top:n.top,bottom:n.bottom}:t}get overrideDOMText(){return tx.empty}}function D$(e,t,n){let r=0;for(let o=0;r<t.length;r++){let i=t[r],s=o+i.length;if(!(s==o&&i.getSide()<=0)){if(n>o&&n<s&&i.dom.parentNode==e)return i.domAtPos(n-o);if(n<=o)break;o=s}}for(;r>0;r--){let n=t[r-1].dom;if(n.parentNode==e)return h$.after(n)}return new h$(e,0)}function L$(e,t,n){let r,{children:o}=e;n>0&&t instanceof j$&&o.length&&(r=o[o.length-1])instanceof j$&&r.mark.eq(t.mark)?L$(r,t.children[0],n-1):(o.push(t),t.setParent(e)),e.length+=t.length}function B$(e,t,n){for(let r=0,o=0;o<e.children.length;o++){let i,s=e.children[o],a=r+s.length;if((n<=0||a==e.length||s.getSide()>0?a>=t:a>t)&&(t<a||o+1==e.children.length||(i=e.children[o+1]).length||i.getSide()>0)){let e=0;if(a==r){if(s.getSide()<=0)continue;e=n=-s.getSide()}let o=s.coordsAt(Math.max(0,t-r),n);return e&&o?n$(o,n<0):o}r=a}let r=e.dom.lastChild;if(!r)return e.dom.getBoundingClientRect();let o=Qw(r);return o[o.length-1]||null}function F$(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function q$(e,t){if(e==t)return!0;if(!e||!t)return!1;let n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let o of n)if(-1==r.indexOf(o)||e[o]!==t[o])return!1;return!0}function V$(e,t,n){if(t)for(let r in t)n&&r in n||e.removeAttribute(r);if(n)for(let r in n)t&&t[r]==n[r]||e.setAttribute(r,n[r])}A$.prototype.children=T$.prototype.children=R$.prototype.children=d$;class H${eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var W$=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(W$||(W$={}));class U$ extends ww{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new J$(e)}static widget(e){let t=e.side||0,n=!!e.block;return t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,new G$(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:o,end:i}=Q$(e,r);t=(o?r?-3e8:-1:5e8)-1,n=1+(i?r?2e8:1:-6e8)}return new G$(e,t,n,r,e.widget||null,!0)}static line(e){return new K$(e)}static set(e,t=!1){return Cw.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}U$.none=Cw.empty;class J$ extends U${constructor(e){let{start:t,end:n}=Q$(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof J$&&this.tagName==e.tagName&&this.class==e.class&&q$(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}J$.prototype.point=!1;class K$ extends U${constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof K$&&q$(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}K$.prototype.mapMode=hx.TrackBefore,K$.prototype.point=!0;class G$ extends U${constructor(e,t,n,r,o,i){super(t,n,o,e),this.block=r,this.isReplace=i,this.mapMode=r?t<=0?hx.TrackBefore:hx.TrackAfter:hx.TrackDel}get type(){return this.startSide<this.endSide?W$.WidgetRange:this.startSide<=0?W$.WidgetBefore:W$.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof G$&&(t=this.widget,n=e.widget,t==n||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function Q$(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!=n?n:t,end:null!=r?r:t}}function Y$(e,t,n,r=0){let o=n.length-1;o>=0&&n[o]+r>=e?n[o]=Math.max(n[o],t):n.push(e,t)}G$.prototype.point=!0;class Z$ extends f${constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,o,i){if(n){if(!(n instanceof Z$))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),v$(this,e,t,n?n.children:[],o,i),!0}split(e){let t=new Z$;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){q$(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){L$(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=F$(t,this.attrs||{})),n&&(this.attrs=F$({class:n},this.attrs||{}))}domAtPos(e){return D$(this.dom,this.children,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?4&this.dirty&&(u$(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(V$(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let n=this.dom.lastChild;for(;n&&f$.get(n)instanceof j$;)n=n.lastChild;if(!(n&&this.length&&("BR"==n.nodeName||0!=(null===(t=f$.get(n))||void 0===t?void 0:t.isEditable)||E$.ios&&this.children.some((e=>e instanceof A$))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof A$))return null;let n=Qw(t.dom);if(1!=n.length)return null;e+=n[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return B$(this,e,t)}become(e){return!1}get type(){return W$.Text}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let o=e.children[n],i=r+o.length;if(i>=t){if(o instanceof Z$)return o;if(i>t)break}r=i+o.breakAfter}return null}}class X$ extends f${constructor(e,t,n){super(),this.widget=e,this.length=t,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof X$&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?h$.before(this.dom):h$.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new X$(this.widget,t,this.type);return n.breakAfter=this.breakAfter,n}get children(){return d$}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):tx.empty}domBoundsAround(){return null}become(e){return e instanceof X$&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ek{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsBelow=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof X$&&e.type==W$.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Z$),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(tk(new R$(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,n)),this.getLine().append(tk(new A$(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,o){let i=t-e;if(n instanceof G$)if(n.block){let{type:e}=n;e!=W$.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new X$(n.widget||new nk("div"),i,e))}else{let s=T$.create(n.widget||new nk("span"),i,n.startSide),a=this.atCursorPos&&!s.isEditable&&o<=r.length&&(e<t||n.startSide>0),l=!s.isEditable&&(e<t||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(r),a&&(c.append(tk(new R$(1),r),o),o=r.length+Math.max(0,o-r.length)),c.append(tk(s,r),o),this.atCursorPos=l,this.pendingBuffer=l?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);i&&(this.textOff+i<=this.text.length?this.textOff+=i:(this.skip+=i-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}filterPoint(e,t,n,r){if(r<this.disallowBlockEffectsBelow&&n instanceof G$){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}return!0}static build(e,t,n,r,o){let i=new ek(e,t,n,o);return i.openEnd=Cw.spans(r,t,n,i),i.openStart<0&&(i.openStart=i.openEnd),i.finish(i.openEnd),i}}function tk(e,t){for(let n of t)e=new j$(n,[e],e.length);return e}class nk extends H${constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const rk=[],ok=Cx.define(),ik=Cx.define(),sk=Cx.define(),ak=Cx.define(),lk=Cx.define(),ck=Cx.define(),uk=tw.define({map:(e,t)=>e.map(t)}),hk=tw.define({map:(e,t)=>e.map(t)});class dk{constructor(e,t="nearest",n="nearest",r=5,o=5){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=o}map(e){return e.empty?this:new dk(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const fk=tw.define({map:(e,t)=>e.map(t)});function pk(e,t,n){let r=e.facet(ak);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const mk=Cx.define({combine:e=>!e.length||e[0]});class gk{constructor(e,t){this.field=e,this.get=t}}class vk{from(e){return new gk(this,e)}static define(){return new vk}}vk.decorations=vk.define(),vk.atomicRanges=vk.define(),vk.scrollMargins=vk.define();let yk=0;const bk=Cx.define();class xk{constructor(e,t,n){this.id=e,this.create=t,this.fields=n,this.extension=bk.of(this)}static define(e,t){let{eventHandlers:n,provide:r,decorations:o}=t||{},i=[];if(r)for(let e of Array.isArray(r)?r:[r])i.push(e);return n&&i.push(wk.from((e=>({plugin:e,handlers:n})))),o&&i.push(vk.decorations.from(o)),new xk(yk++,e,i)}static fromClass(e,t){return xk.define((t=>new e(t)),t)}}const wk=vk.define();class $k{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}takeField(e,t){if(this.spec)for(let{field:n,get:r}of this.spec.fields)n==e&&t.push(r(this.value))}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(pk(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){pk(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){pk(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const kk=Cx.define(),Sk=Cx.define(),Ck=Cx.define(),_k=Cx.define();class Ok{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new Ok(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let r=0,o=0,i=0,s=0;;r++){let a=r==e.length?null:e[r],l=i-s,c=a?a.fromB:1e9;for(;o<t.length&&t[o]<c;){let e=t[o],r=t[o+1],i=Math.max(s,e),a=Math.min(c,r);if(i<=a&&new Ok(i+l,a+l,i,a).addToSet(n),r>c)break;o+=2}if(!a)return n;new Ok(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),i=a.toA,s=a.toB}}}class Pk{constructor(e,t,n=rk){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=fx.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges(((e,t,n,o)=>r.push(new Ok(e,t,n,o)))),this.changedRanges=r;let o=e.hasFocus;o!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=o,this.flags|=1)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Ek=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Ek||(Ek={}));const Ak=Ek.LTR,jk=Ek.RTL;function Mk(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const Tk=Mk("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ik=Mk("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),zk=Object.create(null),Nk=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);zk[t]=n,zk[n]=-t}const Rk=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Dk{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?jk:Ak}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,r){let o=-1;for(let i=0;i<e.length;i++){let s=e[i];if(s.from<=t&&s.to>=t){if(s.level==n)return i;(o<0||(0!=r?r<0?s.from<t:s.to>t:e[o].level>s.level))&&(o=i)}}if(o<0)throw new RangeError("Index out of range");return o}}const Lk=[];function Bk(e){return[new Dk(0,e,0)]}let Fk="";function qk(e,t,n,r,o){var i;let s=r.head-e.from,a=-1;if(0==s){if(!o||!e.length)return null;t[0].level!=n&&(s=t[0].side(!1,n),a=0)}else if(s==e.length){if(o)return null;let e=t[t.length-1];e.level!=n&&(s=e.side(!0,n),a=t.length-1)}a<0&&(a=Dk.find(t,s,null!==(i=r.bidiLevel)&&void 0!==i?i:-1,r.assoc));let l=t[a];s==l.side(o,n)&&(l=t[a+=o?1:-1],s=l.side(!o,n));let c=o==(l.dir==n),u=Wb(e.text,s,c);if(Fk=e.text.slice(Math.min(s,u),Math.max(s,u)),u!=l.side(o,n))return wx.cursor(u+e.from,c?-1:1,l.level);let h=a==(o?t.length-1:0)?null:t[a+(o?1:-1)];return h||l.level==n?h&&h.level<l.level?wx.cursor(h.side(!o,n)+e.from,o?1:-1,h.level):wx.cursor(u+e.from,o?-1:1,l.level):wx.cursor(o?e.to:e.from,o?-1:1,n)}class Vk{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(fw.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+="￿"}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r),this.readNode(r);let e=r.nextSibling;if(e==t)break;let o=f$.get(r),i=f$.get(e);(o&&i?o.breakAfter:(o?o.breakAfter:Hk(r))||Hk(e)&&("BR"!=r.nodeName||r.cmIgnore))&&this.lineBreak(),r=e}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o,i=-1,s=1;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(o=r.exec(t))&&(i=o.index,s=o[0].length),this.append(t.slice(n,i<0?t.length:i)),i<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);n=i+s}}readNode(e){if(e.cmIgnore)return;let t=f$.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(t,n.offset))}}function Hk(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class Wk{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Uk extends f${constructor(e){super(),this.view=e,this.compositionDeco=U$.none,this.decorations=[],this.pluginDecorationLength=0,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Z$],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ok(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=U$.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){let n=Kk(e);if(!n)return U$.none;let{from:r,to:o,node:i,text:s}=n,a=t.mapPos(r,1),l=Math.max(a,t.mapPos(o,-1)),{state:c}=e,u=3==i.nodeType?i.nodeValue:new Vk([],c).readRange(i.firstChild,null).text;if(l-a<u.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+u.length),"￿")==u)l=a+u.length;else{if(c.doc.sliceString(Math.max(0,l-u.length),l,"￿")!=u)return U$.none;a=l-u.length}else if(c.doc.sliceString(a,l,"￿")!=u)return U$.none;let h=f$.get(i);h instanceof I$?h=h.widget.topView:h&&(h.parent=null);return U$.set(U$.replace({widget:new Gk(i,s,h)}).range(a,l))}(this.view,e.changes)),(E$.ie||E$.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let n=function(e,t,n){let r=new Yk;return Cw.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return t=Ok.extendWithRanges(t,n),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let e=E$.chrome||E$.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(e),this.dirty=0,e&&(e.written||n.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof X$&&e.widget instanceof Jk&&r.push(e.dom);n.updateGaps(r)}updateChildren(e,t){let n=this.childCursor(t);for(let t=e.length-1;;t--){let r=t>=0?e[t]:null;if(!r)break;let{fromA:o,toA:i,fromB:s,toB:a}=r,{content:l,breakAtStart:c,openStart:u,openEnd:h}=ek.build(this.view.state.doc,s,a,this.decorations,this.pluginDecorationLength),{i:d,off:f}=n.findPos(i,1),{i:p,off:m}=n.findPos(o,-1);g$(this,p,m,d,f,l,c,u,h)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection()||E$.ios&&this.view.inputState.rapidCompositionStart)return;let n=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,o=this.domAtPos(r.anchor),i=r.empty?o:this.domAtPos(r.head);if(E$.gecko&&r.empty&&(1==(s=o).node.nodeType&&s.node.firstChild&&(0==s.offset||"false"==s.node.childNodes[s.offset-1].contentEditable)&&(s.offset==s.node.childNodes.length||"false"==s.node.childNodes[s.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>o.node.insertBefore(e,o.node.childNodes[o.offset]||null))),o=i=new h$(e,0),n=!0}var s;let a=this.view.observer.selectionRange;!n&&a.focusNode&&Yw(o.node,o.offset,a.anchorNode,a.anchorOffset)&&Yw(i.node,i.offset,a.focusNode,a.focusOffset)||(this.view.observer.ignore((()=>{E$.android&&E$.chrome&&this.dom.contains(a.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=Jw(this.root);if(r.empty){if(E$.gecko){let e=(t=o.node,n=o.offset,1!=t.nodeType?0:(n&&"false"==t.childNodes[n-1].contentEditable?1:0)|(n<t.childNodes.length&&"false"==t.childNodes[n].contentEditable?2:0));if(e&&3!=e){let t=Qk(o.node,o.offset,1==e?1:-1);t&&(o=new h$(t,1==e?0:t.nodeValue.length))}}e.collapse(o.node,o.offset),null!=r.bidiLevel&&null!=a.cursorBidiLevel&&(a.cursorBidiLevel=r.bidiLevel)}else if(e.extend)e.collapse(o.node,o.offset),e.extend(i.node,i.offset);else{let t=document.createRange();r.anchor>r.head&&([o,i]=[i,o]),t.setEnd(i.node,i.offset),t.setStart(o.node,o.offset),e.removeAllRanges(),e.addRange(t)}var t,n})),this.view.observer.setSelectionRange(o,i)),this.impreciseAnchor=o.precise?null:new h$(a.anchorNode,a.anchorOffset),this.impreciseHead=i.precise?null:new h$(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=Jw(this.root);if(!e.empty||!e.assoc||!t.modify)return;let n=Z$.find(this,e.head);if(!n)return;let r=n.posAtStart;if(e.head==r||e.head==r+n.length)return;let o=this.coordsAt(e.head,-1),i=this.coordsAt(e.head,1);if(!o||!i||o.bottom>i.top)return;let s=this.domAtPos(e.head+e.assoc);t.collapse(s.node,s.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(mk)?this.root.activeElement==this.dom:Gw(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let e=f$.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof Z$)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){for(let n=this.length,r=this.children.length-1;;r--){let o=this.children[r],i=n-o.breakAfter-o.length;if(e>i||e==i&&o.type!=W$.WidgetBefore&&o.type!=W$.WidgetAfter&&(!r||2==t||this.children[r-1].breakAfter||this.children[r-1].type==W$.WidgetBefore&&t>-2))return o.coordsAt(e-i,t);n=i}}measureVisibleLineHeights(){let e=[],{from:t,to:n}=this.view.viewState.viewport,r=this.view.contentDOM.clientWidth,o=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,i=-1;for(let s=0,a=0;a<this.children.length;a++){let l=this.children[a],c=s+l.length;if(c>n)break;if(s>=t){let t=l.dom.getBoundingClientRect();if(e.push(t.height),o){let e=l.dom.lastChild,n=e?Qw(e):[];if(n.length){let e=n[n.length-1],o=this.view.textDirection==Ek.LTR?e.right-t.left:t.right-e.left;o>i&&(i=o,this.minWidth=r,this.minWidthFrom=s,this.minWidthTo=c)}}}s=c+l.breakAfter}return e}measureTextSize(){for(let e of this.children)if(e instanceof Z$){let t=e.measureTextSize();if(t)return t}let e,t,n=document.createElement("div");return n.className="cm-line",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let r=Qw(n.firstChild)[0];e=n.getBoundingClientRect().height,t=r?r.width/27:7,n.remove()})),{lineHeight:e,charWidth:t}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new m$(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],i=o?o.from-1:this.length;if(i>n){let r=t.lineBlockAt(i).bottom-t.lineBlockAt(n).top;e.push(U$.replace({widget:new Jk(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,i))}if(!o)break;n=o.to+1}return U$.set(e)}updateDeco(){let e=this.view.pluginField(vk.decorations);return this.pluginDecorationLength=e.length,this.decorations=[...e,...this.view.state.facet(Ck),this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let t,{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let o=0,i=0,s=0,a=0;for(let e of this.view.pluginField(vk.scrollMargins))if(e){let{left:t,right:n,top:r,bottom:l}=e;null!=t&&(o=Math.max(o,t)),null!=n&&(i=Math.max(i,n)),null!=r&&(s=Math.max(s,r)),null!=l&&(a=Math.max(a,l))}let l={left:r.left-o,top:r.top-s,right:r.right+i,bottom:r.bottom+a};!function(e,t,n,r,o,i,s,a){let l=e.ownerDocument,c=l.defaultView;for(let u=e;u;)if(1==u.nodeType){let e,h=u==l.body;if(h)e=r$(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let t=u.getBoundingClientRect();e={left:t.left,right:t.left+u.clientWidth,top:t.top,bottom:t.top+u.clientHeight}}let d=0,f=0;if("nearest"==o)t.top<e.top?(f=-(e.top-t.top+s),n>0&&t.bottom>e.bottom+f&&(f=t.bottom-e.bottom+f+s)):t.bottom>e.bottom&&(f=t.bottom-e.bottom+s,n<0&&t.top-f<e.top&&(f=-(e.top+f-t.top+s)));else{let r=t.bottom-t.top,i=e.bottom-e.top;f=("center"==o&&r<=i?t.top+r/2-i/2:"start"==o||"center"==o&&n<0?t.top-s:t.bottom-i+s)-e.top}if("nearest"==r?t.left<e.left?(d=-(e.left-t.left+i),n>0&&t.right>e.right+d&&(d=t.right-e.right+d+i)):t.right>e.right&&(d=t.right-e.right+i,n<0&&t.left<e.left+d&&(d=-(e.left+d-t.left+i))):d=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==a?t.left-i:t.right-(e.right-e.left)+i)-e.left,d||f)if(h)c.scrollBy(d,f);else{if(f){let e=u.scrollTop;u.scrollTop+=f,f=u.scrollTop-e}if(d){let e=u.scrollLeft;u.scrollLeft+=d,d=u.scrollLeft-e}t={left:t.left-d,top:t.top-f,right:t.right-d,bottom:t.bottom-f}}if(h)break;u=u.assignedSlot||u.parentNode,r=o="nearest"}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,l,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Ek.LTR)}}class Jk extends H${constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Kk(e){let t=e.observer.selectionRange,n=t.focusNode&&Qk(t.focusNode,t.focusOffset,0);if(!n)return null;let r=e.docView.nearest(n);if(!r)return null;if(r instanceof Z$){let e=n;for(;e.parentNode!=r.dom;)e=e.parentNode;let t=e.previousSibling;for(;t&&!f$.get(t);)t=t.previousSibling;let o=t?f$.get(t).posAtEnd:r.posAtStart;return{from:o,to:o,node:e,text:n}}{for(;;){let{parent:e}=r;if(!e)return null;if(e instanceof Z$)break;r=e}let e=r.posAtStart;return{from:e,to:e+r.length,node:r.dom,text:n}}}class Gk extends H${constructor(e,t,n){super(),this.top=e,this.text=t,this.topView=n}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return I$}}function Qk(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=e$(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}class Yk{constructor(){this.changes=[]}compareRange(e,t){Y$(e,t,this.changes)}comparePoint(e,t){Y$(e,t,this.changes)}}function Zk(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function Xk(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function eS(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function tS(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function nS(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function rS(e,t,n){let r,o,i,s,a,l,c,u;for(let h=e.firstChild;h;h=h.nextSibling){let e=Qw(h);for(let d=0;d<e.length;d++){let f=e[d];o&&eS(o,f)&&(f=tS(nS(f,o.bottom),o.top));let p=Zk(t,f),m=Xk(n,f);if(0==p&&0==m)return 3==h.nodeType?oS(h,t,n):rS(h,t,n);(!r||s>m||s==m&&i>p)&&(r=h,o=f,i=p,s=m),0==p?n>f.bottom&&(!c||c.bottom<f.bottom)?(a=h,c=f):n<f.top&&(!u||u.top>f.top)&&(l=h,u=f):c&&eS(c,f)?c=nS(c,f.bottom):u&&eS(u,f)&&(u=tS(u,f.top))}}if(c&&c.bottom>=n?(r=a,o=c):u&&u.top<=n&&(r=l,o=u),!r)return{node:e,offset:0};let h=Math.max(o.left,Math.min(o.right,t));return 3==r.nodeType?oS(r,h,n):i||"true"!=r.contentEditable?{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(o.left+o.right)/2?1:0)}:rS(r,h,n)}function oS(e,t,n){let r=e.nodeValue.length,o=-1,i=1e9,s=0;for(let a=0;a<r;a++){let r=l$(e,a,a+1).getClientRects();for(let l=0;l<r.length;l++){let c=r[l];if(c.top==c.bottom)continue;s||(s=t-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&u<i){let n=t>=(c.left+c.right)/2,r=n;if(E$.chrome||E$.gecko){l$(e,a).getBoundingClientRect().left==c.right&&(r=!n)}if(u<=0)return{node:e,offset:a+(r?1:0)};o=a+(r?1:0),i=u}}}return{node:e,offset:o>-1?o:s>0?e.nodeValue.length:0}}function iS(e,{x:t,y:n},r,o=-1){var i;let s,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,u=n-l;if(u<0)return 0;if(u>c)return e.state.doc.length;for(let t=e.defaultLineHeight/2,n=!1;s=e.elementAtHeight(u),s.type!=W$.Text;)for(;u=o>0?s.bottom+t:s.top-t,!(u>=0&&u<=c);){if(n)return r?null:0;n=!0,o=-o}n=l+u;let h=s.from;if(h<e.viewport.from)return 0==e.viewport.from?0:r?null:sS(e,a,s,t,n);if(h>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:r?null:sS(e,a,s,t,n);let d=e.dom.ownerDocument,f=e.root.elementFromPoint?e.root:d,p=f.elementFromPoint(t,n);p&&!e.contentDOM.contains(p)&&(p=null),p||(t=Math.max(a.left+1,Math.min(a.right-1,t)),p=f.elementFromPoint(t,n),p&&!e.contentDOM.contains(p)&&(p=null));let m,g=-1;if(p&&0!=(null===(i=e.docView.nearest(p))||void 0===i?void 0:i.isEditable))if(d.caretPositionFromPoint){let e=d.caretPositionFromPoint(t,n);e&&({offsetNode:m,offset:g}=e)}else if(d.caretRangeFromPoint){let e=d.caretRangeFromPoint(t,n);e&&(({startContainer:m,startOffset:g}=e),E$.safari&&function(e,t,n){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return l$(e,r-1,r).getBoundingClientRect().left>n}(m,g,t)&&(m=void 0))}if(!m||!e.docView.dom.contains(m)){let r=Z$.find(e.docView,h);if(!r)return u>s.top+s.height/2?s.to:s.from;({node:m,offset:g}=rS(r.dom,t,n))}return e.docView.posFromDOM(m,g)}function sS(e,t,n,r,o){let i=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){i+=Math.floor((o-n.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(n.from,n.to);return n.from+ex(s,i,e.state.tabSize)}function aS(e,t,n,r){let o=e.state.doc.lineAt(t.head),i=e.bidiSpans(o);for(let s=t,a=null;;){let t=qk(o,i,e.textDirection,s,n),l=Fk;if(!t){if(o.number==(n?e.state.doc.lines:1))return s;l="\n",o=e.state.doc.line(o.number+(n?1:-1)),i=e.bidiSpans(o),t=wx.cursor(n?o.from:o.to)}if(a){if(!a(l))return s}else{if(!r)return t;a=r(l)}s=t}}function lS(e,t,n){let r=e.pluginField(vk.atomicRanges);for(;;){let e=!1;for(let o of r)o.between(n.from-1,n.from+1,((r,o,i)=>{n.from>r&&n.from<o&&(n=t.from>n.from?wx.cursor(r,1):wx.cursor(o,-1),e=!0)}));if(!e)return n}}class cS{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in pS){let n=pS[t];e.contentDOM.addEventListener(t,(r=>{fS(e,r)&&!this.ignoreDuringComposition(r)&&("keydown"==t&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():n(e,r)))})),this.registeredEvents.push(t)}this.notifiedFocused=e.hasFocus,this.ensureHandlers(e),E$.safari&&e.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e){let t=this.customHandlers=e.pluginField(wk);for(let n of t)for(let t in n.handlers)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(n=>{fS(e,n)&&this.runCustomHandlers(t,e,n)&&n.preventDefault()})))}runCustomHandlers(e,t,n){for(let r of this.customHandlers){let o=r.handlers[e];if(o)try{if(o.call(r.plugin,n,t)||n.defaultPrevented)return!0}catch(e){pk(t.state,e)}}return!1}runScrollHandlers(e,t){for(let n of this.customHandlers){let r=n.handlers.scroll;if(r)try{r.call(n.plugin,t,e)}catch(t){pk(e.state,t)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(E$.android&&E$.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return!(!E$.ios||!(n=uS.find((e=>e.keyCode==t.keyCode)))||t.ctrlKey||t.altKey||t.metaKey||t.synthetic)&&(this.pendingIOSKey=n,setTimeout((()=>this.flushIOSKey(e)),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,c$(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(E$.safari&&Date.now()-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type&&!E$.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const uS=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],hS=[16,17,18,20,91,92,224,225];class dS{constructor(e,t,n,r){this.view=e,this.style=n,this.mustSelect=r,this.lastEvent=t;let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(fw.allowMultipleSelections)&&function(e,t){let n=e.state.facet(ok);return n.length?n[0](t):E$.mac?t.metaKey:t.ctrlKey}(e,t),this.dragMove=function(e,t){let n=e.state.facet(ik);return n.length?n[0](t):E$.mac?!t.altKey:!t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=Jw(e.root);if(0==r.rangeCount)return!0;let o=r.getRangeAt(0).getClientRects();for(let e=0;e<o.length;e++){let n=o[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(e,t)||1!=OS(t))&&null,!1===this.dragging&&(t.preventDefault(),this.select(t))}move(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=e)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function fS(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=f$.get(r))&&n.ignoreEvent(t))return!1;return!0}const pS=Object.create(null),mS=E$.ie&&E$.ie_version<15||E$.ios&&E$.webkit_version<604;function gS(e,t){let n,{state:r}=e,o=1,i=r.toText(t),s=i.lines==r.selection.ranges.length;if(null!=ES&&r.selection.ranges.every((e=>e.empty))&&ES==i.toString()){let e=-1;n=r.changeByRange((n=>{let a=r.doc.lineAt(n.from);if(a.from==e)return{range:n};e=a.from;let l=r.toText((s?i.line(o++).text:t)+r.lineBreak);return{changes:{from:a.from,insert:l},range:wx.cursor(n.from+l.length)}}))}else n=s?r.changeByRange((e=>{let t=i.line(o++);return{changes:{from:e.from,to:e.to,insert:t.text},range:wx.cursor(e.from+t.length)}})):r.replaceSelection(i);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}pS.keydown=(e,t)=>{e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():hS.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)};let vS=0;function yS(e,t,n,r){if(1==r)return wx.cursor(t,n);if(2==r)return function(e,t,n=1){let r=e.charCategorizer(t),o=e.doc.lineAt(t),i=t-o.from;if(0==o.length)return wx.cursor(t);0==i?n=1:i==o.length&&(n=-1);let s=i,a=i;n<0?s=Wb(o.text,i,!1):a=Wb(o.text,i);let l=r(o.text.slice(s,a));for(;s>0;){let e=Wb(o.text,s,!1);if(r(o.text.slice(e,s))!=l)break;s=e}for(;a<o.length;){let e=Wb(o.text,a);if(r(o.text.slice(a,e))!=l)break;a=e}return wx.range(s+o.from,a+o.from)}(e.state,t,n);{let n=Z$.find(e.docView,t),r=e.state.doc.lineAt(n?n.posAtEnd:t),o=n?n.posAtStart:r.from,i=n?n.posAtEnd:r.to;return i<e.state.doc.length&&i==r.to&&i++,wx.range(o,i)}}pS.touchstart=(e,t)=>{vS=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},pS.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},pS.mousedown=(e,t)=>{if(e.observer.flush(),vS>Date.now()-2e3&&1==OS(t))return;let n=null;for(let r of e.state.facet(sk))if(n=r(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=$S(e,t),r=OS(t),o=e.state.selection,i=n,s=t;return{update(e){e.docChanged&&(n&&(n.pos=e.changes.mapPos(n.pos)),o=o.map(e.changes),s=null)},get(t,a,l){let c;if(s&&t.clientX==s.clientX&&t.clientY==s.clientY?c=i:(c=i=$S(e,t),s=t),!c||!n)return o;let u=yS(e,c.pos,c.bias,r);if(n.pos!=c.pos&&!a){let t=yS(e,n.pos,n.bias,r),o=Math.min(t.from,u.from),i=Math.max(t.to,u.to);u=o<u.from?wx.range(o,i):wx.range(i,o)}return a?o.replaceRange(o.main.extend(u.from,u.to)):l?o.addRange(u):wx.create([u])}}}(e,t)),n){let r=e.root.activeElement!=e.contentDOM;r&&e.observer.ignore((()=>a$(e.contentDOM))),e.inputState.startMouseSelection(new dS(e,t,n,r))}};let bS=(e,t)=>e>=t.top&&e<=t.bottom,xS=(e,t,n)=>bS(t,n)&&e>=n.left&&e<=n.right;function wS(e,t,n,r){let o=Z$.find(e.docView,t);if(!o)return 1;let i=t-o.posAtStart;if(0==i)return 1;if(i==o.length)return-1;let s=o.coordsAt(i,-1);if(s&&xS(n,r,s))return-1;let a=o.coordsAt(i,1);return a&&xS(n,r,a)?1:s&&bS(r,s)?-1:1}function $S(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:wS(e,n,t.clientX,t.clientY)}}const kS=E$.ie&&E$.ie_version<=11;let SS=null,CS=0,_S=0;function OS(e){if(!kS)return e.detail;let t=SS,n=_S;return SS=e,_S=Date.now(),CS=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(CS+1)%3:1}function PS(e,t,n,r){if(!n)return;let o=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:i}=e.inputState,s=r&&i&&i.dragging&&i.dragMove?{from:i.dragging.from,to:i.dragging.to}:null,a={from:o,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(o,-1),head:l.mapPos(o,1)},userEvent:s?"move.drop":"input.drop"})}pS.dragstart=(e,t)=>{let{selection:{main:n}}=e.state,{mouseSelection:r}=e.inputState;r&&(r.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},pS.drop=(e,t)=>{if(!t.dataTransfer)return;if(e.state.readOnly)return t.preventDefault();let n=t.dataTransfer.files;if(n&&n.length){t.preventDefault();let r=Array(n.length),o=0,i=()=>{++o==n.length&&PS(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=i,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),i()},t.readAsText(n[e])}}else PS(e,t,t.dataTransfer.getData("Text"),!0)},pS.paste=(e,t)=>{if(e.state.readOnly)return t.preventDefault();e.observer.flush();let n=mS?null:t.clipboardData;n?(gS(e,n.getData("text/plain")),t.preventDefault()):function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),gS(e,n.value)}),50)}(e)};let ES=null;function AS(e,t){if(e.docView.compositionDeco.size){e.inputState.rapidCompositionStart=t;try{e.update([])}finally{e.inputState.rapidCompositionStart=!1}}}pS.copy=pS.cut=(e,t)=>{let{text:n,ranges:r,linewise:o}=function(e){let t=[],n=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),n.push(r));if(!t.length){let o=-1;for(let{from:r}of e.selection.ranges){let i=e.doc.lineAt(r);i.number>o&&(t.push(i.text),n.push({from:i.from,to:Math.min(e.doc.length,i.to+1)})),o=i.number}r=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:r}}(e.state);if(!n&&!o)return;ES=o?n:null;let i=mS?null:t.clipboardData;i?(t.preventDefault(),i.clearData(),i.setData("text/plain",n)):function(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,n),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})},pS.focus=pS.blur=e=>{setTimeout((()=>{e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)},pS.compositionstart=pS.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.compositionDeco.size&&(e.observer.flush(),AS(e,!0)))},pS.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,setTimeout((()=>{e.inputState.composing<0&&AS(e,!1)}),50)},pS.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},pS.beforeinput=(e,t)=>{var n;let r;if(E$.chrome&&E$.android&&(r=uS.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};const jS=["pre-wrap","normal","pre-line","break-spaces"];class MS{constructor(){this.doc=tx.empty,this.lineWrapping=!1,this.direction=Ek.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForStyle(e,t){return jS.indexOf(e)>-1!=this.lineWrapping||this.direction!=t}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,n,r,o,i){let s=jS.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s||this.direction!=t;if(this.lineWrapping=s,this.direction=t,this.lineHeight=n,this.charWidth=r,this.lineLength=o,a){this.heightSamples={};for(let e=0;e<i.length;e++){let t=i[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class TS{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class IS{constructor(e,t,n,r,o){this.from=e,this.length=t,this.top=n,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new IS(this.from,this.length+e.length,this.top,this.height+e.height,t)}moveY(e){return e?new IS(this.from,this.length,this.top+e,this.height,Array.isArray(this.type)?this.type.map((t=>t.moveY(e))):this.type):this}}var zS=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(zS||(zS={}));class NS{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>.001&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return NS.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let o=this;for(let i=r.length-1;i>=0;i--){let{fromA:s,toA:a,fromB:l,toB:c}=r[i],u=o.lineAt(s,zS.ByPosNoHeight,t,0,0),h=u.to>=a?u:o.lineAt(a,zS.ByPosNoHeight,t,0,0);for(c+=h.to-a,a=h.to;i>0&&u.from<=r[i-1].toA;)s=r[i-1].fromA,l=r[i-1].fromB,i--,s<u.from&&(u=o.lineAt(s,zS.ByPosNoHeight,t,0,0));l+=u.from-s,s=u.from;let d=qS.build(n,e,l,c);o=o.replace(s,a,d)}return o.updateHeight(n,0)}static empty(){return new DS(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,r=0,o=0;for(;;)if(t==n)if(r>2*o){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),n+=1+o.break,r-=o.size}else{if(!(o>2*r))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,o-=t.size}}else if(r<o){let n=e[t++];n&&(r+=n.size)}else{let t=e[--n];t&&(o+=t.size)}let i=0;return null==e[t-1]?(i=1,t--):null==e[t]&&(i=1,n++),new BS(NS.of(e.slice(0,t)),i,NS.of(e.slice(n)))}}NS.prototype.size=1;class RS extends NS{constructor(e,t,n){super(e,t),this.type=n}blockAt(e,t,n,r){return new IS(r,this.length,n,this.height,this.type)}lineAt(e,t,n,r,o){return this.blockAt(0,n,r,o)}forEachLine(e,t,n,r,o,i){i(this.blockAt(0,n,r,o))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class DS extends RS{constructor(e,t){super(e,t,W$.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,n){let r=n[0];return 1==n.length&&(r instanceof DS||r instanceof LS&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof LS?r=new DS(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):NS.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class LS extends NS{constructor(e){super(e,0)}lines(e,t){let n=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:r,lineHeight:this.height/(r-n+1)}}blockAt(e,t,n,r){let{firstLine:o,lastLine:i,lineHeight:s}=this.lines(t,r),a=Math.max(0,Math.min(i-o,Math.floor((e-n)/s))),{from:l,length:c}=t.line(o+a);return new IS(l,c,n+s*a,s,W$.Text)}lineAt(e,t,n,r,o){if(t==zS.ByHeight)return this.blockAt(e,n,r,o);if(t==zS.ByPosNoHeight){let{from:t,to:r}=n.lineAt(e);return new IS(t,r-t,0,0,W$.Text)}let{firstLine:i,lineHeight:s}=this.lines(n,o),{from:a,length:l,number:c}=n.lineAt(e);return new IS(a,l,r+s*(c-i),s,W$.Text)}forEachLine(e,t,n,r,o,i){let{firstLine:s,lineHeight:a}=this.lines(n,o);for(let l=Math.max(e,o),c=Math.min(o+this.length,t);l<=c;){let t=n.lineAt(l);l==e&&(r+=a*(t.number-s)),i(new IS(t.from,t.length,r,a,W$.Text)),r+=a,l=t.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let e=n[n.length-1];e instanceof LS?n[n.length-1]=new LS(e.length+r):n.push(null,new LS(r-1))}if(e>0){let t=n[0];t instanceof LS?n[0]=new LS(e+t.length):n.unshift(new LS(e-1),null)}return NS.of(n)}decomposeLeft(e,t){t.push(new LS(e-1),null)}decomposeRight(e,t){t.push(null,new LS(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let n=[],i=Math.max(t,r.from),s=-1,a=e.heightChanged;for(r.from>t&&n.push(new LS(r.from-t-1).updateHeight(e,t));i<=o&&r.more;){let t=e.doc.lineAt(i).length;n.length&&n.push(null);let o=r.heights[r.index++];-1==s?s=o:Math.abs(o-s)>=.001&&(s=-2);let a=new DS(t,o);a.outdated=!1,n.push(a),i+=t+1}i<=o&&n.push(null,new LS(o-i).updateHeight(e,i));let l=NS.of(n);return e.heightChanged=a||s<0||Math.abs(l.height-this.height)>=.001||Math.abs(s-this.lines(e.doc,t).lineHeight)>=.001,l}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class BS extends NS{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,r){let o=n+this.left.height;return e<o?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,n,r,o){let i=r+this.left.height,s=o+this.left.length+this.break,a=t==zS.ByHeight?e<i:e<s,l=a?this.left.lineAt(e,t,n,r,o):this.right.lineAt(e,t,n,i,s);if(this.break||(a?l.to<s:l.from>s))return l;let c=t==zS.ByPosNoHeight?zS.ByPosNoHeight:zS.ByPos;return a?l.join(this.right.lineAt(s,c,n,i,s)):this.left.lineAt(s,c,n,r,o).join(l)}forEachLine(e,t,n,r,o,i){let s=r+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,r,o,i),t>=a&&this.right.forEachLine(e,t,n,s,a,i);else{let l=this.lineAt(a,zS.ByPos,n,r,o);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,o,i),l.to>=e&&l.from<=t&&i(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,s,a,i)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let o=[];e>0&&this.decomposeLeft(e,o);let i=o.length;for(let e of n)o.push(e);if(e>0&&FS(o,i-1),t<this.length){let e=o.length;this.decomposeRight(t,o),FS(o,e)}return NS.of(o)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?NS.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:o,right:i}=this,s=t+o.length+this.break,a=null;return r&&r.from<=t+o.length&&r.more?a=o=o.updateHeight(e,t,n,r):o.updateHeight(e,t,n),r&&r.from<=s+i.length&&r.more?a=i=i.updateHeight(e,s,n,r):i.updateHeight(e,s,n),a?this.balanced(o,i):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function FS(e,t){let n,r;null==e[t]&&(n=e[t-1])instanceof LS&&(r=e[t+1])instanceof LS&&e.splice(t-1,3,new LS(n.length+1+r.length))}class qS{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof DS?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new DS(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new RS(o,r,n.type)):(o||r>=5)&&this.addLineDeco(r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new DS(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new LS(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof DS)return e;let t=new DS(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=W$.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=W$.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof DS||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new DS(0,-1));let n=e;for(let e of this.nodes)e instanceof DS&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,r){let o=new qS(n,e);return Cw.spans(t,n,r,o,0),o.finish(n)}}class VS{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&Y$(e,t,this.changes,5)}}function HS(e,t){let n=e.getBoundingClientRect(),r=Math.max(0,n.left),o=Math.min(innerWidth,n.right),i=Math.max(0,n.top),s=Math.min(innerHeight,n.bottom),a=e.ownerDocument.body;for(let t=e.parentNode;t&&t!=a;)if(1==t.nodeType){let e=t,n=window.getComputedStyle(e);if((e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&"visible"!=n.overflow){let t=e.getBoundingClientRect();r=Math.max(r,t.left),o=Math.min(o,t.right),i=Math.max(i,t.top),s=Math.min(s,t.bottom)}t="absolute"==n.position||"fixed"==n.position?e.offsetParent:e.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:r-n.left,right:Math.max(r,o)-n.left,top:i-(n.top+t),bottom:Math.max(i,s)-(n.top+t)}}function WS(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class US{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e){return U$.replace({widget:new JS(this.size,e)}).range(this.from,this.to)}}class JS extends H${constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class KS{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new MS,this.scaler=tC,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=NS.empty().applyChanges(e.facet(Ck),tx.empty,this.heightOracle.setDoc(e.doc),[new Ok(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=U$.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>r>=e&&r<=t))){let{from:t,to:n}=this.lineBlockAt(r);e.push(new GS(t,n))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?tC:new nC(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:rC(e,this.scaler))}))}update(e,t=null){let n=this.state;this.state=e.state;let r=this.state.facet(Ck),o=e.changedRanges,i=Ok.extendWithRanges(o,function(e,t,n){let r=new VS;return Cw.compare(e,t,n,r,0),r.changes}(e.startState.facet(Ck),r,e?e.changes:fx.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(r,n.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=s&&(e.flags|=2);let a=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=!e.changes.empty||2&e.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,o=n.whiteSpace,i="rtl"==n.direction?Ek.RTL:Ek.LTR,s=this.heightOracle.mustRefreshForStyle(o,i),a=s||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight,l=0,c=0;if(this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8),a){this.mustMeasureContent=!1,this.contentDOMHeight=t.clientHeight;let e=parseInt(n.paddingTop)||0,r=parseInt(n.paddingBottom)||0;this.paddingTop==e&&this.paddingBottom==r||(l|=8,this.paddingTop=e,this.paddingBottom=r)}let u=(this.printing?WS:HS)(t,this.paddingTop),h=u.top-this.pixelViewport.top,d=u.bottom-this.pixelViewport.bottom;this.pixelViewport=u;let f=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(f!=this.inView&&(this.inView=f,f&&(a=!0)),!this.inView)return 0;let p=t.clientWidth;if(this.contentDOMWidth==p&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=p,this.editorHeight=e.scrollDOM.clientHeight,l|=8),a){let t=e.docView.measureVisibleLineHeights();if(r.mustRefreshForHeights(t)&&(s=!0),s||r.lineWrapping&&Math.abs(p-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:a}=e.docView.measureTextSize();s=r.refresh(o,i,n,a,p/a,t),s&&(e.docView.minWidth=0,l|=8)}h>0&&d>0?c=Math.max(h,d):h<0&&d<0&&(c=Math.min(h,d)),r.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(r,0,s,new TS(this.viewport.from,t)),r.heightChanged&&(l|=2)}let m=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(2&l||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.state.doc,{visibleTop:i,visibleBottom:s}=this,a=new GS(r.lineAt(i-1e3*n,zS.ByHeight,o,0,0).from,r.lineAt(s+1e3*(1-n),zS.ByHeight,o,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let n,i=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=r.lineAt(e,zS.ByPos,o,0,0);n="center"==t.y?(s.top+s.bottom)/2-i/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-i,a=new GS(r.lineAt(n-500,zS.ByHeight,o,0,0).from,r.lineAt(n+i+500,zS.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new GS(this.heightMap.lineAt(n,zS.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,zS.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,zS.ByPos,this.state.doc,0,0),{bottom:o}=this.heightMap.lineAt(t,zS.ByPos,this.state.doc,0,0),{visibleTop:i,visibleBottom:s}=this;return(0==e||r<=i-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||o>=s+Math.max(10,Math.min(n,250)))&&r>i-2e3&&o<s+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new US(t.mapPos(r.from),t.mapPos(r.to),r.size));return n}ensureLineGaps(e){let t=[];if(this.heightOracle.direction!=Ek.LTR)return t;for(let n of this.viewportLines){if(n.length<4e3)continue;let r,o,i=QS(n.from,n.to,this.state);if(i.total<4e3)continue;if(this.heightOracle.lineWrapping){let e=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;r=YS(i,(this.visibleTop-n.top-e)/n.height),o=YS(i,(this.visibleBottom-n.top+e)/n.height)}else{let e=i.total*this.heightOracle.charWidth,t=2e3*this.heightOracle.charWidth;r=YS(i,(this.pixelViewport.left-t)/e),o=YS(i,(this.pixelViewport.right+t)/e)}let s=[];r>n.from&&s.push({from:n.from,to:r}),o<n.to&&s.push({from:o,to:n.to});let a=this.state.selection.main;a.from>=n.from&&a.from<=n.to&&XS(s,a.from-10,a.from+10),!a.empty&&a.to>=n.from&&a.to<=n.to&&XS(s,a.to-10,a.to+10);for(let{from:r,to:o}of s)o-r>1e3&&t.push(eC(e,(e=>e.from>=n.from&&e.to<=n.to&&Math.abs(e.from-r)<1e3&&Math.abs(e.to-o)<1e3))||new US(r,o,this.gapSize(n,r,o,i)))}return t}gapSize(e,t,n,r){let o=ZS(r,n)-ZS(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){US.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=U$.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.state.facet(Ck);this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Cw.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,n)=>e.from!=t[n].from||e.to!=t[n].to));return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||rC(this.heightMap.lineAt(e,zS.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return rC(this.heightMap.lineAt(this.scaler.fromDOM(e),zS.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return rC(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class GS{constructor(e,t){this.from=e,this.to=t}}function QS(e,t,n){let r=[],o=e,i=0;return Cw.spans(n.facet(Ck),e,t,{span(){},point(e,t){e>o&&(r.push({from:o,to:e}),i+=e-o),o=t}},20),o<t&&(r.push({from:o,to:t}),i+=t-o),{total:i,ranges:r}}function YS({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:o}=t[e],i=o-n;if(r<=i)return n+r;r-=i}}function ZS(e,t){let n=0;for(let{from:r,to:o}of e.ranges){if(t<=o){n+=t-r;break}n+=o-r}return n/e.total}function XS(e,t,n){for(let r=0;r<e.length;r++){let o=e[r];if(o.from<n&&o.to>t){let i=[];o.from<t&&i.push({from:o.from,to:t}),o.to>n&&i.push({from:n,to:o.to}),e.splice(r,1,...i),r+=i.length-1}}}function eC(e,t){for(let n of e)if(t(n))return n}const tC={toDOM:e=>e,fromDOM:e=>e,scale:1};class nC{constructor(e,t,n){let r=0,o=0,i=0;this.viewports=n.map((({from:n,to:o})=>{let i=t.lineAt(n,zS.ByPos,e,0,0).top,s=t.lineAt(o,zS.ByPos,e,0,0).bottom;return r+=s-i,{from:n,to:o,top:i,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=i+(e.top-o)*this.scale,i=e.domBottom=e.domTop+(e.bottom-e.top),o=e.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-n)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);n=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return n+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);n=o.bottom,r=o.domBottom}}}function rC(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new IS(e.from,e.length,n,r-n,Array.isArray(e.type)?e.type.map((e=>rC(e,t))):e.type)}const oC=Cx.define({combine:e=>e.join(" ")}),iC=Cx.define({combine:e=>e.indexOf(!0)>-1}),sC=yw.newName(),aC=yw.newName(),lC=yw.newName(),cC={"&light":"."+aC,"&dark":"."+lC};function uC(e,t,n){return new yw(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const hC=uC("."+sC,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},cC),dC={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},fC=E$.ie&&E$.ie_version<=11;class pC{constructor(e,t,n){this.view=e,this.onChange=t,this.onScrollChanged=n,this.active=!1,this.selectionRange=new o$,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(E$.ie&&E$.ie_version<=11||E$.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),fC&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()})),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,n=this.selectionRange;if(t.state.facet(mk)?t.root.activeElement!=this.dom:!Gw(t.dom,n))return;let r=n.anchorNode&&t.docView.nearest(n.anchorNode);r&&r.ignoreEvent(e)||((E$.ie&&E$.ie_version<=11||E$.android&&E$.chrome)&&!t.state.selection.main.empty&&n.focusNode&&Yw(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=Jw(e),n=E$.safari&&11==e.nodeType&&function(){let e=document.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}()==this.view.contentDOM&&function(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let r=t.startContainer,o=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);Yw(a.node,a.offset,i,s)&&([r,o,i,s]=[i,s,r,o]);return{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}}(this.view)||t;return!this.selectionRange.eq(n)&&(this.selectionRange.setRange(n),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,dC),fC&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),fC&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame((()=>{let e=this.delayedAndroidKey;this.delayedAndroidKey=null;let t=this.view.state;c$(this.view.contentDOM,e.key,e.keyCode)?this.processRecords():this.flush(),this.view.state==t&&this.view.update([])})),this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let t of this.observer.takeRecords())e.push(t);e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let o of e){let e=this.readMutation(o);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:n,typeOver:r}=this.processRecords(),o=this.selectionChanged&&Gw(this.dom,this.selectionRange);if(t<0&&!o)return;this.selectionChanged=!1;let i=this.view.state;this.onChange(t,n,r),this.view.state==i&&this.view.update([])}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let n=mC(t,e.previousSibling||e.target.previousSibling,-1),r=mC(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resize)||void 0===n||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function mC(e,t,n){for(;t;){let r=f$.get(t);if(r&&r.parent==e)return r;let o=t.parentNode;t=o!=e.dom?o:n>0?t.nextSibling:t.previousSibling}return null}function gC(e,t,n,r){let o,i,s=e.state.selection.main;if(t>-1){let r=e.docView.domBoundsAround(t,n,0);if(!r||e.state.readOnly)return;let{from:a,to:l}=r,c=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}=e.observer.selectionRange;n&&(t.push(new Wk(n,r)),o==n&&i==r||t.push(new Wk(o,i)));return t}(e),u=new Vk(c,e.state);u.readRange(r.startDOM,r.endDOM);let h=s.from,d=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||E$.android&&u.text.length<l-a)&&(h=s.to,d="end");let f=function(e,t,n,r){let o=Math.min(e.length,t.length),i=0;for(;i<o&&e.charCodeAt(i)==t.charCodeAt(i);)i++;if(i==o&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==r){n-=s+Math.max(0,i-Math.min(s,a))-i}if(s<i&&e.length<t.length){i-=n<=i&&n>=s?i-n:0,a=i+(a-s),s=i}else if(a<i){i-=n<=i&&n>=a?i-n:0,s=i+(s-a),a=i}return{from:i,toA:s,toB:a}}(e.state.doc.sliceString(a,l,"￿"),u.text,h-a,d);f&&(E$.chrome&&13==e.inputState.lastKeyCode&&f.toB==f.from+2&&"￿￿"==u.text.slice(f.from,f.toB)&&f.toB--,o={from:a+f.from,to:a+f.toA,insert:tx.of(u.text.slice(f.from,f.toB).split("￿"))}),i=function(e,t){if(0==e.length)return null;let n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?wx.single(n+t,r+t):null}(c,a)}else if(e.hasFocus||!e.state.facet(mk)){let t=e.observer.selectionRange,{impreciseHead:n,impreciseAnchor:r}=e.docView,o=n&&n.node==t.focusNode&&n.offset==t.focusOffset||!Kw(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),a=r&&r.node==t.anchorNode&&r.offset==t.anchorOffset||!Kw(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);o==s.head&&a==s.anchor||(i=wx.single(a,o))}if(o||i)if(!o&&r&&!s.empty&&i&&i.main.empty?o={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,s.to)}:o&&o.from>=s.from&&o.to<=s.to&&(o.from!=s.from||o.to!=s.to)&&s.to-s.from-(o.to-o.from)<=4&&(o={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,o.from).append(o.insert).append(e.state.doc.slice(o.to,s.to))}),o){let t=e.state;if(E$.ios&&e.inputState.flushIOSKey(e))return;if(E$.android&&(o.from==s.from&&o.to==s.to&&1==o.insert.length&&2==o.insert.lines&&c$(e.contentDOM,"Enter",13)||o.from==s.from-1&&o.to==s.to&&0==o.insert.length&&c$(e.contentDOM,"Backspace",8)||o.from==s.from&&o.to==s.to+1&&0==o.insert.length&&c$(e.contentDOM,"Delete",46)))return;let n,r=o.insert.toString();if(e.state.facet(ck).some((t=>t(e,o.from,o.to,r))))return;if(e.inputState.composing>=0&&e.inputState.composing++,o.from>=s.from&&o.to<=s.to&&o.to-o.from>=(s.to-s.from)/3&&(!i||i.main.empty&&i.main.from==o.from+o.insert.length)&&e.inputState.composing<0){let r=s.from<o.from?t.sliceDoc(s.from,o.from):"",i=s.to>o.to?t.sliceDoc(o.to,s.to):"";n=t.replaceSelection(e.state.toText(r+o.insert.sliceString(0,void 0,e.state.lineBreak)+i))}else{let r=t.changes(o),a=i&&!t.selection.main.eq(i.main)&&i.main.to<=r.newLength?i.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&o.to<=s.to&&o.to>=s.to-10){let i=e.state.sliceDoc(o.from,o.to),l=Kk(e)||e.state.doc.lineAt(s.head),c=s.to-o.to,u=s.to-s.from;n=t.changeByRange((n=>{if(n.from==s.from&&n.to==s.to)return{changes:r,range:a||n.map(r)};let h=n.to-c,d=h-i.length;if(n.to-n.from!=u||e.state.sliceDoc(d,h)!=i||l&&n.to>=l.from&&n.from<=l.to)return{range:n};let f=t.changes({from:d,to:h,insert:o.insert}),p=n.to-s.to;return{changes:f,range:a?wx.range(Math.max(0,a.anchor+p),Math.max(0,a.head+p)):n.map(f)}}))}else n={changes:r,selection:a&&t.selection.replaceRange(a)}}let a="input.type";e.composing&&(a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(n,{scrollIntoView:!0,userEvent:a})}else if(i&&!i.main.eq(s)){let t=!1,n="select";e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:i,scrollIntoView:t,userEvent:n})}}class vC{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this.root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new KS(e.state||fw.create()),this.plugins=this.state.facet(bk).map((e=>new $k(e)));for(let e of this.plugins)e.update(this);this.observer=new pC(this,((e,t,n)=>{gC(this,e,t,n)}),(e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()})),this.inputState=new cS(this),this.docView=new Uk(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(1==e.length&&e[0]instanceof nw?e[0]:this.state.update(...e))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,r=this.state;for(let t of e){if(t.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=t.state}if(this.destroyed)return void(this.viewState.state=r);if(r.facet(fw.phrases)!=this.state.facet(fw.phrases))return this.setState(r);t=new Pk(this,r,e);let o=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(o&&(o=o.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;o=new dk(e.empty?e:wx.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(uk)?o=new dk(e.value):e.is(hk)?o=new dk(e.value,"center"):e.is(fk)&&(o=e.value)}this.viewState.update(t,o),this.bidiCache=wC.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(_k)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(oC)!=t.state.facet(oC)&&(this.viewState.mustMeasureContent=!0),(n||o||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet(lk))e(t)}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new KS(e),this.plugins=e.facet(bk).map((e=>new $k(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new Uk(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(bk),n=e.state.facet(bk);if(t!=n){let r=[];for(let o of n){let n=t.indexOf(o);if(n<0)r.push(new $k(o));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this)}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let e=0;;e++){this.updateState=1;let n=this.viewport,r=this.viewState.measure(this);if(!r&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let o=[];4&r||([this.measureRequests,o]=[o,this.measureRequests]);let i=o.map((e=>{try{return e.read(this)}catch(e){return pk(this.state,e),xC}})),s=new Pk(this,this.state),a=!1,l=!1;s.flags|=r,t?t.flags|=r:t=s,this.updateState=2,s.empty||(this.updatePlugins(s),this.inputState.update(s),this.updateAttrs(),a=this.docView.update(s));for(let e=0;e<o.length;e++)if(i[e]!=xC)try{let t=o[e];t.write&&t.write(i[e],this)}catch(e){pk(this.state,e)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=!0),a&&this.docView.updateSelection(!0),this.viewport.from==n.from&&this.viewport.to==n.to&&!l&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(lk))e(t)}get themeClasses(){return sC+" "+(this.state.facet(iC)?lC:aC)+" "+this.state.facet(oC)}updateAttrs(){let e=$C(this,kk,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(mk)?"true":"false",class:"cm-content",style:`${E$.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),$C(this,Sk,t),this.observer.ignore((()=>{V$(this.contentDOM,this.contentAttrs,t),V$(this.dom,this.editorAttrs,e)})),this.editorAttrs=e,this.contentAttrs=t}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)if(e.is(vC.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(_k),yw.mount(this.root,this.styleModules.concat(hC).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),e){if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}pluginField(e){let t=[];for(let n of this.plugins)n.update(this).takeField(e,t);return t}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}blockAtHeight(e,t){let n=bC(t,this);return this.elementAtHeight(e-n).moveY(n)}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}visualLineAtHeight(e,t){let n=bC(t,this);return this.lineBlockAtHeight(e-n).moveY(n)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}viewportLines(e,t){let n=bC(t,this);for(let t of this.viewportLineBlocks)e(t.moveY(n))}get viewportLineBlocks(){return this.viewState.viewportLines}visualLineAt(e,t=0){return this.lineBlockAt(e).moveY(t+this.viewState.paddingTop)}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return lS(this,e,aS(this,e,t,n))}moveByGroup(e,t){return lS(this,e,aS(this,e,t,(t=>function(e,t,n){let r=e.state.charCategorizer(t),o=r(n);return e=>{let t=r(e);return o==cw.Space&&(o=t),o==t}}(this,e.head,t))))}moveToLineBoundary(e,t,n=!0){return function(e,t,n,r){let o=e.state.doc.lineAt(t.head),i=r&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>o.from?t.head-1:t.head):null;if(i){let t=e.dom.getBoundingClientRect(),r=e.posAtCoords({x:n==(e.textDirection==Ek.LTR)?t.right-1:t.left+1,y:(i.top+i.bottom)/2});if(null!=r)return wx.cursor(r,n?-1:1)}let s=Z$.find(e.docView,t.head),a=s?n?s.posAtEnd:s.posAtStart:n?o.to:o.from;return wx.cursor(a,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return lS(this,e,function(e,t,n,r){let o=t.head,i=n?1:-1;if(o==(n?e.state.doc.length:0))return wx.cursor(o,t.assoc);let s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(o),u=e.documentTop;if(c)null==a&&(a=c.left-l.left),s=i<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(o-u);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(o-t.from))),s=(i<0?t.top:t.bottom)+u}let h=l.left+a,d=null!=r?r:e.defaultLineHeight>>1;for(let n=0;;n+=10){let r=s+(d+n)*i,c=iS(e,{x:h,y:r},!1,i);if(r<l.top||r>l.bottom||(i<0?c<o:c>o))return wx.cursor(c,t.assoc,void 0,a)}}(this,e,t,n))}scrollPosIntoView(e){this.dispatch({effects:uk.of(wx.cursor(e))})}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),iS(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r);return n$(n,o[Dk.find(o,e-r.from,-1,t)].dir==Ek.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>yC)return Bk(e.length);let t=this.textDirection;for(let n of this.bidiCache)if(n.from==e.from&&n.dir==t)return n.order;let n=function(e,t){let n=e.length,r=t==Ak?1:2,o=t==Ak?2:1;if(!e||1==r&&!Rk.test(e))return Bk(n);for(let t=0,o=r,s=r;t<n;t++){let n=(i=e.charCodeAt(t))<=247?Tk[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?Ik[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8203||8204==i?256:1;512==n?n=o:8==n&&4==s&&(n=16),Lk[t]=4==n?2:n,7&n&&(s=n),o=n}var i;for(let e=0,t=r,o=r;e<n;e++){let r=Lk[e];if(128==r)e<n-1&&t==Lk[e+1]&&24&t?r=Lk[e]=t:Lk[e]=256;else if(64==r){let r=e+1;for(;r<n&&64==Lk[r];)r++;let i=e&&8==t||r<n&&8==Lk[r]?1==o?1:8:256;for(let t=e;t<r;t++)Lk[t]=i;e=r-1}else 8==r&&1==o&&(Lk[e]=1);t=r,7&r&&(o=r)}for(let t,i,s,a=0,l=0,c=0;a<n;a++)if(i=zk[t=e.charCodeAt(a)])if(i<0){for(let e=l-3;e>=0;e-=3)if(Nk[e+1]==-i){let t=Nk[e+2],n=2&t?r:4&t?1&t?o:r:0;n&&(Lk[a]=Lk[Nk[e]]=n),l=e;break}}else{if(189==Nk.length)break;Nk[l++]=a,Nk[l++]=t,Nk[l++]=c}else if(2==(s=Lk[a])||1==s){let e=s==r;c=e?0:1;for(let t=l-3;t>=0;t-=3){let n=Nk[t+2];if(2&n)break;if(e)Nk[t+2]|=2;else{if(4&n)break;Nk[t+2]|=4}}}for(let e=0;e<n;e++)if(256==Lk[e]){let t=e+1;for(;t<n&&256==Lk[t];)t++;let o=1==(e?Lk[e-1]:r),i=o==(1==(t<n?Lk[t]:r))?o?1:2:r;for(let n=e;n<t;n++)Lk[n]=i;e=t-1}let s=[];if(1==r)for(let e=0;e<n;){let t=e,r=1!=Lk[e++];for(;e<n&&r==(1!=Lk[e]);)e++;if(r)for(let n=e;n>t;){let e=n,r=2!=Lk[--n];for(;n>t&&r==(2!=Lk[n-1]);)n--;s.push(new Dk(n,e,r?2:1))}else s.push(new Dk(t,e,0))}else for(let e=0;e<n;){let t=e,r=2==Lk[e++];for(;e<n&&r==(2==Lk[e]);)e++;s.push(new Dk(t,e,r?1:2))}return s}(e.text,this.textDirection);return this.bidiCache.push(new wC(e.from,e.to,t,n)),n}get hasFocus(){var e;return(document.hasFocus()||E$.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{a$(this.contentDOM),this.docView.updateSelection()}))}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return fk.of(new dk("number"==typeof e?wx.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return xk.define((()=>({})),{eventHandlers:e})}static theme(e,t){let n=yw.newName(),r=[oC.of(n),_k.of(uC(`.${n}`,e))];return t&&t.dark&&r.push(iC.of(!0)),r}static baseTheme(e){return Dx.lowest(_k.of(uC("."+sC,e,cC)))}}vC.scrollTo=uk,vC.centerOn=hk,vC.styleModule=_k,vC.inputHandler=ck,vC.exceptionSink=ak,vC.updateListener=lk,vC.editable=mk,vC.mouseSelectionStyle=sk,vC.dragMovesSelection=ik,vC.clickAddsSelectionRange=ok,vC.decorations=Ck,vC.darkTheme=iC,vC.contentAttributes=Sk,vC.editorAttributes=kk,vC.lineWrapping=vC.contentAttributes.of({class:"cm-lineWrapping"}),vC.announce=tw.define();const yC=4096;function bC(e,t){return(null==e?t.contentDOM.getBoundingClientRect().top:e)+t.viewState.paddingTop}const xC={};class wC{constructor(e,t,n,r){this.from=e,this.to=t,this.dir=n,this.order=r}static update(e,t){if(t.empty)return e;let n=[],r=e.length?e[e.length-1].dir:Ek.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let i=e[o];i.dir!=r||t.touchesRange(i.from,i.to)||n.push(new wC(t.mapPos(i.from,1),t.mapPos(i.to,-1),i.dir,i.order))}return n}}function $C(e,t,n){for(let r=e.state.facet(t),o=r.length-1;o>=0;o--){let t=r[o],i="function"==typeof t?t(e):t;i&&F$(i,n)}return n}const kC=E$.mac?"mac":E$.windows?"win":E$.linux?"linux":"key";function SC(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const CC=vC.domEventHandlers({keydown:(e,t)=>AC(PC(t.state),e,t,"editor")}),_C=Cx.define({enables:CC}),OC=new WeakMap;function PC(e){let t=e.facet(_C),n=OC.get(t);return n||OC.set(t,n=function(e,t=kC){let n=Object.create(null),r=Object.create(null),o=(e,t)=>{let n=r[e];if(null==n)r[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},i=(e,r,i,s)=>{let a=n[e]||(n[e]=Object.create(null)),l=r.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let r,o,i,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let e=0;e<n.length-1;++e){const a=n[e];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))o=!0;else if(/^s(hift)?$/i.test(a))i=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?s=!0:o=!0}}return r&&(a="Alt-"+a),o&&(a="Ctrl-"+a),s&&(a="Meta-"+a),i&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<l.length;t++){let n=l.slice(0,t).join(" ");o(n,!0),a[n]||(a[n]={preventDefault:!0,commands:[t=>{let r=EC={view:t,prefix:n,scope:e};return setTimeout((()=>{EC==r&&(EC=null)}),4e3),!0}]})}let c=l.join(" ");o(c,!1);let u=a[c]||(a[c]={preventDefault:!1,commands:[]});u.commands.push(i),s&&(u.preventDefault=!0)};for(let n of e){let e=n[t]||n.key;if(e)for(let t of n.scope?n.scope.split(" "):["editor"])i(t,e,n.run,n.preventDefault),n.shift&&i(t,"Shift-"+e,n.shift,n.preventDefault)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}let EC=null;function AC(e,t,n,r){let o=function(e){var t=!(Hw&&(e.ctrlKey||e.altKey||e.metaKey)||(Bw||Vw)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?Dw:Rw)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),i=1==o.length&&" "!=o,s="",a=!1;EC&&EC.view==n&&EC.scope==r&&(s=EC.prefix+" ",(a=hS.indexOf(t.keyCode)<0)&&(EC=null));let l,c=e=>{if(e){for(let t of e.commands)if(t(n))return!0;e.preventDefault&&(a=!0)}return!1},u=e[r];if(u){if(c(u[s+SC(o,t,!i)]))return!0;if(i&&(t.shiftKey||t.altKey||t.metaKey)&&(l=Rw[t.keyCode])&&l!=o){if(c(u[s+SC(l,t,!0)]))return!0}else if(i&&t.shiftKey&&c(u[s+SC(o,t,!0)]))return!0}return a}const jC=!E$.ios,MC=Cx.define({combine:e=>pw(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function TC(e={}){return[MC.of(e),zC,RC]}class IC{constructor(e,t,n,r,o){this.left=e,this.top=t,this.width=n,this.height=r,this.className=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const zC=xk.fromClass(class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(MC).cursorBlinkRate+"ms"}update(e){let t=e.startState.facet(MC)!=e.state.facet(MC);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some((e=>e.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}readPos(){let{state:e}=this.view,t=e.facet(MC),n=e.selection.ranges.map((e=>e.empty?[]:function(e,t){if(t.to<=e.viewport.from||t.from>=e.viewport.to)return[];let n=Math.max(t.from,e.viewport.from),r=Math.min(t.to,e.viewport.to),o=e.textDirection==Ek.LTR,i=e.contentDOM,s=i.getBoundingClientRect(),a=DC(e),l=window.getComputedStyle(i.firstChild),c=s.left+parseInt(l.paddingLeft)+Math.min(0,parseInt(l.textIndent)),u=s.right-parseInt(l.paddingRight),h=BC(e,n),d=BC(e,r),f=h.type==W$.Text?h:null,p=d.type==W$.Text?d:null;e.lineWrapping&&(f&&(f=LC(e,n,f)),p&&(p=LC(e,r,p)));if(f&&p&&f.from==p.from)return g(v(t.from,t.to,f));{let n=f?v(t.from,null,f):y(h,!1),r=p?v(null,t.to,p):y(d,!0),o=[];return(f||h).to<(p||d).from-1?o.push(m(c,n.bottom,u,r.top)):n.bottom<r.top&&e.elementAtHeight((n.bottom+r.top)/2).type==W$.Text&&(n.bottom=r.top=(n.bottom+r.top)/2),g(n).concat(o).concat(g(r))}function m(e,t,n,r){return new IC(e-a.left,t-a.top-.01,n-e,r-t+.01,"cm-selectionBackground")}function g({top:e,bottom:t,horizontal:n}){let r=[];for(let o=0;o<n.length;o+=2)r.push(m(n[o],e,n[o+1],t));return r}function v(t,n,r){let i=1e9,s=-1e9,a=[];function l(t,n,l,h,d){let f=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(l,l==r.from?2:-2);i=Math.min(f.top,p.top,i),s=Math.max(f.bottom,p.bottom,s),d==Ek.LTR?a.push(o&&n?c:f.left,o&&h?u:p.right):a.push(!o&&h?c:p.left,!o&&n?u:f.right)}let h=null!=t?t:r.from,d=null!=n?n:r.to;for(let r of e.visibleRanges)if(r.to>h&&r.from<d)for(let o=Math.max(r.from,h),i=Math.min(r.to,d);;){let r=e.state.doc.lineAt(o);for(let s of e.bidiSpans(r)){let e=s.from+r.from,a=s.to+r.from;if(e>=i)break;a>o&&l(Math.max(e,o),null==t&&e<=h,Math.min(a,i),null==n&&a>=d,s.dir)}if(o=r.to+1,o>=i)break}return 0==a.length&&l(h,null==t,d,null==n,e.textDirection),{top:i,bottom:s,horizontal:a}}function y(e,t){let n=s.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(this.view,e))).reduce(((e,t)=>e.concat(t))),r=[];for(let n of e.selection.ranges){let o=n==e.selection.main;if(n.empty?!o||jC:t.drawRangeCursor){let e=FC(this.view,n,o);e&&r.push(e)}}return{rangePieces:n,cursors:r}}drawSel({rangePieces:e,cursors:t}){if(e.length!=this.rangePieces.length||e.some(((e,t)=>!e.eq(this.rangePieces[t])))){this.selectionLayer.textContent="";for(let t of e)this.selectionLayer.appendChild(t.draw());this.rangePieces=e}if(t.length!=this.cursors.length||t.some(((e,t)=>!e.eq(this.cursors[t])))){let e=this.cursorLayer.children;if(e.length!==t.length){this.cursorLayer.textContent="";for(const e of t)this.cursorLayer.appendChild(e.draw())}else t.forEach(((t,n)=>t.adjust(e[n])));this.cursors=t}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),NC={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};jC&&(NC[".cm-line"].caretColor="transparent !important");const RC=Dx.highest(vC.theme(NC));function DC(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Ek.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function LC(e,t,n){let r=wx.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:W$.Text}}function BC(e,t){let n=e.lineBlockAt(t);if(Array.isArray(n.type))for(let e of n.type)if(e.to>t||e.to==t&&(e.to==n.to||e.type==W$.Text))return e;return n}function FC(e,t,n){let r=e.coordsAtPos(t.head,t.assoc||1);if(!r)return null;let o=DC(e);return new IC(r.left-o.left,r.top-o.top,-1,r.bottom-r.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const qC=tw.define({map:(e,t)=>null==e?null:t.mapPos(e)}),VC=jx.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(qC)?t.value:e),e))}),HC=xk.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(VC);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(VC)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let e=this.view.state.field(VC),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+this.view.scrollDOM.scrollLeft,top:t.top-n.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}drawCursor(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(VC)!=e&&this.view.dispatch({effects:qC.of(e)})}},{eventHandlers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function WC(){return[VC,HC]}function UC(e,t,n,r,o){t.lastIndex=0;for(let i,s=e.iterRange(n,r),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;i=t.exec(s.value);)o(a+i.index,a+i.index+i[0].length,i)}class JC{constructor(e){let{regexp:t,decoration:n,boundary:r,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco="function"==typeof n?n:()=>n,this.boundary=r,this.maxLength=o}createDeco(e){let t=new _w;for(let{from:n,to:r}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:o,to:i}of n)o=Math.max(e.state.doc.lineAt(o).from,o-t),i=Math.min(e.state.doc.lineAt(i).to,i+t),r.length&&r[r.length-1].to>=o?r[r.length-1].to=i:r.push({from:o,to:i});return r}(e,this.maxLength))UC(e.state.doc,this.regexp,n,r,((n,r,o)=>t.add(n,r,this.getDeco(o,e,n))));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges(((t,o,i,s)=>{s>e.view.viewport.from&&i<e.view.viewport.to&&(n=Math.min(i,n),r=Math.max(s,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let o of e.visibleRanges){let i=Math.max(o.from,n),s=Math.min(o.to,r);if(s>i){let n=e.state.doc.lineAt(i),r=n.to<s?e.state.doc.lineAt(s):n,a=Math.max(o.from,n.from),l=Math.min(o.to,r.to);if(this.boundary){for(;i>n.from;i--)if(this.boundary.test(n.text[i-1-n.from])){a=i;break}for(;s<r.to;s++)if(this.boundary.test(r.text[s-r.from])){l=s;break}}let c,u=[];if(n==r)for(this.regexp.lastIndex=a-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;){let t=c.index+n.from;u.push(this.getDeco(c,e,t).range(t,t+c[0].length))}else UC(e.state.doc,this.regexp,a,l,((t,n,r)=>u.push(this.getDeco(r,e,t).range(t,n))));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:u})}}return t}}const KC=null!=/x/.unicode?"gu":"g",GC=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮\ufeff￹-￼]",KC),QC={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let YC=null;const ZC=Cx.define({combine(e){let t=pw(e,{render:null,specialChars:GC,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==YC&&"undefined"!=typeof document&&document.body){let t=document.body.style;YC=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return YC||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,KC)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,KC)),t}});function XC(e={}){return[ZC.of(e),e_||(e_=xk.fromClass(class{constructor(e){this.view=e,this.decorations=U$.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(ZC)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new JC({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:o}=n.state,i=Qb(t[0],0);if(9==i){let e=o.lineAt(r),t=n.state.tabSize,i=Xb(e.text,t,r-e.from);return U$.replace({widget:new n_((t-i%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[i]||(this.decorationCache[i]=U$.replace({widget:new t_(e,i)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(ZC);e.startState.facet(ZC)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let e_=null;class t_ extends H${constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(QC[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let o=document.createElement("span");return o.textContent=t,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class n_ extends H${constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function r_(){return i_}const o_=U$.line({class:"cm-activeLine"}),i_=xk.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){if(!r.empty)return U$.none;let o=e.lineBlockAt(r.head);o.from>t&&(n.push(o_.range(o.from)),t=o.from)}return U$.set(n)}},{decorations:e=>e.decorations}),s_=Zx.define(),a_=Zx.define(),l_=Cx.define(),c_=Cx.define({combine:e=>pw(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});const u_=jx.define({create:()=>E_.empty,update(e,t){let n=t.state.facet(c_),r=t.annotation(s_);if(r){let o=t.docChanged?wx.single(function(e){let t=0;return e.iterChangedRanges(((e,n)=>t=n)),t}(t.changes)):void 0,i=x_.fromTransaction(t,o),s=r.side,a=0==s?e.undone:e.done;return a=i?w_(a,a.length,n.minDepth,i):S_(a,t.startState.selection),new E_(0==s?r.rest:a,0==s?a:r.rest)}let o=t.annotation(a_);if("full"!=o&&"before"!=o||(e=e.isolate()),!1===t.annotation(nw.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let i=x_.fromTransaction(t),s=t.annotation(nw.time),a=t.annotation(nw.userEvent);return i?e=e.addChanges(i,s,a,n.newGroupDelay,n.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,s,a,n.newGroupDelay)),"full"!=o&&"after"!=o||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new E_(e.done.map(x_.fromJSON),e.undone.map(x_.fromJSON))});function h_(e={}){return[u_,c_.of(e),vC.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?f_:"historyRedo"==e.inputType?p_:null;return!!n&&(e.preventDefault(),n(t))}})]}function d_(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let o=n.field(u_,!1);if(!o)return!1;let i=o.pop(e,n,t);return!!i&&(r(i),!0)}}const f_=d_(0,!1),p_=d_(1,!1),m_=d_(0,!0),g_=d_(1,!0);function v_(e){return function(t){let n=t.field(u_,!1);if(!n)return 0;let r=0==e?n.done:n.undone;return r.length-(r.length&&!r[0].changes?1:0)}}const y_=v_(0),b_=v_(1);class x_{constructor(e,t,n,r,o){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=o}setSelAfter(e){return new x_(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new x_(e.changes&&fx.fromJSON(e.changes),[],e.mapped&&dx.fromJSON(e.mapped),e.startSelection&&wx.fromJSON(e.startSelection),e.selectionsAfter.map(wx.fromJSON))}static fromTransaction(e,t){let n=k_;for(let t of e.startState.facet(l_)){let r=t(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new x_(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,k_)}static selection(e){return new x_(void 0,k_,void 0,void 0,e)}}function w_(e,t,n,r){let o=t+1>n+20?t-n-1:0,i=e.slice(o,t);return i.push(r),i}function $_(e,t){return e.length?t.length?e.concat(t):e:t}const k_=[];function S_(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),w_(e,e.length-1,1e9,n.setSelAfter(r)))}return[x_.selection([t])]}function C_(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function __(e,t){if(!e.length)return e;let n=e.length,r=k_;for(;n;){let o=O_(e[n-1],t,r);if(o.changes&&!o.changes.empty||o.effects.length){let t=e.slice(0,n);return t[n-1]=o,t}t=o.mapped,n--,r=o.selectionsAfter}return r.length?[x_.selection(r)]:k_}function O_(e,t,n){let r=$_(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):k_,n);if(!e.changes)return x_.selection(r);let o=e.changes.map(t),i=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(i):i;return new x_(o,tw.mapEffects(e.effects,t),s,e.startSelection.map(i),r)}const P_=/^(input\.type|delete)($|\.)/;class E_{constructor(e,t,n=0,r){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new E_(this.done,this.undone):this}addChanges(e,t,n,r,o){let i=this.done,s=i[i.length-1];return i=s&&s.changes&&!s.changes.empty&&e.changes&&(!n||P_.test(n))&&(!s.selectionsAfter.length&&t-this.prevTime<r&&function(e,t){let n=[],r=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,o,i)=>{for(let e=0;e<n.length;){let t=n[e++],s=n[e++];i>=t&&o<=s&&(r=!0)}})),r}(s.changes,e.changes)||"input.type.compose"==n)?w_(i,i.length-1,o,new x_(e.changes.compose(s.changes),$_(e.effects,s.effects),s.mapped,s.startSelection,k_)):w_(i,i.length,o,e),new E_(i,k_,t,n)}addSelection(e,t,n,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:k_;return o.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(i=o[o.length-1],s=e,i.ranges.length==s.ranges.length&&0===i.ranges.filter(((e,t)=>e.empty!=s.ranges[t].empty)).length)?this:new E_(S_(this.done,e),this.undone,t,n);var i,s}addMapping(e){return new E_(__(this.done,e),__(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=0==e?this.done:this.undone;if(0==r.length)return null;let o=r[r.length-1];if(n&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:s_.of({side:e,rest:C_(r)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let n=1==r.length?k_:r.slice(0,r.length-1);return o.mapped&&(n=__(n,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:s_.of({side:e,rest:n}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}E_.empty=new E_(k_,k_);const A_=[{key:"Mod-z",run:f_,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:p_,preventDefault:!0},{key:"Mod-u",run:m_,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:g_,preventDefault:!0}],j_=1024;let M_=0;class T_{constructor(e,t){this.from=e,this.to=t}}class I_{constructor(e={}){this.id=M_++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=N_.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}I_.closedBy=new I_({deserialize:e=>e.split(" ")}),I_.openedBy=new I_({deserialize:e=>e.split(" ")}),I_.group=new I_({deserialize:e=>e.split(" ")}),I_.contextHash=new I_({perNode:!0}),I_.lookAhead=new I_({perNode:!0}),I_.mounted=new I_({perNode:!0});const z_=Object.create(null);class N_{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):z_,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new N_(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(I_.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(I_.group),r=-1;r<(n?n.length:0);r++){let o=t[r<0?e.name:n[r]];if(o)return o}}}}N_.none=new N_("",Object.create(null),0,8);class R_{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let t of e){let e=t(n);e&&(r||(r=Object.assign({},n.props)),r[e[0].id]=e[1])}t.push(r?new N_(n.name,r,n.id,n.flags):n)}return new R_(t)}}const D_=new WeakMap,L_=new WeakMap;class B_{constructor(e,t,n,r,o){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[e,t]of o)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(I_.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e,t=0){let n=null!=e&&D_.get(this)||this.topNode,r=new Q_(n);return null!=e&&(r.moveTo(e,t),D_.set(this,r._tree)),r}fullCursor(){return new Q_(this.topNode,1)}get topNode(){return new U_(this,0,0,null)}resolve(e,t=0){let n=W_(D_.get(this)||this.topNode,e,t,!1);return D_.set(this,n),n}resolveInner(e,t=0){let n=W_(L_.get(this)||this.topNode,e,t,!0);return L_.set(this,n),n}iterate(e){let{enter:t,leave:n,from:r=0,to:o=this.length}=e;for(let e=this.cursor(),i=()=>e.node;;){let s=!1;if(e.from<=o&&e.to>=r&&(e.type.isAnonymous||!1!==t(e.type,e.from,e.to,i))){if(e.firstChild())continue;e.type.isAnonymous||(s=!0)}for(;s&&n&&n(e.type,e.from,e.to,i),s=e.type.isAnonymous,!e.nextSibling();){if(!e.parent())return;s=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:eO(N_.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new B_(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new B_(N_.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:o=j_,reused:i=[],minRepeatType:s=r.types.length}=e,a=Array.isArray(n)?new F_(n,n.length):n,l=r.types,c=0,u=0;function h(e,t,n,v,y){let{id:b,start:x,end:w,size:$}=a,k=u;for(;$<0;){if(a.next(),-1==$){let t=i[b];return n.push(t),void v.push(x-e)}if(-3==$)return void(c=b);if(-4==$)return void(u=b);throw new RangeError(`Unrecognized record size: ${$}`)}let S,C,_=l[b],O=x-e;if(w-x<=o&&(C=m(a.pos-t,y))){let t=new Uint16Array(C.size-C.skip),n=a.pos-C.size,o=t.length;for(;a.pos>n;)o=g(C.start,t,o);S=new q_(t,w-C.start,r),O=C.start-e}else{let e=a.pos-$;a.next();let t=[],n=[],r=b>=s?b:-1,i=0,l=w;for(;a.pos>e;)r>=0&&a.id==r&&a.size>=0?(a.end<=l-o&&(f(t,n,x,i,a.end,l,r,k),i=t.length,l=a.end),a.next()):h(x,e,t,n,r);if(r>=0&&i>0&&i<t.length&&f(t,n,x,i,x,l,r,k),t.reverse(),n.reverse(),r>-1&&i>0){let e=d(_);S=eO(_,t,n,0,t.length,0,w-x,e,e)}else S=p(_,t,n,w-x,k-w)}n.push(S),v.push(O)}function d(e){return(t,n,r)=>{let o,i,s=0,a=t.length-1;if(a>=0&&(o=t[a])instanceof B_){if(!a&&o.type==e&&o.length==r)return o;(i=o.prop(I_.lookAhead))&&(s=n[a]+o.length+i)}return p(e,t,n,r,s)}}function f(e,t,n,o,i,s,a,l){let c=[],u=[];for(;e.length>o;)c.push(e.pop()),u.push(t.pop()+n-i);e.push(p(r.types[a],c,u,s-i,l-s)),t.push(i-n)}function p(e,t,n,r,o=0,i){if(c){let e=[I_.contextHash,c];i=i?[e].concat(i):[e]}if(o>25){let e=[I_.lookAhead,o];i=i?[e].concat(i):[e]}return new B_(e,t,n,r,i)}function m(e,t){let n=a.fork(),r=0,i=0,l=0,c=n.end-o,u={size:0,start:0,skip:0};e:for(let o=n.pos-e;n.pos>o;){let e=n.size;if(n.id==t&&e>=0){u.size=r,u.start=i,u.skip=l,l+=4,r+=4,n.next();continue}let a=n.pos-e;if(e<0||a<o||n.start<c)break;let h=n.id>=s?4:0,d=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break e;h+=4}else n.id>=s&&(h+=4);n.next()}i=d,r+=e,l+=h}return(t<0||r==e)&&(u.size=r,u.start=i,u.skip=l),u.size>4?u:void 0}function g(e,t,n){let{id:r,start:o,end:i,size:l}=a;if(a.next(),l>=0&&r<s){let s=n;if(l>4){let r=a.pos-(l-4);for(;a.pos>r;)n=g(e,t,n)}t[--n]=s,t[--n]=i-e,t[--n]=o-e,t[--n]=r}else-3==l?c=r:-4==l&&(u=r);return n}let v=[],y=[];for(;a.pos>0;)h(e.start||0,e.bufferStart||0,v,y,-1);let b=null!==(t=e.length)&&void 0!==t?t:v.length?y[0]+v[0].length:0;return new B_(l[e.topID],v.reverse(),y.reverse(),b)}(e)}}B_.empty=new B_(N_.none,[],[],0);class F_{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new F_(this.buffer,this.index)}}class q_{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return N_.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),n==(e+=4))return o;let i=[];for(;e<n;)i.push(this.childString(e)),e=this.buffer[e+3];return o+"("+i.join(",")+")"}findChild(e,t,n,r,o){let{buffer:i}=this,s=-1;for(let a=e;a!=t&&!(V_(o,r,i[a+1],i[a+2])&&(s=a,n>0));a=i[a+3]);return s}slice(e,t,n,r){let o=this.buffer,i=new Uint16Array(t-e);for(let r=e,s=0;r<t;)i[s++]=o[r++],i[s++]=o[r++]-n,i[s++]=o[r++]-n,i[s++]=o[r++]-e;return new q_(i,r-n,this.set)}}function V_(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function H_(e,t){let n=e.childBefore(t);for(;n;){let t=n.lastChild;if(!t||t.to!=n.to)break;t.type.isError&&t.from==t.to?(e=n,n=t.prevSibling):n=t}return e}function W_(e,t,n,r){for(var o;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof U_&&e.index<0?null:e.parent;if(!t)return e;e=t}if(r)for(let r=e,i=r.parent;i;r=i,i=r.parent)r instanceof U_&&r.index<0&&(null===(o=i.enter(t,n,!0))||void 0===o?void 0:o.from)!=r.from&&(e=i);for(;;){let o=e.enter(t,n,r);if(!o)return e;e=o}}class U_{constructor(e,t,n,r){this.node=e,this._from=t,this.index=n,this._parent=r}get type(){return this.node.type}get name(){return this.node.type.name}get from(){return this._from}get to(){return this._from+this.node.length}nextChild(e,t,n,r,o=0){for(let i=this;;){for(let{children:s,positions:a}=i.node,l=t>0?s.length:-1;e!=l;e+=t){let l=s[e],c=a[e]+i._from;if(V_(r,n,c,c+l.length))if(l instanceof q_){if(2&o)continue;let s=l.findChild(0,l.buffer.length,t,n-c,r);if(s>-1)return new G_(new K_(i,l,e,c),null,s)}else if(1&o||!l.type.isAnonymous||Y_(l)){let s;if(!(1&o)&&l.props&&(s=l.prop(I_.mounted))&&!s.overlay)return new U_(s.tree,c,e,i);let a=new U_(l,c,e,i);return 1&o||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,n,r)}}if(1&o||!i.type.isAnonymous)return null;if(e=i.index>=0?i.index+t:t<0?-1:i._parent.node.children.length,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this.node.children.length-1,-1,e,-2)}enter(e,t,n=!0,r=!0){let o;if(n&&(o=this.node.prop(I_.mounted))&&o.overlay){let n=e-this.from;for(let{from:e,to:r}of o.overlay)if((t>0?e<=n:e<n)&&(t<0?r>=n:r>n))return new U_(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r?0:2)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get cursor(){return new Q_(this)}get tree(){return this.node}toTree(){return this.node}resolve(e,t=0){return W_(this,e,t,!1)}resolveInner(e,t=0){return W_(this,e,t,!0)}enterUnfinishedNodesBefore(e){return H_(this,e)}getChild(e,t=null,n=null){let r=J_(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return J_(this,e,t,n)}toString(){return this.node.toString()}}function J_(e,t,n,r){let o=e.cursor,i=[];if(!o.firstChild())return i;if(null!=n)for(;!o.type.is(n);)if(!o.nextSibling())return i;for(;;){if(null!=r&&o.type.is(r))return i;if(o.type.is(t)&&i.push(o.node),!o.nextSibling())return null==r?i:[]}}class K_{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class G_{constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,n){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return o<0?null:new G_(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n,r=!0){if(!r)return null;let{buffer:o}=this.context,i=o.findChild(this.index+4,o.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new G_(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new G_(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new G_(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get cursor(){return new Q_(this)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,o=n.buffer[this.index+3];if(o>r){let i=n.buffer[this.index+1],s=n.buffer[this.index+2];e.push(n.slice(r,o,i,s)),t.push(0)}return new B_(this.type,e,t,this.to-this.from)}resolve(e,t=0){return W_(this,e,t,!1)}resolveInner(e,t=0){return W_(this,e,t,!0)}enterUnfinishedNodesBefore(e){return H_(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let r=J_(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return J_(this,e,t,n)}}class Q_{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof U_)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof U_?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree.node.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=!0,r=!0){return this.buffer?!!r&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n&&!(1&this.mode),r))}parent(){if(!this.buffer)return this.yieldNode(1&this.mode?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=1&this.mode?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let r=t+e,o=e<0?-1:n.node.children.length;r!=o;r+=e){let e=n.node.children[r];if(1&this.mode||e instanceof q_||!e.type.isAnonymous||Y_(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let i=e;i;i=i._parent)if(i.index==r){if(r==this.index)return i;t=i,n=o+1;break e}r=this.stack[--o]}for(let e=n;e<this.stack.length;e++)t=new G_(this.buffer,t,this.stack[e]);return this.bufferNode=new G_(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree.node}}function Y_(e){return e.children.some((e=>e instanceof q_||!e.type.isAnonymous||Y_(e)))}const Z_=new WeakMap;function X_(e,t){if(!e.isAnonymous||t instanceof q_||t.type!=e)return 1;let n=Z_.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof B_)){n=1;break}n+=X_(e,r)}Z_.set(t,n)}return n}function eO(e,t,n,r,o,i,s,a,l){let c=0;for(let n=r;n<o;n++)c+=X_(e,t[n]);let u=Math.ceil(1.5*c/8),h=[],d=[];return function t(n,r,o,s,a){for(let c=o;c<s;){let o=c,f=r[c],p=X_(e,n[c]);for(c++;c<s;c++){let t=X_(e,n[c]);if(p+t>=u)break;p+=t}if(c==o+1){if(p>u){let e=n[o];t(e.children,e.positions,0,e.children.length,r[o]+a);continue}h.push(n[o])}else{let t=r[c-1]+n[c-1].length-f;h.push(eO(e,n,r,o,c,f,t,null,l))}d.push(f+a-i)}}(t,n,r,o,0),(a||l)(h,d,s)}class tO{constructor(e,t,n,r,o=!1,i=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(o?1:0)|(i?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let r=[new tO(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&r.push(n);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],o=1,i=e.length?e[0]:null;for(let s=0,a=0,l=0;;s++){let c=s<t.length?t[s]:null,u=c?c.fromA:1e9;if(u-a>=n)for(;i&&i.from<u;){let t=i;if(a>=t.from||u<=t.to||l){let e=Math.max(t.from,a)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new tO(e,n,t.tree,t.offset+l,s>0,!!c)}if(t&&r.push(t),i.to>u)break;i=o<e.length?e[o++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return r}}class nO{startParse(e,t,n){return"string"==typeof e&&(e=new rO(e)),n=n?n.length?n.map((e=>new T_(e.from,e.to))):[new T_(0,0)]:[new T_(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}}class rO{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}var oO;new I_({perNode:!0});const iO=new I_;class sO{constructor(e,t,n,r=[]){this.data=e,this.topNode=n,fw.prototype.hasOwnProperty("tree")||Object.defineProperty(fw.prototype,"tree",{get(){return cO(this)}}),this.parser=t,this.extension=[yO.of(this),fw.languageData.of(((e,t,n)=>e.facet(aO(e,t,n))))].concat(r)}isActiveAt(e,t,n=-1){return aO(e,t,n)==this.data}findRegions(e){let t=e.facet(yO);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop(iO)==this.data)return void n.push({from:t,to:t+e.length});let o=e.prop(I_.mounted);if(o){if(o.tree.prop(iO)==this.data){if(o.overlay)for(let e of o.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(o.overlay){let e=n.length;if(r(o.tree,o.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let o=e.children[n];o instanceof B_&&r(o,e.positions[n]+t)}};return r(cO(e),0),n}get allowsNesting(){return!0}}function aO(e,t,n){let r=e.facet(yO);if(!r)return null;let o=r.data;if(r.allowsNesting)for(let r=cO(e).topNode;r;r=r.enter(t,n,!0,!1))o=r.type.prop(iO)||o;return o}sO.setState=tw.define();class lO extends sO{constructor(e,t){super(e,t,t.topNode),this.parser=t}static define(e){let t=(n=e.languageData,Cx.define({combine:n?e=>e.concat(n):void 0}));var n;return new lO(t,e.parser.configure({props:[iO.add((e=>e.isTop?t:void 0))]}))}configure(e){return new lO(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.wrappers.length>0}}function cO(e){let t=e.field(sO.state,!1);return t?t.tree:B_.empty}class uO{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let hO=null;class dO{constructor(e,t,n=[],r,o,i,s,a){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=o,this.viewport=i,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new uO(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=B_.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(tO.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(tO.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=hO;hO=this;try{return e()}finally{hO=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=fO(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:o,viewport:i,skipped:s}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,r,o)=>t.push({fromA:e,toA:n,fromB:r,toB:o}))),n=tO.applyChanges(n,t),r=B_.empty,o=0,i={from:e.mapPos(i.from,-1),to:e.mapPos(i.to,1)},this.skipped.length){s=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&s.push({from:n,to:r})}}}return new dO(this.parser,t,n,r,o,i,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:r}=this.skipped[t];n<e.to&&r>e.from&&(this.fragments=fO(this.fragments,n,r),this.skipped.splice(t--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends nO{createParse(t,n,r){let o=r[0].from,i=r[r.length-1].to;return{parsedPos:o,advance(){let t=hO;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=i,new B_(N_.none,[],[],i-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return hO}}function fO(e,t,n){return tO.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class pO{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new pO(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=new dO(e.facet(yO).parser,e,[],B_.empty,0,{from:0,to:t},[],null);return n.work(20,t)||n.takeTree(),new pO(n)}}sO.state=jx.define({create:pO.init,update(e,t){for(let e of t.effects)if(e.is(sO.setState))return e.value;return t.startState.facet(yO)!=t.state.facet(yO)?pO.init(t.state):e.apply(t)}});let mO=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(mO=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const gO="undefined"!=typeof navigator&&(null===(oO=navigator.scheduling)||void 0===oO?void 0:oO.isInputPending)?()=>navigator.scheduling.isInputPending():null,vO=xk.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(sO.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(sO.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=mO(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,o=n.field(sO.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let i=Date.now()+Math.min(this.chunkBudget,100,e&&!gO?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<r&&n.doc.length>r+1e3,a=o.context.work((()=>gO&&gO()||Date.now()>i),r+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:sO.setState.of(new pO(o.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>pk(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),yO=Cx.define({combine:e=>e.length?e[0]:null,enables:[sO.state,vO]});class bO{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const xO=Cx.define(),wO=Cx.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function $O(e){let t=e.facet(wO);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function kO(e,t){let n="",r=e.tabSize;if(9==e.facet(wO).charCodeAt(0))for(;t>=r;)n+="\t",t-=r;for(let e=0;e<t;e++)n+=" ";return n}function SO(e,t){e instanceof fw&&(e=new CO(e));for(let n of e.state.facet(xO)){let r=n(e,t);if(null!=r)return r}let n=cO(e.state);return n?function(e,t,n){return PO(t.resolveInner(n).enterUnfinishedNodesBefore(n),n,e)}(e,n,t):null}class CO{constructor(e,t={}){this.state=e,this.options=t,this.unit=$O(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return null!=r&&r>=n.from&&r<=n.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.countColumn(n,e-r),i=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return i>-1&&(o+=i-this.countColumn(n,n.search(/\S|$/))),o}countColumn(e,t=e.length){return Xb(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let e=o(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const _O=new I_;function OO(e){let t=e.type.prop(_O);if(t)return t;let n,r=e.firstChild;if(r&&(n=r.type.prop(I_.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>function(e,t,n,r,o){let i=e.textAfter,s=i.match(/^\s*/)[0].length,a=r&&i.slice(s,s+r.length)==r||o==e.pos+s,l=t?function(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let o=e.options.simulateBreak,i=e.state.doc.lineAt(n.from),s=null==o||o<=i.from?i.to:Math.min(i.to,o);for(let e=n.to;;){let o=t.childAfter(e);if(!o||o==r)return null;if(!o.type.isSkipped)return o.from<s?n:null;e=o.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?EO:null}function PO(e,t,n){for(;e;e=e.parent){let r=OO(e);if(r)return r(new AO(n,t,e))}return null}function EO(){return 0}class AO extends CO{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.node=n}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(jO(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?PO(e,this.pos,this.base):0}}function jO(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function MO({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}function TO(){return fw.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,o=n.lineAt(r);if(r>o.from+200)return e;let i=n.sliceString(o.from,r);if(!t.some((e=>e.test(i))))return e;let{state:s}=e,a=-1,l=[];for(let{head:e}of s.selection.ranges){let t=s.doc.lineAt(e);if(t.from==a)continue;a=t.from;let n=SO(s,t.from);if(null==n)continue;let r=/^\s*/.exec(t.text)[0],o=kO(s,n);r!=o&&l.push({from:t.from,to:t.from+r.length,insert:o})}return l.length?[e,{changes:l,sequential:!0}]:e}))}const IO=Cx.define(),zO=new I_;function NO(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function RO(e,t,n){for(let r of e.facet(IO)){let o=r(e,t,n);if(o)return o}return function(e,t,n){let r=cO(e);if(0==r.length)return null;let o=null;for(let i=r.resolveInner(n);i;i=i.parent){if(i.to<=n||i.from>n)continue;if(o&&i.from<t)break;let s=i.type.prop(zO);if(s&&(i.to<r.length-50||r.length==e.doc.length||!NO(i))){let r=s(i,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(o=r)}}return o}(e,t,n)}class DO extends ww{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}DO.prototype.elementClass="",DO.prototype.toDOM=void 0,DO.prototype.mapMode=hx.TrackBefore,DO.prototype.startSide=DO.prototype.endSide=-1,DO.prototype.point=!0;const LO=Cx.define(),BO={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Cw.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},FO=Cx.define();function qO(e){return[WO(),FO.of(Object.assign(Object.assign({},BO),e))]}const VO=vC.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),HO=Cx.define({combine:e=>e.some((e=>e))});function WO(e){let t=[UO,VO];return e&&!1===e.fixed&&t.push(HO.of(!0)),t}const UO=xk.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(FO).map((t=>new QO(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(HO),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(HO)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=Cw.iter(this.view.state.facet(LO),this.view.viewport.from),r=[],o=this.gutters.map((e=>new GO(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks){let t;if(Array.isArray(e.type)){for(let n of e.type)if(n.type==W$.Text){t=n;break}}else t=e.type==W$.Text?e:void 0;if(t){r.length&&(r=[]),KO(n,r,e.from);for(let e of o)e.line(this.view,t,r)}}for(let e of o)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(FO),n=e.state.facet(FO),r=e.docChanged||e.heightChanged||e.viewportChanged||!Cw.eq(e.startState.facet(LO),e.state.facet(LO),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(r=!0);else{r=!0;let o=[];for(let r of n){let n=t.indexOf(r);n<0?o.push(new QO(this.view,r)):(this.gutters[n].update(e),o.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),o.indexOf(e)<0&&e.destroy();for(let e of o)this.dom.appendChild(e.dom);this.gutters=o}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:vk.scrollMargins.from((e=>0!=e.gutters.length&&e.fixed?e.view.textDirection==Ek.LTR?{left:e.dom.offsetWidth}:{right:e.dom.offsetWidth}:null))});function JO(e){return Array.isArray(e)?e:[e]}function KO(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class GO{constructor(e,t,n){this.gutter=e,this.height=n,this.localMarkers=[],this.i=0,this.cursor=Cw.iter(e.markers,t.from)}line(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),KO(this.cursor,this.localMarkers,t.from);let r=n.length?this.localMarkers.concat(n):this.localMarkers,o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let i=this.gutter;if(0==r.length&&!i.config.renderEmptyElements)return;let s=t.top-this.height;if(this.i==i.elements.length){let n=new YO(e,t.height,s,r);i.elements.push(n),i.dom.appendChild(n.dom)}else i.elements[this.i].update(e,t.height,s,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class QO{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(r=>{let o=e.lineBlockAtHeight(r.clientY-e.documentTop);t.domEventHandlers[n](e,o,r)&&r.preventDefault()}));this.markers=JO(t.markers(e)),t.initialSpacer&&(this.spacer=new YO(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=JO(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!Cw.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class YO{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let o=0,i=0;;){let s=i,a=o<t.length?t[o++]:null,l=!1;if(a){let e=a.elementClass;e&&(n+=" "+e);for(let e=i;e<this.markers.length;e++)if(this.markers[e].compare(a)){s=e,l=!0;break}}else s=this.markers.length;for(;i<s;){let e=this.markers[i++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!a)break;a.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),l&&i++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const ZO=Cx.define(),XO=Cx.define({combine:e=>pw(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let r=n[e],o=t[e];n[e]=r?(e,t,n)=>r(e,t,n)||o(e,t,n):o}return n}})});class eP extends DO{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function tP(e,t){return e.state.facet(XO).formatNumber(t,e.state)}const nP=FO.compute([XO],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(ZO),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new eP(tP(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(XO)!=e.state.facet(XO),initialSpacer:e=>new eP(tP(e,oP(e.state.doc.lines))),updateSpacer(e,t){let n=tP(t.view,oP(t.view.state.doc.lines));return n==e.number?e:new eP(n)},domEventHandlers:e.facet(XO).domEventHandlers})));function rP(e={}){return[XO.of(e),WO(),nP]}function oP(e){let t=9;for(;t<e;)t=10*t+9;return t}const iP=new class extends DO{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},sP=LO.compute(["selection"],(e=>{let t=[],n=-1;for(let r of e.selection.ranges)if(r.empty){let o=e.doc.lineAt(r.head).from;o>n&&(n=o,t.push(iP.range(o)))}return Cw.of(t)}));function aP(){return sP}function lP(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const cP=tw.define({map:lP}),uP=tw.define({map:lP});function hP(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const dP=jx.define({create:()=>U$.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)n.is(cP)&&!pP(e,n.value.from,n.value.to)?e=e.update({add:[wP.range(n.value.from,n.value.to)]}):n.is(uP)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:r}=t.selection.main;e.between(r,r,((e,t)=>{e<r&&t>r&&(n=!0)})),n&&(e=e.update({filterFrom:r,filterTo:r,filter:(e,t)=>t<=r||e>=r}))}return e},provide:e=>vC.decorations.from(e)});function fP(e,t,n){var r;let o=null;return null===(r=e.field(dP,!1))||void 0===r||r.between(t,n,((e,t)=>{(!o||o.from>e)&&(o={from:e,to:t})})),o}function pP(e,t,n){let r=!1;return e.between(t,t,((e,o)=>{e==t&&o==n&&(r=!0)})),r}function mP(e,t){return e.field(dP,!1)?t:t.concat(tw.appendConfig.of(xP()))}function gP(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,o=e.state.doc.lineAt(t.to).number;return vC.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${o}.`)}const vP=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of hP(e)){let n=RO(e.state,t.from,t.to);if(n)return e.dispatch({effects:mP(e.state,[cP.of(n),gP(e,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(dP,!1))return!1;let t=[];for(let n of hP(e)){let r=fP(e.state,n.from,n.to);r&&t.push(uP.of(r),gP(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let o=e.lineBlockAt(r),i=RO(t,o.from,o.to);i&&n.push(cP.of(i)),r=(i?e.lineBlockAt(i.to):o).to+1}return n.length&&e.dispatch({effects:mP(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(dP,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(uP.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],yP={placeholderDOM:null,placeholderText:"…"},bP=Cx.define({combine:e=>pw(e,yP)});function xP(e){let t=[dP,CP];return e&&t.push(bP.of(e)),t}const wP=U$.replace({widget:new class extends H${toDOM(e){let{state:t}=e,n=t.facet(bP),r=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),r=fP(e.state,n.from,n.to);r&&e.dispatch({effects:uP.of(r)}),t.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(e,r);let o=document.createElement("span");return o.textContent=n.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=r,o}}}),$P={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{}};class kP extends DO{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function SP(e={}){let t=Object.assign(Object.assign({},$P),e),n=new kP(t,!0),r=new kP(t,!1),o=xk.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(yO)!=e.state.facet(yO)||e.startState.field(dP,!1)!=e.state.field(dP,!1)||cO(e.startState)!=cO(e.state))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new _w;for(let o of e.viewportLineBlocks){let i=fP(e.state,o.from,o.to)?r:RO(e.state,o.from,o.to)?n:null;i&&t.add(o.from,o.from,i)}return t.finish()}}),{domEventHandlers:i}=t;return[o,qO({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.markers)||Cw.empty},initialSpacer:()=>new kP(t,!1),domEventHandlers:Object.assign(Object.assign({},i),{click:(e,t,n)=>{if(i.click&&i.click(e,t,n))return!0;let r=fP(e.state,t.from,t.to);if(r)return e.dispatch({effects:uP.of(r)}),!0;let o=RO(e.state,t.from,t.to);return!!o&&(e.dispatch({effects:cP.of(o)}),!0)}})}),xP()]}const CP=vC.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),_P=vC.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),OP=Cx.define({combine:e=>pw(e,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4})}),PP=U$.mark({class:"cm-matchingBracket"}),EP=U$.mark({class:"cm-nonmatchingBracket"}),AP=[jx.define({create:()=>U$.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(OP);for(let e of t.state.selection.ranges){if(!e.empty)continue;let o=TP(t.state,e.head,-1,r)||e.head>0&&TP(t.state,e.head-1,1,r)||r.afterCursor&&(TP(t.state,e.head,1,r)||e.head<t.state.doc.length&&TP(t.state,e.head+1,-1,r));if(!o)continue;let i=o.matched?PP:EP;n.push(i.range(o.start.from,o.start.to)),o.end&&n.push(i.range(o.end.from,o.end.to))}return U$.set(n,!0)},provide:e=>vC.decorations.from(e)}),_P];function jP(e={}){return[OP.of(e),AP]}function MP(e,t,n){let r=e.prop(t<0?I_.openedBy:I_.closedBy);if(r)return r;if(1==e.name.length){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function TP(e,t,n,r={}){let o=r.maxScanDistance||1e4,i=r.brackets||"()[]{}",s=cO(e),a=s.resolveInner(t,n);for(let r=a;r;r=r.parent){let o=MP(r.type,n,i);if(o&&r.from<r.to)return IP(e,t,n,r,o,i)}return function(e,t,n,r,o,i,s){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),h=0;for(let e=0;!u.next().done&&e<=i;){let i=u.value;n<0&&(e+=i.length);let a=t+e*n;for(let e=n>0?0:i.length-1,t=n>0?i.length:-1;e!=t;e+=n){let t=s.indexOf(i[e]);if(!(t<0||r.resolve(a+e,1).type!=o))if(t%2==0==n>0)h++;else{if(1==h)return{start:c,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};h--}}n>0&&(e+=i.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,s,a.type,o,i)}function IP(e,t,n,r,o,i){let s=r.parent,a={from:r.from,to:r.to},l=0,c=null==s?void 0:s.cursor;if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do{if(n<0?c.to<=r.from:c.from>=r.to){if(0==l&&o.indexOf(c.type.name)>-1&&c.from<c.to)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(MP(c.type,n,i))l++;else if(MP(c.type,-n,i)&&(l--,0==l))return{start:a,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}function zP(e,t){return wx.create(e.ranges.map(t),e.mainIndex)}function NP(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function RP({state:e,dispatch:t},n){let r=zP(e.selection,n);return!r.eq(e.selection)&&(t(NP(e,r)),!0)}function DP(e,t){return wx.cursor(t?e.to:e.from)}function LP(e,t){return RP(e,(n=>n.empty?e.moveByChar(n,t):DP(n,t)))}const BP=e=>LP(e,e.textDirection!=Ek.LTR),FP=e=>LP(e,e.textDirection==Ek.LTR);function qP(e,t){return RP(e,(n=>n.empty?e.moveByGroup(n,t):DP(n,t)))}function VP(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function HP(e,t,n){let r,o,i=cO(e).resolveInner(t.head),s=n?I_.closedBy:I_.openedBy;for(let r=t.head;;){let t=n?i.childAfter(r):i.childBefore(r);if(!t)break;VP(e,t,s)?i=t:r=n?t.to:t.from}return o=i.type.prop(s)&&(r=n?TP(e,i.from,1):TP(e,i.to,-1))&&r.matched?n?r.end.to:r.end.from:n?i.to:i.from,wx.cursor(o,n?-1:1)}function WP(e,t){return RP(e,(n=>{if(!n.empty)return DP(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}const UP=e=>WP(e,!1),JP=e=>WP(e,!0);function KP(e,t){let{state:n}=e,r=zP(n.selection,(n=>n.empty?e.moveVertically(n,t,e.dom.clientHeight):DP(n,t)));if(r.eq(n.selection))return!1;let o=e.coordsAtPos(n.selection.main.head),i=e.scrollDOM.getBoundingClientRect();return e.dispatch(NP(n,r),{effects:o&&o.top>i.top&&o.bottom<i.bottom?vC.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-i.top}):void 0}),!0}const GP=e=>KP(e,!1),QP=e=>KP(e,!0);function YP(e,t,n){let r=e.lineBlockAt(t.head),o=e.moveToLineBoundary(t,n);if(o.head==t.head&&o.head!=(n?r.to:r.from)&&(o=e.moveToLineBoundary(t,n,!1)),!n&&o.head==r.from&&r.length){let n=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&t.head!=r.from+n&&(o=wx.cursor(r.from+n))}return o}const ZP=e=>RP(e,(t=>YP(e,t,!0))),XP=e=>RP(e,(t=>YP(e,t,!1)));function eE(e,t){let n=zP(e.state.selection,(e=>{let n=t(e);return wx.range(e.anchor,n.head,n.goalColumn)}));return!n.eq(e.state.selection)&&(e.dispatch(NP(e.state,n)),!0)}function tE(e,t){return eE(e,(n=>e.moveByChar(n,t)))}const nE=e=>tE(e,e.textDirection!=Ek.LTR),rE=e=>tE(e,e.textDirection==Ek.LTR);function oE(e,t){return eE(e,(n=>e.moveByGroup(n,t)))}function iE(e,t){return eE(e,(n=>e.moveVertically(n,t)))}const sE=e=>iE(e,!1),aE=e=>iE(e,!0);function lE(e,t){return eE(e,(n=>e.moveVertically(n,t,e.dom.clientHeight)))}const cE=e=>lE(e,!1),uE=e=>lE(e,!0),hE=e=>eE(e,(t=>YP(e,t,!0))),dE=e=>eE(e,(t=>YP(e,t,!1))),fE=({state:e,dispatch:t})=>(t(NP(e,{anchor:0})),!0),pE=({state:e,dispatch:t})=>(t(NP(e,{anchor:e.doc.length})),!0),mE=({state:e,dispatch:t})=>(t(NP(e,{anchor:e.selection.main.anchor,head:0})),!0),gE=({state:e,dispatch:t})=>(t(NP(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function vE({state:e,dispatch:t},n){if(e.readOnly)return!1;let r="delete.selection",o=e.changeByRange((e=>{let{from:t,to:o}=e;if(t==o){let e=n(t);e<t?r="delete.backward":e>t&&(r="delete.forward"),t=Math.min(t,e),o=Math.max(o,e)}return t==o?{range:e}:{changes:{from:t,to:o},range:wx.cursor(t)}}));return!o.changes.empty&&(t(e.update(o,{scrollIntoView:!0,userEvent:r})),!0)}function yE(e,t,n){if(e instanceof vC)for(let r of e.pluginField(vk.atomicRanges))r.between(t,t,((e,r)=>{e<t&&r>t&&(t=n?r:e)}));return t}const bE=(e,t)=>vE(e,(n=>{let r,o,{state:i}=e,s=i.doc.lineAt(n);if(!t&&n>s.from&&n<s.from+200&&!/[^ \t]/.test(r=s.text.slice(0,n-s.from))){if("\t"==r[r.length-1])return n-1;let e=Xb(r,i.tabSize)%$O(i)||$O(i);for(let t=0;t<e&&" "==r[r.length-1-t];t++)n--;o=n}else o=Wb(s.text,n-s.from,t,t)+s.from,o==n&&s.number!=(t?i.doc.lines:1)&&(o+=t?1:-1);return yE(e,o,t)})),xE=e=>bE(e,!1),wE=e=>bE(e,!0),$E=(e,t)=>vE(e,(n=>{let r=n,{state:o}=e,i=o.doc.lineAt(r),s=o.charCategorizer(r);for(let e=null;;){if(r==(t?i.to:i.from)){r==n&&i.number!=(t?o.doc.lines:1)&&(r+=t?1:-1);break}let a=Wb(i.text,r-i.from,t)+i.from,l=i.text.slice(Math.min(r,a)-i.from,Math.max(r,a)-i.from),c=s(l);if(null!=e&&c!=e)break;" "==l&&r==n||(e=c),r=a}return yE(e,r,t)})),kE=e=>$E(e,!1),SE=e=>vE(e,(t=>{let n=e.lineBlockAt(t).to;return yE(e,t<n?n:Math.min(e.state.doc.length,t+1),!0)}));function CE(e){let t=[],n=-1;for(let r of e.selection.ranges){let o=e.doc.lineAt(r.from),i=e.doc.lineAt(r.to);if(r.empty||r.to!=i.from||(i=e.doc.lineAt(r.to-1)),n>=o.number){let e=t[t.length-1];e.to=i.to,e.ranges.push(r)}else t.push({from:o.from,to:i.to,ranges:[r]});n=i.number+1}return t}function _E(e,t,n){if(e.readOnly)return!1;let r=[],o=[];for(let t of CE(e)){if(n?t.to==e.doc.length:0==t.from)continue;let i=e.doc.lineAt(n?t.to+1:t.from-1),s=i.length+1;if(n){r.push({from:t.to,to:i.to},{from:t.from,insert:i.text+e.lineBreak});for(let n of t.ranges)o.push(wx.range(Math.min(e.doc.length,n.anchor+s),Math.min(e.doc.length,n.head+s)))}else{r.push({from:i.from,to:t.from},{from:t.to,insert:e.lineBreak+i.text});for(let e of t.ranges)o.push(wx.range(e.anchor-s,e.head-s))}}return!!r.length&&(t(e.update({changes:r,scrollIntoView:!0,selection:wx.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function OE(e,t,n){if(e.readOnly)return!1;let r=[];for(let t of CE(e))n?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const PE=EE(!1);function EE(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange((n=>{let{from:r,to:o}=n,i=t.doc.lineAt(r),s=!e&&r==o&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,r=cO(e).resolveInner(t),o=r.childBefore(t),i=r.childAfter(t);return o&&i&&o.to<=t&&i.from>=t&&(n=o.type.prop(I_.closedBy))&&n.indexOf(i.name)>-1&&e.doc.lineAt(o.to).from==e.doc.lineAt(i.from).from?{from:o.to,to:i.from}:null}(t,r);e&&(r=o=(o<=i.to?i:t.doc.lineAt(o)).to);let a=new CO(t,{simulateBreak:r,simulateDoubleBreak:!!s}),l=SO(a,r);for(null==l&&(l=/^\s*/.exec(t.doc.lineAt(r).text)[0].length);o<i.to&&/\s/.test(i.text[o-i.from]);)o++;s?({from:r,to:o}=s):r>i.from&&r<i.from+100&&!/\S/.test(i.text.slice(0,r))&&(r=i.from);let c=["",kO(t,l)];return s&&c.push(kO(t,a.lineIndent(i.from,-1))),{changes:{from:r,to:o,insert:tx.of(c)},range:wx.cursor(r+1+c[1].length)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function AE(e,t){let n=-1;return e.changeByRange((r=>{let o=[];for(let i=r.from;i<=r.to;){let s=e.doc.lineAt(i);s.number>n&&(r.empty||r.to>s.from)&&(t(s,o,r),n=s.number),i=s.to+1}let i=e.changes(o);return{changes:o,range:wx.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}}))}const jE=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(AE(e,((t,n)=>{n.push({from:t.from,insert:e.facet(wO)})})),{userEvent:"input.indent"})),!0),ME=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(AE(e,((t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let o=Xb(r,e.tabSize),i=0,s=kO(e,Math.max(0,o-$O(e)));for(;i<r.length&&i<s.length&&r.charCodeAt(i)==s.charCodeAt(i);)i++;n.push({from:t.from+i,to:t.from+r.length,insert:s.slice(i)})})),{userEvent:"delete.dedent"})),!0),TE=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>RP(e,(t=>HP(e.state,t,e.textDirection!=Ek.LTR))),shift:e=>eE(e,(t=>HP(e.state,t,e.textDirection!=Ek.LTR)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>RP(e,(t=>HP(e.state,t,e.textDirection==Ek.LTR))),shift:e=>eE(e,(t=>HP(e.state,t,e.textDirection==Ek.LTR)))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>_E(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>OE(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>_E(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>OE(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=wx.create([n.main]):n.main.empty||(r=wx.create([wx.cursor(n.main.head)])),!!r&&(t(NP(e,r)),!0)}},{key:"Mod-Enter",run:EE(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=CE(e).map((({from:t,to:n})=>wx.range(t,Math.min(n+1,e.doc.length))));return t(e.update({selection:wx.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=zP(e.selection,(t=>{var n;let r=cO(e).resolveInner(t.head,1);for(;!(r.from<t.from&&r.to>=t.to||r.to>t.to&&r.from<=t.from)&&(null===(n=r.parent)||void 0===n?void 0:n.parent);)r=r.parent;return wx.range(r.to,r.from)}));return t(NP(e,n)),!0},preventDefault:!0},{key:"Mod-[",run:ME},{key:"Mod-]",run:jE},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new CO(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),o=AE(e,((t,o,i)=>{let s=SO(r,t.from);if(null==s)return;/\S/.test(t.text)||(s=0);let a=/^\s*/.exec(t.text)[0],l=kO(e,s);(a!=l||i.from<t.from+a.length)&&(n[t.from]=s,o.push({from:t.from,to:t.from+a.length,insert:l}))}));return o.changes.empty||t(e.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(CE(t).map((({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n})))),r=zP(t.selection,(t=>e.moveVertically(t,!0))).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>function(e,t,n){let r=!1,o=zP(e.selection,(t=>{let o=TP(e,t.head,-1)||TP(e,t.head,1)||t.head>0&&TP(e,t.head-1,1)||t.head<e.doc.length&&TP(e,t.head+1,-1);if(!o||!o.end)return t;r=!0;let i=o.start.from==t.head?o.end.to:o.end.from;return n?wx.range(t.anchor,i):wx.cursor(i)}));return!!r&&(t(NP(e,o)),!0)}(e,t,!1)}].concat([{key:"ArrowLeft",run:BP,shift:nE,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>qP(e,e.textDirection!=Ek.LTR),shift:e=>oE(e,e.textDirection!=Ek.LTR)},{mac:"Cmd-ArrowLeft",run:XP,shift:dE},{key:"ArrowRight",run:FP,shift:rE,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>qP(e,e.textDirection==Ek.LTR),shift:e=>oE(e,e.textDirection==Ek.LTR)},{mac:"Cmd-ArrowRight",run:ZP,shift:hE},{key:"ArrowUp",run:UP,shift:sE,preventDefault:!0},{mac:"Cmd-ArrowUp",run:fE,shift:mE},{mac:"Ctrl-ArrowUp",run:GP,shift:cE},{key:"ArrowDown",run:JP,shift:aE,preventDefault:!0},{mac:"Cmd-ArrowDown",run:pE,shift:gE},{mac:"Ctrl-ArrowDown",run:QP,shift:uE},{key:"PageUp",run:GP,shift:cE},{key:"PageDown",run:QP,shift:uE},{key:"Home",run:XP,shift:dE},{key:"Mod-Home",run:fE,shift:mE},{key:"End",run:ZP,shift:hE},{key:"Mod-End",run:pE,shift:gE},{key:"Enter",run:PE},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:xE,shift:xE},{key:"Delete",run:wE},{key:"Mod-Backspace",mac:"Alt-Backspace",run:kE},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>$E(e,!0)},{mac:"Mod-Backspace",run:e=>vE(e,(t=>{let n=e.lineBlockAt(t).from;return yE(e,t>n?n:Math.max(0,t-1),!1)}))},{mac:"Mod-Delete",run:SE}].concat([{key:"Ctrl-b",run:BP,shift:nE,preventDefault:!0},{key:"Ctrl-f",run:FP,shift:rE},{key:"Ctrl-p",run:UP,shift:sE},{key:"Ctrl-n",run:JP,shift:aE},{key:"Ctrl-a",run:e=>RP(e,(t=>wx.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>eE(e,(t=>wx.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>RP(e,(t=>wx.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>eE(e,(t=>wx.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:wE},{key:"Ctrl-h",run:xE},{key:"Ctrl-k",run:SE},{key:"Ctrl-Alt-h",run:kE},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:tx.of(["",""])},range:wx.cursor(e.from)})));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,r=e.doc.lineAt(n),o=n==r.from?n-1:Wb(r.text,n-r.from,!1)+r.from,i=n==r.to?n+1:Wb(r.text,n-r.from,!0)+r.from;return{changes:{from:o,to:i,insert:e.doc.slice(n,i).append(e.doc.slice(o,n))},range:wx.cursor(i)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:QP}].map((e=>({mac:e.key,run:e.run,shift:e.shift}))))),IE={key:"Tab",run:jE,shift:ME},zE={brackets:["(","[","{","'",'"'],before:")]}:;>"},NE=tw.define({map(e,t){let n=t.mapPos(e,-1,hx.TrackAfter);return null==n?void 0:n}}),RE=tw.define({map:(e,t)=>t.mapPos(e)}),DE=new class extends ww{};DE.startSide=1,DE.endSide=-1;const LE=jx.define({create:()=>Cw.empty,update(e,t){if(t.selection){let n=t.state.doc.lineAt(t.selection.main.head).from,r=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(r,-1)&&(e=Cw.empty)}e=e.map(t.changes);for(let n of t.effects)n.is(NE)?e=e.update({add:[DE.range(n.value,n.value+1)]}):n.is(RE)&&(e=e.update({filter:e=>e!=n.value}));return e}});function BE(){return[HE,LE]}function FE(e){for(let t=0;t<"()[]{}<>".length;t+=2)if("()[]{}<>".charCodeAt(t)==e)return"()[]{}<>".charAt(t+1);return Yb(e<128?e:e+1)}function qE(e,t){return e.languageDataAt("closeBrackets",t)[0]||zE}const VE="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),HE=vC.inputHandler.of(((e,t,n,r)=>{if((VE?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let o=e.state.selection.main;if(r.length>2||2==r.length&&1==Zb(Qb(r,0))||t!=o.from||n!=o.to)return!1;let i=function(e,t){let n=qE(e,e.selection.main.head),r=n.brackets||zE.brackets;for(let o of r){let i=FE(Qb(o,0));if(t==o)return i==o?QE(e,o,r.indexOf(o+o+o)>-1):KE(e,o,i,n.before||zE.before);if(t==i&&UE(e,e.selection.main.from))return GE(e,o,i)}return null}(e.state,r);return!!i&&(e.dispatch(i),!0)})),WE=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=qE(e,e.selection.main.head).brackets||zE.brackets,r=null,o=e.changeByRange((t=>{if(t.empty){let r=function(e,t){let n=e.sliceString(t-2,t);return Zb(Qb(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let o of n)if(o==r&&JE(e.doc,t.head)==FE(Qb(o,0)))return{changes:{from:t.head-o.length,to:t.head+o.length},range:wx.cursor(t.head-o.length),userEvent:"delete.backward"}}return{range:r=t}}));return r||t(e.update(o,{scrollIntoView:!0})),!r}}];function UE(e,t){let n=!1;return e.field(LE).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function JE(e,t){let n=e.sliceString(t,t+2);return n.slice(0,Zb(Qb(n,0)))}function KE(e,t,n,r){let o=null,i=e.changeByRange((i=>{if(!i.empty)return{changes:[{insert:t,from:i.from},{insert:n,from:i.to}],effects:NE.of(i.to+t.length),range:wx.range(i.anchor+t.length,i.head+t.length)};let s=JE(e.doc,i.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:t+n,from:i.head},effects:NE.of(i.head+t.length),range:wx.cursor(i.head+t.length)}:{range:o=i}}));return o?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function GE(e,t,n){let r=null,o=e.selection.ranges.map((t=>t.empty&&JE(e.doc,t.head)==n?wx.cursor(t.head+n.length):r=t));return r?null:e.update({selection:wx.create(o,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((({from:e})=>RE.of(e)))})}function QE(e,t,n){let r=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:t,from:o.to}],effects:NE.of(o.to+t.length),range:wx.range(o.anchor+t.length,o.head+t.length)};let i=o.head,s=JE(e.doc,i);if(s==t){if(YE(e,i))return{changes:{insert:t+t,from:i},effects:NE.of(i+t.length),range:wx.cursor(i+t.length)};if(UE(e,i)){let r=n&&e.sliceDoc(i,i+3*t.length)==t+t+t;return{range:wx.cursor(i+t.length*(r?3:1)),effects:RE.of(i)}}}else{if(n&&e.sliceDoc(i-2*t.length,i)==t+t&&YE(e,i-2*t.length))return{changes:{insert:t+t+t+t,from:i},effects:NE.of(i+t.length),range:wx.cursor(i+t.length)};if(e.charCategorizer(i)(s)!=cw.Word){let n=e.sliceDoc(i-1,i);if(n!=t&&e.charCategorizer(i)(n)!=cw.Word&&!function(e,t,n){let r=cO(e).resolveInner(t,-1);for(let o=0;o<5;o++){if(e.sliceDoc(r.from,r.from+n.length)==n)return!0;let o=r.to==t&&r.parent;if(!o)break;r=o}return!1}(e,i,t))return{changes:{insert:t+t,from:i},effects:NE.of(i+t.length),range:wx.cursor(i+t.length)}}}return{range:r=o}}));return r?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function YE(e,t){let n=cO(e).resolveInner(t+1);return n.parent&&n.from==t}const ZE=Cx.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function XE(e,t){let n=e.plugin(eA),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const eA=xk.fromClass(class{constructor(e){this.input=e.state.facet(oA),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(ZE);this.top=new tA(e,!0,t.topContainer),this.bottom=new tA(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(ZE);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new tA(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new tA(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(oA);if(n!=this.input){let t=n.filter((e=>e)),r=[],o=[],i=[],s=[];for(let n of t){let t,a=this.specs.indexOf(n);a<0?(t=n(e.view),s.push(t)):(t=this.panels[a],t.update&&t.update(e)),r.push(t),(t.top?o:i).push(t)}this.specs=t,this.panels=r,this.top.sync(o),this.bottom.sync(i);for(let e of s)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:vk.scrollMargins.from((e=>({top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()})))});class tA{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=nA(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=nA(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function nA(e){let t=e.nextSibling;return e.remove(),t}const rA=vC.baseTheme({".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"}}),oA=Cx.define({enables:[eA,rA]});function iA(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];"string"==typeof o?e.setAttribute(r,o):null!=o&&(e[r]=o)}t++}for(;t<arguments.length;t++)sA(e,arguments[t]);return e}function sA(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)sA(e,t[n])}}const aA="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class lA{constructor(e,t,n=0,r=e.length,o){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=o?e=>o(aA(e)):aA,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Qb(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Yb(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Zb(e);let r=this.normalize(t);for(let e=0,o=n;;e++){let i=r.charCodeAt(e),s=this.match(i,o);if(s)return this.value=s,this;if(e==r.length-1)break;o==n&&e<t.length&&t.charCodeAt(e)==i&&o++}}}match(e,t){let n=null;for(let r=0;r<this.matches.length;r+=2){let o=this.matches[r],i=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,i=!0)),i||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n}}"undefined"!=typeof Symbol&&(lA.prototype[Symbol.iterator]=function(){return this});const cA={from:-1,to:-1,match:/.*/.exec("")},uA="gm"+(null==/x/.unicode?"":"u");class hA{constructor(e,t,n,r=0,o=e.length){if(this.to=o,this.curLine="",this.done=!1,this.value=cA,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new pA(e,t,n,r,o);this.re=new RegExp(t,uA+((null==n?void 0:n.ignoreCase)?"i":"")),this.iter=e.iter();let i=e.lineAt(r);this.curLineStart=i.from,this.matchPos=r,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=r+(n==r?1:0),n==this.curLine.length&&this.nextLine(),n<r||n>this.value.to)return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const dA=new WeakMap;class fA{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=dA.get(e);if(!r||r.from>=n||r.to<=t){let r=new fA(t,e.sliceString(t,n));return dA.set(e,r),r}if(r.from==t&&r.to==n)return r;let{text:o,from:i}=r;return i>t&&(o=e.sliceString(t,i)+o,i=t),r.to<n&&(o+=e.sliceString(r.to,n)),dA.set(e,new fA(i,o)),new fA(t,o.slice(t-i,n-i))}}class pA{constructor(e,t,n,r,o){this.text=e,this.to=o,this.done=!1,this.value=cA,this.matchPos=r,this.re=new RegExp(t,uA+((null==n?void 0:n.ignoreCase)?"i":"")),this.flat=fA.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let e=this.flat.from+t.index,n=e+t[0].length;return this.value={from:e,to:n,match:t},this.matchPos=n+(e==n?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=fA.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function mA(e){let t=iA("input",{class:"cm-textfield",name:"line"});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:r}=e,o=r.doc.lineAt(r.selection.main.head),[,i,s,a,l]=n,c=a?+a.slice(1):0,u=s?+s:o.number;if(s&&l){let e=u/100;i&&(e=e*("-"==i?-1:1)+o.number/r.doc.lines),u=Math.round(r.doc.lines*e)}else s&&i&&(u=u*("-"==i?-1:1)+o.number);let h=r.doc.line(Math.max(1,Math.min(r.doc.lines,u)));e.dispatch({effects:gA.of(!1),selection:wx.cursor(h.from+Math.max(0,Math.min(c,h.length))),scrollIntoView:!0}),e.focus()}return{dom:iA("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:gA.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:e=>{e.preventDefault(),n()}},iA("label",e.state.phrase("Go to line"),": ",t)," ",iA("button",{class:"cm-button",type:"submit"},e.state.phrase("go"))),pos:-10}}"undefined"!=typeof Symbol&&(hA.prototype[Symbol.iterator]=pA.prototype[Symbol.iterator]=function(){return this});const gA=tw.define(),vA=jx.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(gA)&&(e=n.value);return e},provide:e=>oA.from(e,(e=>e?mA:null))}),yA=vC.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),bA={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!0},xA=Cx.define({combine:e=>pw(e,bA,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function wA(e){let t=[_A,CA];return e&&t.push(xA.of(e)),t}const $A=U$.mark({class:"cm-selectionMatch"}),kA=U$.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function SA(e,t,n,r){return!(0!=n&&e(t.sliceDoc(n-1,n))==cw.Word||r!=t.doc.length&&e(t.sliceDoc(r,r+1))==cw.Word)}const CA=xk.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(xA),{state:n}=e,r=n.selection;if(r.ranges.length>1)return U$.none;let o,i=r.main,s=null;if(i.empty){if(!t.highlightWordAroundCursor)return U$.none;let e=n.wordAt(i.head);if(!e)return U$.none;s=n.charCategorizer(i.head),o=n.sliceDoc(e.from,e.to)}else{let e=i.to-i.from;if(e<t.minSelectionLength||e>200)return U$.none;if(t.wholeWords){if(o=n.sliceDoc(i.from,i.to),s=n.charCategorizer(i.head),!SA(s,n,i.from,i.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==cw.Word&&e(t.sliceDoc(r-1,r))==cw.Word}(s,n,i.from,i.to))return U$.none}else if(o=n.sliceDoc(i.from,i.to).trim(),!o)return U$.none}let a=[];for(let r of e.visibleRanges){let e=new lA(n.doc,o,r.from,r.to);for(;!e.next().done;){let{from:r,to:o}=e.value;if((!s||SA(s,n,r,o))&&(i.empty&&r<=i.from&&o>=i.to?a.push(kA.range(r,o)):(r>=i.to||o<=i.from)&&a.push($A.range(r,o)),a.length>t.maxMatches))return U$.none}}return U$.set(a)}},{decorations:e=>e.decorations}),_A=vC.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const OA=Cx.define({combine(e){var t;return{top:e.reduce(((e,t)=>null!=e?e:t.top),void 0)||!1,caseSensitive:e.reduce(((e,t)=>null!=e?e:t.caseSensitive||t.matchCase),void 0)||!1,createPanel:(null===(t=e.find((e=>e.createPanel)))||void 0===t?void 0:t.createPanel)||(e=>new XA(e))}}});function PA(e){return e?[OA.of(e),oj]:oj}class EA{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,uA),!0}catch(e){return!1}}(this.search)),this.unquoted=this.search.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new IA(this):new MA(this)}getCursor(e,t=0,n=e.length){return this.regexp?TA(this,e,t,n):jA(this,e,t,n)}}class AA{constructor(e){this.spec=e}}function jA(e,t,n,r){return new lA(t,e.unquoted,n,r,e.caseSensitive?void 0:e=>e.toLowerCase())}class MA extends AA{constructor(e){super(e)}nextMatch(e,t,n){let r=jA(this.spec,e,n,e.length).nextOverlapping();return r.done&&(r=jA(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let n=Math.max(t,r-1e4-this.spec.unquoted.length),o=jA(this.spec,e,n,r),i=null;for(;!o.nextOverlapping().done;)i=o.value;if(i)return i;if(n==t)return null;r-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let n=jA(this.spec,e,0,e.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=jA(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function TA(e,t,n,r){return new hA(t,e.search,e.caseSensitive?void 0:{ignoreCase:!0},n,r)}class IA extends AA{nextMatch(e,t,n){let r=TA(this.spec,e,n,e.length).next();return r.done&&(r=TA(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let o=Math.max(t,n-1e4*r),i=TA(this.spec,e,o,n),s=null;for(;!i.next().done;)s=i.value;if(s&&(o==t||s.from>o+10))return s;if(o==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,((t,n)=>"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t))}matchAll(e,t){let n=TA(this.spec,e,0,e.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=TA(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const zA=tw.define(),NA=tw.define(),RA=jx.define({create:e=>new DA(GA(e).create(),null),update(e,t){for(let n of t.effects)n.is(zA)?e=new DA(n.value.create(),e.panel):n.is(NA)&&(e=new DA(e.query,n.value?KA:null));return e},provide:e=>oA.from(e,(e=>e.panel))});class DA{constructor(e,t){this.query=e,this.panel=t}}const LA=U$.mark({class:"cm-searchMatch"}),BA=U$.mark({class:"cm-searchMatch cm-searchMatch-selected"}),FA=xk.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(RA))}update(e){let t=e.state.field(RA);(t!=e.startState.field(RA)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return U$.none;let{view:n}=this,r=new _w;for(let t=0,o=n.visibleRanges,i=o.length;t<i;t++){let{from:s,to:a}=o[t];for(;t<i-1&&a>o[t+1].from-500;)a=o[++t].to;e.highlight(n.state.doc,s,a,((e,t)=>{let o=n.state.selection.ranges.some((n=>n.from==e&&n.to==t));r.add(e,t,o?BA:LA)}))}return r.finish()}},{decorations:e=>e.decorations});function qA(e){return t=>{let n=t.state.field(RA,!1);return n&&n.query.spec.valid?e(t,n):QA(t)}}const VA=qA(((e,{query:t})=>{let{from:n,to:r}=e.state.selection.main,o=t.nextMatch(e.state.doc,n,r);return!(!o||o.from==n&&o.to==r)&&(e.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:nj(e,o),userEvent:"select.search"}),!0)})),HA=qA(((e,{query:t})=>{let{state:n}=e,{from:r,to:o}=n.selection.main,i=t.prevMatch(n.doc,r,o);return!!i&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:nj(e,i),userEvent:"select.search"}),!0)})),WA=qA(((e,{query:t})=>{let n=t.matchAll(e.state.doc,1e3);return!(!n||!n.length)&&(e.dispatch({selection:wx.create(n.map((e=>wx.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),UA=qA(((e,{query:t})=>{let{state:n}=e,{from:r,to:o}=n.selection.main;if(n.readOnly)return!1;let i=t.nextMatch(n.doc,r,r);if(!i)return!1;let s,a,l=[];if(i.from==r&&i.to==o&&(a=n.toText(t.getReplacement(i)),l.push({from:i.from,to:i.to,insert:a}),i=t.nextMatch(n.doc,i.from,i.to)),i){let e=0==l.length||l[0].from>=i.to?0:i.to-i.from-a.length;s={anchor:i.from-e,head:i.to-e}}return e.dispatch({changes:l,selection:s,scrollIntoView:!!s,effects:i?nj(e,i):void 0,userEvent:"input.replace"}),!0})),JA=qA(((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state.doc,1e9).map((e=>{let{from:n,to:r}=e;return{from:n,to:r,insert:t.getReplacement(e)}}));return!!n.length&&(e.dispatch({changes:n,userEvent:"input.replace.all"}),!0)}));function KA(e){return e.state.facet(OA).createPanel(e)}function GA(e,t){var n;let r=e.selection.main,o=r.empty||r.to>r.from+100?"":e.sliceDoc(r.from,r.to),i=null!==(n=null==t?void 0:t.caseSensitive)&&void 0!==n?n:e.facet(OA).caseSensitive;return t&&!o?t:new EA({search:o.replace(/\n/g,"\\n"),caseSensitive:i})}const QA=e=>{let t=e.state.field(RA,!1);if(t&&t.panel){let n=XE(e,KA);if(!n)return!1;let r=n.dom.querySelector("[name=search]");if(r!=e.root.activeElement){let n=GA(e.state,t.query.spec);n.valid&&e.dispatch({effects:zA.of(n)}),r.focus(),r.select()}}else e.dispatch({effects:[NA.of(!0),t?zA.of(GA(e.state,t.query.spec)):tw.appendConfig.of(oj)]});return!0},YA=e=>{let t=e.state.field(RA,!1);if(!t||!t.panel)return!1;let n=XE(e,KA);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:NA.of(!1)}),!0},ZA=[{key:"Mod-f",run:QA,scope:"editor search-panel"},{key:"F3",run:VA,shift:HA,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:VA,shift:HA,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:YA,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:o}=n.main,i=[],s=0;for(let t=new lA(e.doc,e.sliceDoc(r,o));!t.next().done;){if(i.length>1e3)return!1;t.value.from==r&&(s=i.length),i.push(wx.range(t.value.from,t.value.to))}return t(e.update({selection:wx.create(i,s),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:e=>{let t=XE(e,mA);if(!t){let n=[gA.of(!0)];null==e.state.field(vA,!1)&&n.push(tw.appendConfig.of([vA,yA])),e.dispatch({effects:n}),t=XE(e,mA)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:n}=e,r=wx.create(n.ranges.map((t=>e.wordAt(t.head)||wx.cursor(t.head))),n.mainIndex);return!r.eq(n)&&(t(e.update({selection:r})),!0)})({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=r)))return!1;let o=function(e,t){let{main:n,ranges:r}=e.selection,o=e.wordAt(n.head),i=o&&o.from==n.from&&o.to==n.to;for(let n=!1,o=new lA(e.doc,t,r[r.length-1].to);;){if(o.next(),!o.done){if(n&&r.some((e=>e.from==o.value.from)))continue;if(i){let t=e.wordAt(o.value.from);if(!t||t.from!=o.value.from||t.to!=o.value.to)continue}return o.value}if(n)return null;o=new lA(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(e,r);return!!o&&(t(e.update({selection:e.selection.addRange(wx.range(o.from,o.to),!1),effects:vC.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class XA{constructor(e){this.view=e;let t=this.query=e.state.field(RA).query.spec;function n(e,t,n){return iA("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=iA("input",{value:t.search,placeholder:ej(e,"Find"),"aria-label":ej(e,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=iA("input",{value:t.replace,placeholder:ej(e,"Replace"),"aria-label":ej(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=iA("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=iA("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit}),this.dom=iA("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",(()=>VA(e)),[ej(e,"next")]),n("prev",(()=>HA(e)),[ej(e,"previous")]),n("select",(()=>WA(e)),[ej(e,"all")]),iA("label",null,[this.caseField,ej(e,"match case")]),iA("label",null,[this.reField,ej(e,"regexp")]),...e.state.readOnly?[]:[iA("br"),this.replaceField,n("replace",(()=>UA(e)),[ej(e,"replace")]),n("replaceAll",(()=>JA(e)),[ej(e,"replace all")]),iA("button",{name:"close",onclick:()=>YA(e),"aria-label":ej(e,"close"),type:"button"},["×"])]])}commit(){let e=new EA({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:zA.of(e)}))}keydown(e){var t,n,r;t=this.view,n=e,r="search-panel",AC(PC(t.state),n,t,r)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?HA:VA)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),UA(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(zA)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(OA).top}}function ej(e,t){return e.state.phrase(t)}const tj=/[\s\.,:;?!]/;function nj(e,{from:t,to:n}){let r=e.state.doc.lineAt(t).from,o=e.state.doc.lineAt(n).to,i=Math.max(r,t-30),s=Math.min(o,n+30),a=e.state.sliceDoc(i,s);if(i!=r)for(let e=0;e<30;e++)if(!tj.test(a[e+1])&&tj.test(a[e])){a=a.slice(e);break}if(s!=o)for(let e=a.length-1;e>a.length-30;e--)if(!tj.test(a[e-1])&&tj.test(a[e])){a=a.slice(0,e);break}return vC.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${e.state.doc.lineAt(t).number}`)}const rj=vC.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),oj=[RA,Dx.lowest(FA),rj],ij="undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2);class sj{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(n)}update(e){let t=e.state.facet(this.facet),n=t.filter((e=>e));if(t===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let r=[];for(let t=0;t<n.length;t++){let o=n[t],i=-1;if(o){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==o.create&&(i=e)}if(i<0)r[t]=this.createTooltipView(o);else{let n=r[t]=this.tooltipViews[i];n.update&&n.update(e)}}}for(let e of this.tooltipViews)r.indexOf(e)<0&&e.dom.remove();return this.input=t,this.tooltips=n,this.tooltipViews=r,!0}}function aj(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const lj=Cx.define({combine:e=>{var t,n,r;return{position:ij?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((e=>e.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((e=>e.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||aj}}}),cj=xk.fromClass(class{constructor(e){var t;this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let n=e.state.facet(lj);this.position=n.position,this.parent=n.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new sj(e,dj,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(t=e.dom.ownerDocument.defaultView)||void 0===t||t.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(lj);if(r.position!=this.position){this.position=r.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top="-10000px",this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;null===(e=this.view.dom.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.measureSoon);for(let{dom:e}of this.manager.tooltipViews)e.remove();null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect();return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(lj).tooltipSpace(this.view)}}writeMeasure(e){let{editor:t,space:n}=e,r=[];for(let o=0;o<this.manager.tooltips.length;o++){let i=this.manager.tooltips[o],s=this.manager.tooltipViews[o],{dom:a}=s,l=e.pos[o],c=e.size[o];if(!l||l.bottom<=Math.max(t.top,n.top)||l.top>=Math.min(t.bottom,n.bottom)||l.right<Math.max(t.left,n.left)-.1||l.left>Math.min(t.right,n.right)+.1){a.style.top="-10000px";continue}let u=i.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,h=u?7:0,d=c.right-c.left,f=c.bottom-c.top,p=s.offset||hj,m=this.view.textDirection==Ek.LTR,g=c.width>n.right-n.left?m?n.left:n.right-c.width:m?Math.min(l.left-(u?14:0)+p.x,n.right-d):Math.max(n.left,l.left-d+(u?14:0)-p.x),v=!!i.above;!i.strictSide&&(v?l.top-(c.bottom-c.top)-p.y<n.top:l.bottom+(c.bottom-c.top)+p.y>n.bottom)&&v==n.bottom-l.bottom>l.top-n.top&&(v=!v);let y=v?l.top-f-h-p.y:l.bottom+h+p.y,b=g+d;if(!0!==s.overlap)for(let e of r)e.left<b&&e.right>g&&e.top<y+f&&e.bottom>y&&(y=v?e.top-f-2-h:e.bottom+h+2);"absolute"==this.position?(a.style.top=y-e.parent.top+"px",a.style.left=g-e.parent.left+"px"):(a.style.top=y+"px",a.style.left=g+"px"),u&&(u.style.left=l.left+(m?p.x:-p.x)-(g+14-7)+"px"),!0!==s.overlap&&r.push({left:g,top:y,right:b,bottom:y+f}),a.classList.toggle("cm-tooltip-above",v),a.classList.toggle("cm-tooltip-below",!v),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top="-10000px"}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),uj=vC.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),hj={x:0,y:0},dj=Cx.define({enables:[cj,uj]}),fj=Cx.define();class pj{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new sj(e,fj,(e=>this.createHostedView(e)))}static create(e){return new pj(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const mj=dj.compute([fj],(e=>{let t=e.facet(fj).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:pj.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class gj{constructor(e,t,n,r,o){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){var e;clearTimeout(this.restartTimeout);let{lastMove:t}=this,n=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(null==n)return;let r=this.view.coordsAtPos(n);if(null==r||t.y<r.top||t.y>r.bottom||t.x<r.left-this.view.defaultCharacterWidth||t.x>r.right+this.view.defaultCharacterWidth)return;let o=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find((e=>e.from<=n&&e.to>=n)),i=o&&o.dir==Ek.RTL?-1:1,s=this.source(this.view,n,t.x<r.left?-i:i);if(null===(e=s)||void 0===e?void 0:e.then){let e=this.pending={pos:n};s.then((t=>{this.pending==e&&(this.pending=null,t&&this.view.dispatch({effects:this.setHover.of(t)}))}),(e=>pk(this.view.state,e,"hover tooltip")))}else s&&this.view.dispatch({effects:this.setHover.of(s)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!function(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:r}=n||this.pending,o=null!==(t=null==n?void 0:n.end)&&void 0!==t?t:r;(r==o?this.view.posAtCoords(this.lastMove)==r:function(e,t,n,r,o,i){let s=document.createRange(),a=e.domAtPos(t),l=e.domAtPos(n);s.setEnd(l.node,l.offset),s.setStart(a.node,a.offset);let c=s.getClientRects();s.detach();for(let e=0;e<c.length;e++){let t=c[e];if(Math.max(t.top-o,o-t.bottom,t.left-r,r-t.right)<=i)return!0}return!1}(this.view,r,o,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function vj(e,t={}){let n=tw.define(),r=jx.define({create:()=>null,update(e,r){if(e&&t.hideOnChange&&(r.docChanged||r.selection))return null;for(let e of r.effects){if(e.is(n))return e.value;if(e.is(yj))return null}if(e&&r.docChanged){let t=r.changes.mapPos(e.pos,-1,hx.TrackDel);if(null==t)return null;let n=Object.assign(Object.create(null),e);return n.pos=t,null!=e.end&&(n.end=r.changes.mapPos(e.end)),n}return e},provide:e=>fj.from(e)});return[r,xk.define((o=>new gj(o,e,r,n,t.hoverTime||300))),mj]}const yj=tw.define();class bj{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=cO(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),o=r.search(Sj(e,!1));return o<0?null:{from:n+o,to:this.pos,text:r.slice(o)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function xj(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function wj(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,r]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:r}of e){t[r[0]]=!0;for(let e=1;e<r.length;e++)n[r[e]]=!0}let r=xj(t)+xj(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(t);return e=>{let o=e.matchBefore(r);return o||e.explicit?{from:o?o.from:e.pos,options:t,span:n}:null}}class $j{constructor(e,t,n){this.completion=e,this.source=t,this.match=n}}function kj(e){return e.selection.main.head}function Sj(e,t){var n;let{source:r}=e,o=t&&"^"!=r[0],i="$"!=r[r.length-1];return o||i?new RegExp(`${o?"^":""}(?:${r})${i?"$":""}`,null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}const Cj=Zx.define();function _j(e,t){let n=t.completion.apply||t.completion.label,r=t.source;"string"==typeof n?e.dispatch({changes:{from:r.from,to:r.to,insert:n},selection:{anchor:r.from+n.length},userEvent:"input.complete",annotations:Cj.of(t.completion)}):n(e,t.completion,r.from,r.to)}const Oj=new WeakMap;function Pj(e){if(!Array.isArray(e))return e;let t=Oj.get(e);return t||Oj.set(e,t=wj(e)),t}class Ej{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let n=Qb(e,t),r=Zb(n);this.chars.push(n);let o=e.slice(t,t+r),i=o.toUpperCase();this.folded.push(Qb(i==o?o.toLowerCase():i,0)),t+=r}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:r,precise:o,byWord:i}=this;if(1==t.length){let r=Qb(e,0);return r==t[0]?[0,0,Zb(r)]:r==n[0]?[-200,0,Zb(r)]:null}let s=e.indexOf(this.pattern);if(0==s)return[0,0,this.pattern.length];let a=t.length,l=0;if(s<0){for(let o=0,i=Math.min(e.length,200);o<i&&l<a;){let i=Qb(e,o);i!=t[l]&&i!=n[l]||(r[l++]=o),o+=Zb(i)}if(l<a)return null}let c=0,u=0,h=!1,d=0,f=-1,p=-1,m=/[a-z]/.test(e),g=!0;for(let r=0,l=Math.min(e.length,200),v=0;r<l&&u<a;){let l=Qb(e,r);s<0&&(c<a&&l==t[c]&&(o[c++]=r),d<a&&(l==t[d]||l==n[d]?(0==d&&(f=r),p=r+1,d++):d=0));let y,b=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(y=Yb(l))!=y.toLowerCase()?1:y!=y.toUpperCase()?2:0;(!r||1==b&&m||0==v&&0!=b)&&(t[u]==l||n[u]==l&&(h=!0)?i[u++]=r:i.length&&(g=!1)),v=b,r+=Zb(l)}return u==a&&0==i[0]&&g?this.result((h?-200:0)-100,i,e):d==a&&0==f?[-200-e.length,0,p]:s>-1?[-700-e.length,s,s+this.pattern.length]:d==a?[-900-e.length,f,p]:u==a?this.result((h?-200:0)-100-700+(g?0:-1100),i,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}result(e,t,n){let r=[e-n.length],o=1;for(let e of t){let t=e+(this.astral?Zb(Qb(n,e)):1);o>1&&r[o-1]==e?r[o-1]=t:(r[o++]=e,r[o++]=t)}return r}}const Aj=Cx.define({combine:e=>pw(e,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>n=>function(e,t){return e?t?e+" "+t:e:t}(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})});function jj(e,t,n){if(e<=n)return{from:0,to:e};if(t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}class Mj{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:e=>this.positionInfo(e),key:this};let n=e.state.field(t),{options:r,selected:o}=n.open,i=e.state.facet(Aj);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,n){let r=document.createElement("span");r.className="cm-completionLabel";let{label:o}=e,i=0;for(let e=1;e<n.length;){let t=n[e++],s=n[e++];t>i&&r.appendChild(document.createTextNode(o.slice(i,t)));let a=r.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(o.slice(t,s))),a.className="cm-completionMatchedText",i=s}return i<o.length&&r.appendChild(document.createTextNode(o.slice(i))),r},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(i),this.optionClass=i.optionClass,this.range=jj(r.length,o,i.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(t=>{for(let n,o=t.target;o&&o!=this.dom;o=o.parentNode)if("LI"==o.nodeName&&(n=/-(\d+)$/.exec(o.id))&&+n[1]<r.length)return _j(e,r[+n[1]]),void t.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(r,n.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=jj(t.options.length,t.selected,this.view.state.facet(Aj).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:n}=t.options[t.selected],{info:r}=n;if(!r)return;let o="string"==typeof r?document.createTextNode(r):r(n);if(!o)return;"then"in o?o.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t)})).catch((e=>pk(this.view.state,e,"completion info"))):this.addInfoPane(o)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&function(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect();r.top<n.top?e.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(e.scrollTop+=r.bottom-n.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect();if(r.top>Math.min(innerHeight,t.bottom)-10||r.bottom<Math.max(0,t.top)+10)return null;let o=Math.max(0,Math.min(r.top,innerHeight-n.height))-t.top,i=this.view.textDirection==Ek.RTL,s=t.left,a=innerWidth-t.right;return i&&s<Math.min(n.width,a)?i=!1:!i&&a<Math.min(n.width,s)&&(i=!0),{top:o,left:i}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,n){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true");for(let o=n.from;o<n.to;o++){let{completion:n,match:i}=e[o];const s=r.appendChild(document.createElement("li"));s.id=t+"-"+o,s.setAttribute("role","option");let a=this.optionClass(n);a&&(s.className=a);for(let e of this.optionContent){let t=e(n,this.view.state,i);t&&s.appendChild(t)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function Tj(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class Ij{constructor(e,t,n,r,o){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=r,this.selected=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Ij(this.options,Rj(t,e),this.tooltip,this.timestamp,e)}static build(e,t,n,r,o){let i=function(e,t){let n=[],r=0;for(let o of e)if(o.hasResult())if(!1===o.result.filter)for(let e of o.result.options)n.push(new $j(e,o,[1e9-r++]));else{let e,r=new Ej(t.sliceDoc(o.from,o.to));for(let t of o.result.options)(e=r.match(t.label))&&(null!=t.boost&&(e[0]+=t.boost),n.push(new $j(t,o,e)))}let o=[],i=null;for(let e of n.sort(Lj)){if(300==o.length)break;i&&i.label==e.completion.label&&i.detail==e.completion.detail&&i.type==e.completion.type&&i.apply==e.completion.apply?Tj(e.completion)>Tj(i)&&(o[o.length-1]=e):o.push(e),i=e.completion}return o}(e,t);if(!i.length)return null;let s=0;if(r&&r.selected){let e=r.options[r.selected].completion;for(let t=0;t<i.length;t++)if(i[t].completion==e){s=t;break}}return new Ij(i,Rj(n,s),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:(a=Jj,e=>new Mj(e,a)),above:o.aboveCursor},r?r.timestamp:Date.now(),s);var a}map(e){return new Ij(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class zj{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new zj(Dj,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,n=t.facet(Aj),r=(n.override||t.languageDataAt("autocomplete",kj(t)).map(Pj)).map((t=>(this.active.find((e=>e.source==t))||new Fj(t,this.active.some((e=>0!=e.state))?1:0)).update(e,n)));r.length==this.active.length&&r.every(((e,t)=>e==this.active[t]))&&(r=this.active);let o=e.selection||r.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;let o=n==e.length,i=r==t.length;if(o||i)return o==i;if(e[n++].result!=t[r++].result)return!1}}(r,this.active)?Ij.build(r,t,this.id,this.open,n):this.open&&e.docChanged?this.open.map(e.changes):this.open;!o&&r.every((e=>1!=e.state))&&r.some((e=>e.hasResult()))&&(r=r.map((e=>e.hasResult()?new Fj(e.source,0):e)));for(let t of e.effects)t.is(Uj)&&(o=o&&o.setSelected(t.value,this.id));return r==this.active&&o==this.open?this:new zj(r,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Nj}}const Nj={"aria-autocomplete":"list"};function Rj(e,t){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":e+"-"+t,"aria-controls":e}}const Dj=[];function Lj(e,t){let n=t.match[0]-e.match[0];return n||e.completion.label.localeCompare(t.completion.label)}function Bj(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class Fj{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=Bj(e),r=this;n?r=r.handleUserEvent(e,n,t):e.docChanged?r=r.handleChange(e):e.selection&&0!=r.state&&(r=new Fj(r.source,0));for(let t of e.effects)if(t.is(Vj))r=new Fj(r.source,1,t.value?kj(e.state):-1);else if(t.is(Hj))r=new Fj(r.source,0);else if(t.is(Wj))for(let e of t.value)e.source==r.source&&(r=e);return r}handleUserEvent(e,t,n){return"delete"!=t&&n.activateOnTyping?new Fj(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(kj(e.startState))?new Fj(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Fj(this.source,this.state,e.mapPos(this.explicitPos))}}class qj extends Fj{constructor(e,t,n,r,o,i){super(e,2,t),this.result=n,this.from=r,this.to=o,this.span=i}hasResult(){return!0}handleUserEvent(e,t,n){let r=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),i=kj(e.state);if((this.explicitPos<0?i<=r:i<this.from)||i>o||"delete"==t&&kj(e.startState)==this.from)return new Fj(this.source,"input"==t&&n.activateOnTyping?1:0);let s=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return this.span&&(r==o||this.span.test(e.state.sliceDoc(r,o)))?new qj(this.source,s,this.result,r,o,this.span):new Fj(this.source,1,s)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Fj(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new qj(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1),this.span)}}const Vj=tw.define(),Hj=tw.define(),Wj=tw.define({map:(e,t)=>e.map((e=>e.map(t)))}),Uj=tw.define(),Jj=jx.define({create:()=>zj.start(),update:(e,t)=>e.update(t),provide:e=>[dj.from(e,(e=>e.tooltip)),vC.contentAttributes.from(e,(e=>e.attrs))]});function Kj(e,t="option"){return n=>{let r=n.state.field(Jj,!1);if(!r||!r.open||Date.now()-r.open.timestamp<75)return!1;let o,i=1;"page"==t&&(o=function(e,t){let n=e.plugin(cj);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let s=r.open.selected+i*(e?1:-1),{length:a}=r.open.options;return s<0?s="page"==t?0:a-1:s>=a&&(s="page"==t?a-1:0),n.dispatch({effects:Uj.of(s)}),!0}}class Gj{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Qj=xk.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(Jj).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(Jj);if(!e.selectionSet&&!e.docChanged&&e.startState.field(Jj)==t)return;let n=e.transactions.some((e=>(e.selection||e.docChanged)&&!Bj(e)));for(let t=0;t<this.running.length;t++){let r=this.running[t];if(n||r.updates.length+e.transactions.length>50&&Date.now()-r.time>1e3){for(let e of r.context.abortListeners)try{e()}catch(e){pk(this.view.state,e)}r.context.abortListeners=null,this.running.splice(t--,1)}else r.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let t of e.transactions)"input"==Bj(t)?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(Jj);for(let e of t.active)1!=e.state||this.running.some((t=>t.active.source==e.source))||this.startQuery(e)}startQuery(e){let{state:t}=this.view,n=kj(t),r=new bj(t,n,e.explicitPos==n),o=new Gj(e,r);this.running.push(o),Promise.resolve(e.source(r)).then((e=>{o.context.aborted||(o.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:Hj.of(null)}),pk(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(Aj);for(let r=0;r<this.running.length;r++){let o=this.running[r];if(void 0===o.done)continue;if(this.running.splice(r--,1),o.done){let r=new qj(o.active.source,o.active.explicitPos,o.done,o.done.from,null!==(e=o.done.to)&&void 0!==e?e:kj(o.updates.length?o.updates[0].startState:this.view.state),o.done.span&&!1!==o.done.filter?Sj(o.done.span,!0):null);for(let e of o.updates)r=r.update(e,n);if(r.hasResult()){t.push(r);continue}}let i=this.view.state.field(Jj).active.find((e=>e.source==o.active.source));if(i&&1==i.state)if(null==o.done){let e=new Fj(o.active.source,0);for(let t of o.updates)e=e.update(t,n);1!=e.state&&t.push(e)}else this.startQuery(i)}t.length&&this.view.dispatch({effects:Wj.of(t)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:Vj.of(!1)})),20),this.composing=0}}}),Yj=vC.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function Zj(e={}){return[Jj,Aj.of(e),Qj,eM,Yj]}const Xj=[{key:"Ctrl-Space",run:e=>!!e.state.field(Jj,!1)&&(e.dispatch({effects:Vj.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(Jj,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:Hj.of(null)}),!0)}},{key:"ArrowDown",run:Kj(!0)},{key:"ArrowUp",run:Kj(!1)},{key:"PageDown",run:Kj(!0,"page")},{key:"PageUp",run:Kj(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(Jj,!1);return!(e.state.readOnly||!t||!t.open||Date.now()-t.open.timestamp<75)&&(_j(e,t.open.options[t.open.selected]),!0)}}],eM=Dx.highest(_C.computeN([Aj],(e=>e.facet(Aj).defaultKeymap?[Xj]:[])));function tM(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let o=e(t,n);return!!o&&(r(n.update(o)),!0)}}const nM=tM(lM,0),rM=tM(aM,0),oM=tM(((e,t)=>aM(e,t,function(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),o=n.to<=r.to?r:e.doc.lineAt(n.to),i=t.length-1;i>=0&&t[i].to>r.from?t[i].to=o.to:t.push({from:r.from,to:o.to})}return t}(t))),0),iM=[{key:"Mod-/",run:e=>{let t=sM(e.state);return t.line?nM(e):!!t.block&&oM(e)}},{key:"Alt-A",run:rM}];function sM(e,t=e.selection.main.head){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}function aM(e,t,n=t.selection.ranges){let r=n.map((e=>sM(t,e.from).block));if(!r.every((e=>e)))return null;let o=n.map(((e,n)=>function(e,{open:t,close:n},r,o){let i,s,a=e.sliceDoc(r-50,r),l=e.sliceDoc(o,o+50),c=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,h=a.length-c;if(a.slice(h-t.length,h)==t&&l.slice(u,u+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:o+u,margin:u&&1}};o-r<=100?i=s=e.sliceDoc(r,o):(i=e.sliceDoc(r,r+50),s=e.sliceDoc(o-50,o));let d=/^\s*/.exec(i)[0].length,f=/\s*$/.exec(s)[0].length,p=s.length-f-n.length;return i.slice(d,d+t.length)==t&&s.slice(p,p+n.length)==n?{open:{pos:r+d+t.length,margin:/\s/.test(i.charAt(d+t.length))?1:0},close:{pos:o-f-n.length,margin:/\s/.test(s.charAt(p-1))?1:0}}:null}(t,r[n],e.from,e.to)));if(2!=e&&!o.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>o[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}])))};if(1!=e&&o.some((e=>e))){let e=[];for(let t,n=0;n<o.length;n++)if(t=o[n]){let o=r[n],{open:i,close:s}=t;e.push({from:i.pos-o.open.length,to:i.pos+i.margin},{from:s.pos-s.margin,to:s.pos+o.close.length})}return{changes:e}}return null}function lM(e,t,n=t.selection.ranges){let r=[],o=-1;for(let{from:e,to:i}of n){let n=r.length,s=1e9;for(let n=e;n<=i;){let a=t.doc.lineAt(n);if(a.from>o&&(e==i||i>a.from)){o=a.from;let e=sM(t,n).line;if(!e)continue;let i=/^\s*/.exec(a.text)[0].length,l=i==a.length,c=a.text.slice(i,i+e.length)==e?i:-1;i<a.text.length&&i<s&&(s=i),r.push({line:a,comment:c,token:e,indent:i,empty:l,single:!1})}n=a.to+1}if(s<1e9)for(let e=n;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=s);r.length==n+1&&(r[n].single=!0)}if(2!=e&&r.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:n,indent:o,empty:i,single:s}of r)!s&&i||e.push({from:t.from+o,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&r.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:o}of r)if(n>=0){let r=t.from+n,i=r+o.length;" "==t.text[i-t.from]&&i++,e.push({from:r,to:i})}return{changes:e}}return null}function cM(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),o=n-r.from,i=o>2e3?-1:o==r.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):Xb(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:i,off:o}}function uM(e,t){let n=cM(e,t),r=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),o=e.state.doc.lineAt(t);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(e.changes)}},get(t,o,i){let s=cM(e,t);if(!s)return r;let a=function(e,t,n){let r=Math.min(t.line,n.line),o=Math.max(t.line,n.line),i=[];if(t.off>2e3||n.off>2e3||t.col<0||n.col<0){let s=Math.min(t.off,n.off),a=Math.max(t.off,n.off);for(let t=r;t<=o;t++){let n=e.doc.line(t);n.length<=a&&i.push(wx.range(n.from+s,n.to+a))}}else{let s=Math.min(t.col,n.col),a=Math.max(t.col,n.col);for(let t=r;t<=o;t++){let n=e.doc.line(t),r=ex(n.text,s,e.tabSize,!0);if(r>-1){let t=ex(n.text,a,e.tabSize);i.push(wx.range(n.from+r,n.from+t))}}}return i}(e.state,n,s);return a.length?i?wx.create(a.concat(r.ranges)):wx.create(a):r}}:null}function hM(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return vC.mouseSelectionStyle.of(((e,n)=>t(n)?uM(e,n):null))}const dM={Alt:[18,e=>e.altKey],Control:[17,e=>e.ctrlKey],Shift:[16,e=>e.shiftKey],Meta:[91,e=>e.metaKey]},fM={style:"cursor: crosshair"};function pM(e={}){let[t,n]=dM[e.key||"Alt"],r=xk.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventHandlers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)}}});return[r,vC.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?fM:null}))]}let mM=0;class gM{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=mM++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new gM([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new yM;return t=>t.modified.indexOf(e)>-1?t:yM.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let vM=0;class yM{constructor(){this.instances=[],this.id=vM++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(r=t,o=n.modified,r.length==o.length&&r.every(((e,t)=>e==o[t])));var r,o}));if(n)return n;let r=[],o=new gM(r,e,t);for(let e of t)e.instances.push(o);let i=bM(t);for(let t of e.set)for(let e of i)r.push(yM.get(t,e));return o}}function bM(e){let t=[e];for(let n=0;n<e.length;n++)for(let r of bM(e.slice(0,n).concat(e.slice(n+1))))t.push(r);return t}function xM(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],o=2,i=e;for(let t=0;;){if("..."==i&&t>0&&t+3==e.length){o=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?null:'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){o=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);i=e.slice(t)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+e);let l=new CM(r,o,s>0?n.slice(0,s):null);t[a]=l.sort(t[a])}}return wM.add(t)}const wM=new I_,$M=Cx.define({combine:e=>e.length?_M.combinedMatch(e):null}),kM=Cx.define({combine:e=>e.length?e[0].match:null});function SM(e){return e.facet($M)||e.facet(kM)}class CM{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}class _M{constructor(e,t){let n;function r(e){let t=yw.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.map=Object.create(null),this.all="string"==typeof t.all?t.all:t.all?r(t.all):null;for(let t of e){let e=(t.class||r(Object.assign({},t,{tag:null})))+(this.all?" "+this.all:""),n=t.tag;if(Array.isArray(n))for(let t of n)this.map[t.id]=e;else this.map[n.id]=e}this.module=n?new yw(n):null,this.scope=t.scope||null,this.match=this.match.bind(this);let o=[PM];this.module&&o.push(vC.styleModule.of(this.module)),this.extension=o.concat(null==t.themeType?$M.of(this):$M.computeN([vC.darkTheme],(e=>e.facet(vC.darkTheme)==("dark"==t.themeType)?[this]:[]))),this.fallback=o.concat(kM.of(this))}match(e,t){if(this.scope&&t!=this.scope)return null;for(let t of e.set){let n=this.map[t.id];if(void 0!==n)return t!=e&&(this.map[e.id]=n),n}return this.map[e.id]=this.all}static combinedMatch(e){if(1==e.length)return e[0].match;let t=e.some((e=>e.scope))?void 0:Object.create(null);return(n,r)=>{let o=t&&t[n.id];if(void 0!==o)return o;let i=null;for(let t of e){let e=t.match(n,r);e&&(i=i?i+" "+e:e)}return t&&(t[n.id]=i),i}}static define(e,t){return new _M(e,t||{})}static get(e,t,n){let r=SM(e);return r&&r(t,n||N_.none)}}class OM{constructor(e){this.markCache=Object.create(null),this.tree=cO(e.state),this.decorations=this.buildDeco(e,SM(e.state))}update(e){let t=cO(e.state),n=SM(e.state),r=n!=e.startState.facet($M);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return U$.none;let n=new _w;for(let{from:r,to:o}of e.visibleRanges)jM(this.tree,r,o,t,((e,t,r)=>{n.add(e,t,this.markCache[r]||(this.markCache[r]=U$.mark({class:r})))}));return n.finish()}}const PM=Dx.high(xk.fromClass(OM,{decorations:e=>e.decorations})),EM=[""];class AM{constructor(e,t,n){this.at=e,this.style=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,o,i){let{type:s,from:a,to:l}=e;if(a>=n||l<=t)return;EM[o]=s.name,s.isTop&&(i=s);let c=r,u=s.prop(wM),h=!1;for(;u;){if(!u.context||MM(u.context,EM,o)){for(let e of u.tags){let t=this.style(e,i);t&&(c&&(c+=" "),c+=t,1==u.mode?r+=(r?" ":"")+t:0==u.mode&&(h=!0))}break}u=u.next}if(this.startSpan(e.from,c),h)return;let d=e.tree&&e.tree.prop(I_.mounted);if(d&&d.overlay){let s=e.node.enter(d.overlay[0].from+a,1),u=e.firstChild();for(let h=0,f=a;;h++){let p=h<d.overlay.length?d.overlay[h]:null,m=p?p.from+a:l,g=Math.max(t,f),v=Math.min(n,m);if(g<v&&u)for(;e.from<v&&(this.highlightRange(e,g,v,r,o+1,i),this.startSpan(Math.min(n,e.to),c),!(e.to>=m)&&e.nextSibling()););if(!p||m>n)break;f=p.to+a,f>t&&(this.highlightRange(s.cursor,Math.max(t,p.from+a),Math.min(n,f),r,o,d.tree.type),this.startSpan(f,c))}u&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,o+1,i),this.startSpan(Math.min(n,e.to),c)}}while(e.nextSibling());e.parent()}}}function jM(e,t,n,r,o){let i=new AM(t,r,o);i.highlightRange(e.cursor(),t,n,"",0,e.type),i.flush(n)}function MM(e,t,n){if(e.length>n-1)return!1;for(let r=n-1,o=e.length-1;o>=0;o--,r--){let n=e[o];if(n&&n!=t[r])return!1}return!0}const TM=gM.define,IM=TM(),zM=TM(),NM=TM(zM),RM=TM(zM),DM=TM(),LM=TM(DM),BM=TM(DM),FM=TM(),qM=TM(FM),VM=TM(),HM=TM(),WM=TM(),UM=TM(WM),JM=TM(),KM={comment:IM,lineComment:TM(IM),blockComment:TM(IM),docComment:TM(IM),name:zM,variableName:TM(zM),typeName:NM,tagName:TM(NM),propertyName:RM,attributeName:TM(RM),className:TM(zM),labelName:TM(zM),namespace:TM(zM),macroName:TM(zM),literal:DM,string:LM,docString:TM(LM),character:TM(LM),attributeValue:TM(LM),number:BM,integer:TM(BM),float:TM(BM),bool:TM(DM),regexp:TM(DM),escape:TM(DM),color:TM(DM),url:TM(DM),keyword:VM,self:TM(VM),null:TM(VM),atom:TM(VM),unit:TM(VM),modifier:TM(VM),operatorKeyword:TM(VM),controlKeyword:TM(VM),definitionKeyword:TM(VM),moduleKeyword:TM(VM),operator:HM,derefOperator:TM(HM),arithmeticOperator:TM(HM),logicOperator:TM(HM),bitwiseOperator:TM(HM),compareOperator:TM(HM),updateOperator:TM(HM),definitionOperator:TM(HM),typeOperator:TM(HM),controlOperator:TM(HM),punctuation:WM,separator:TM(WM),bracket:UM,angleBracket:TM(UM),squareBracket:TM(UM),paren:TM(UM),brace:TM(UM),content:FM,heading:qM,heading1:TM(qM),heading2:TM(qM),heading3:TM(qM),heading4:TM(qM),heading5:TM(qM),heading6:TM(qM),contentSeparator:TM(FM),list:TM(FM),quote:TM(FM),emphasis:TM(FM),strong:TM(FM),link:TM(FM),monospace:TM(FM),strikethrough:TM(FM),inserted:TM(),deleted:TM(),changed:TM(),invalid:TM(),meta:JM,documentMeta:TM(JM),annotation:TM(JM),processingInstruction:TM(JM),definition:gM.defineModifier(),constant:gM.defineModifier(),function:gM.defineModifier(),standard:gM.defineModifier(),local:gM.defineModifier(),special:gM.defineModifier()},GM=_M.define([{tag:KM.link,textDecoration:"underline"},{tag:KM.heading,textDecoration:"underline",fontWeight:"bold"},{tag:KM.emphasis,fontStyle:"italic"},{tag:KM.strong,fontWeight:"bold"},{tag:KM.strikethrough,textDecoration:"line-through"},{tag:KM.keyword,color:"#708"},{tag:[KM.atom,KM.bool,KM.url,KM.contentSeparator,KM.labelName],color:"#219"},{tag:[KM.literal,KM.inserted],color:"#164"},{tag:[KM.string,KM.deleted],color:"#a11"},{tag:[KM.regexp,KM.escape,KM.special(KM.string)],color:"#e40"},{tag:KM.definition(KM.variableName),color:"#00f"},{tag:KM.local(KM.variableName),color:"#30a"},{tag:[KM.typeName,KM.namespace],color:"#085"},{tag:KM.className,color:"#167"},{tag:[KM.special(KM.variableName),KM.macroName],color:"#256"},{tag:KM.definition(KM.propertyName),color:"#00c"},{tag:KM.comment,color:"#940"},{tag:KM.meta,color:"#7a757a"},{tag:KM.invalid,color:"#f00"}]);class QM{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class YM{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let r=U$.set(e.map((e=>e.from==e.to||e.from==e.to-1&&n.doc.lineAt(e.from).to==e.from?U$.widget({widget:new pT(e),diagnostic:e}).range(e.from):U$.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to))),!0);return new YM(r,t,ZM(r))}}function ZM(e,t=null,n=0){let r=null;return e.between(n,1e9,((e,n,{spec:o})=>{if(!t||o.diagnostic==t)return r=new QM(e,n,o.diagnostic),!1})),r}function XM(e,t){return e.field(rT,!1)?t:t.concat(tw.appendConfig.of([rT,vC.decorations.compute([rT],(e=>{let{selected:t,panel:n}=e.field(rT);return t&&n&&t.from!=t.to?U$.set([oT.range(t.from,t.to)]):U$.none})),vj(iT),bT]))}const eT=tw.define(),tT=tw.define(),nT=tw.define(),rT=jx.define({create:()=>new YM(U$.none,null,null),update(e,t){if(t.docChanged){let n=e.diagnostics.map(t.changes),r=null;if(e.selected){let o=t.changes.mapPos(e.selected.from,1);r=ZM(n,e.selected.diagnostic,o)||ZM(n,null,o)}e=new YM(n,e.panel,r)}for(let n of t.effects)n.is(eT)?e=YM.init(n.value,e.panel,t.state):n.is(tT)?e=new YM(e.diagnostics,n.value?gT.open:null,e.selected):n.is(nT)&&(e=new YM(e.diagnostics,e.panel,n.value));return e},provide:e=>[oA.from(e,(e=>e.panel)),vC.decorations.from(e,(e=>e.diagnostics))]}),oT=U$.mark({class:"cm-lintRange cm-lintRange-active"});function iT(e,t,n){let{diagnostics:r}=e.state.field(rT),o=[],i=2e8,s=0;return r.between(t-(n<0?1:0),t+(n>0?1:0),((e,r,{spec:a})=>{t>=e&&t<=r&&(e==r||(t>e||n>0)&&(t<r||n<0))&&(o.push(a.diagnostic),i=Math.min(e,i),s=Math.max(r,s))})),o.length?{pos:i,end:s,above:e.state.doc.lineAt(i).to<s,create:()=>({dom:sT(e,o)})}:null}function sT(e,t){return iA("ul",{class:"cm-tooltip-lint"},t.map((t=>fT(e,t,!1))))}const aT=e=>{let t=e.state.field(rT,!1);return!(!t||!t.panel)&&(e.dispatch({effects:tT.of(!1)}),!0)},lT=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(rT,!1);t&&t.panel||e.dispatch({effects:XM(e.state,[tT.of(!0)])});let n=XE(e,gT.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:e=>{let t=e.state.field(rT,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],cT=xk.fromClass(class{constructor(e){this.view=e,this.timeout=-1,this.set=!0;let{delay:t}=e.state.facet(uT);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){let e=Date.now();if(e<this.lintTime-10)setTimeout(this.run,this.lintTime-e);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(uT);Promise.all(t.map((e=>Promise.resolve(e(this.view))))).then((t=>{let n=t.reduce(((e,t)=>e.concat(t)));this.view.state.doc==e.doc&&this.view.dispatch(function(e,t){return{effects:XM(e,[eT.of(t)])}}(this.view.state,n))}),(e=>{pk(this.view.state,e)}))}}update(e){let t=e.state.facet(uT);(e.docChanged||t!=e.startState.facet(uT))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),uT=Cx.define({combine:e=>({sources:e.map((e=>e.source)),delay:e.length?Math.max(...e.map((e=>e.delay))):750}),enables:cT});function hT(e,t={}){var n;return uT.of({source:e,delay:null!==(n=t.delay)&&void 0!==n?n:750})}function dT(e){let t=[];if(e)e:for(let{name:n}of e){for(let e=0;e<n.length;e++){let r=n[e];if(/[a-zA-Z]/.test(r)&&!t.some((e=>e.toLowerCase()==r.toLowerCase()))){t.push(r);continue e}}t.push("")}return t}function fT(e,t,n){var r;let o=n?dT(t.actions):[];return iA("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},iA("span",{class:"cm-diagnosticText"},t.message),null===(r=t.actions)||void 0===r?void 0:r.map(((n,r)=>{let i=r=>{r.preventDefault();let o=ZM(e.state.field(rT).diagnostics,t);o&&n.apply(e,o.from,o.to)},{name:s}=n,a=o[r]?s.indexOf(o[r]):-1,l=a<0?s:[s.slice(0,a),iA("u",s.slice(a,a+1)),s.slice(a+1)];return iA("button",{type:"button",class:"cm-diagnosticAction",onclick:i,onmousedown:i,"aria-label":` Action: ${s}${a<0?"":` (access key "${o[r]})"`}.`},l)})),t.source&&iA("div",{class:"cm-diagnosticSource"},t.source))}class pT extends H${constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return iA("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class mT{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=fT(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class gT{constructor(e){this.view=e,this.items=[];this.list=iA("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)aT(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=dT(n.actions);for(let o=0;o<r.length;o++)if(r[o].toUpperCase().charCodeAt(0)==t.keyCode){let t=ZM(this.view.state.field(rT).diagnostics,n);t&&n.actions[o].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=iA("div",{class:"cm-panel-lint"},this.list,iA("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>aT(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(rT).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(rT),n=0,r=!1,o=null;for(e.between(0,this.view.state.doc.length,((e,i,{spec:s})=>{let a,l=-1;for(let e=n;e<this.items.length;e++)if(this.items[e].diagnostic==s.diagnostic){l=e;break}l<0?(a=new mT(this.view,s.diagnostic),this.items.splice(n,0,a),r=!0):(a=this.items[l],l>n&&(this.items.splice(n,l-n),r=!0)),t&&a.diagnostic==t.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),o=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new mT(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{e.top<t.top?this.list.scrollTop-=t.top-e.top:e.bottom>t.bottom&&(this.list.scrollTop+=e.bottom-t.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=ZM(this.view.state.field(rT).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:nT.of(t)})}static open(e){return new gT(e)}}function vT(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function yT(e){return vT(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const bT=vC.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:yT("#d11")},".cm-lintRange-warning":{backgroundImage:yT("orange")},".cm-lintRange-info":{backgroundImage:yT("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class xT extends DO{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce(((e,t)=>{let n=t.severity;return"error"==n||"warning"==n&&"info"==e?n:e}),"info")}toDOM(e){let t=document.createElement("div");return t.className="cm-lint-marker cm-lint-marker-"+this.severity,t.onmouseover=()=>function(e,t,n){function r(){let r=e.elementAtHeight(t.getBoundingClientRect().top+5-e.documentTop);e.coordsAtPos(r.from)&&e.dispatch({effects:ST.of({pos:r.from,above:!1,create:()=>({dom:sT(e,n),getCoords:()=>t.getBoundingClientRect()})})}),t.onmouseout=t.onmousemove=null,function(e,t){let n=r=>{let o=t.getBoundingClientRect();if(!(r.clientX>o.left-10&&r.clientX<o.right+10&&r.clientY>o.top-10&&r.clientY<o.bottom+10)){for(let e=r.target;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",n),e.state.field(CT)&&e.dispatch({effects:ST.of(null)})}};window.addEventListener("mousemove",n)}(e,t)}let{hoverTime:o}=e.state.facet(OT),i=setTimeout(r,o);t.onmouseout=()=>{clearTimeout(i),t.onmouseout=t.onmousemove=null},t.onmousemove=()=>{clearTimeout(i),i=setTimeout(r,o)}}(e,t,this.diagnostics),t}}function wT(e,t){let n=Object.create(null);for(let r of t){let t=e.lineAt(r.from);(n[t.from]||(n[t.from]=[])).push(r)}let r=[];for(let e in n)r.push(new xT(n[e]).range(+e));return Cw.of(r,!0)}const $T=qO({class:"cm-gutter-lint",markers:e=>e.state.field(kT)}),kT=jx.define({create:()=>Cw.empty,update(e,t){e=e.map(t.changes);for(let n of t.effects)n.is(eT)&&(e=wT(t.state.doc,n.value));return e}}),ST=tw.define(),CT=jx.define({create:()=>null,update:(e,t)=>(e&&t.docChanged&&(e=Object.assign(Object.assign({},e),{pos:t.changes.mapPos(e.pos)})),t.effects.reduce(((e,t)=>t.is(ST)?t.value:e),e)),provide:e=>dj.from(e)}),_T=vC.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:vT('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:vT('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error:before":{content:vT('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),OT=Cx.define({combine:e=>pw(e,{hoverTime:300})});function PT(e={}){return[OT.of(e),kT,$T,_T,CT]}const ET=[rP(),aP(),XC(),h_(),SP(),TC(),WC(),fw.allowMultipleSelections.of(!0),TO(),GM.fallback,jP(),BE(),Zj(),hM(),pM(),r_(),wA(),_C.of([...WE,...TE,...ZA,...A_,...vP,...iM,...Xj,...lT])];class AT{constructor(e,t,n,r,o,i,s,a,l,c=0,u){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=o,this.score=i,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let r=e.parser.context;return new AT(e,[],t,n,n,0,[],0,r?new jT(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,n=65535&e,{parser:r}=this.p,o=r.dynamicPrecedence(n);if(o&&(this.score+=o),0==t)return this.pushState(r.getGoto(this.state,n,!0),this.reducePos),n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),void this.reduceContext(n,this.reducePos);let i=this.stack.length-3*(t-1)-(262144&e?6:0),s=this.stack[i-2],a=this.stack[i-1],l=this.bufferBase+this.buffer.length-a;if(n<r.minRepeatTerm||131072&e){let e=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,s,e,l+4,!0)}if(262144&e)this.state=this.stack[i];else{let e=this.stack[i-3];this.state=r.getGoto(e,n,!0)}for(;this.stack.length>i;)this.stack.pop();this.reduceContext(n,s)}storeNode(e,t,n,r=4,o=!1){if(0==e){let e=this,r=this.buffer.length;if(0==r&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&0==e.buffer[r-4]&&e.buffer[r-1]>-1){if(t==n)return;if(e.buffer[r-2]>=t)return void(e.buffer[r-2]=n)}}if(o&&this.pos!=n){let o=this.buffer.length;if(o>0&&0!=this.buffer[o-4])for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=n,this.buffer[o+3]=r}else this.buffer.push(e,t,n,r)}shift(e,t,n){let r=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let o=e,{parser:i}=this.p;(n>this.pos||t<=i.maxNode)&&(this.pos=n,i.stateFlag(o,1)||(this.reducePos=n)),this.pushState(o,r),this.shiftContext(t,r),t<=i.maxNode&&this.buffer.push(t,r,n,4)}else this.pos=n,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,n,4)}apply(e,t,n){65536&e?this.reduce(e):this.shift(e,t,n)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new AT(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new TT(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&n))return!0;if(0==n)return!1;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let r,o=0;o<t.length;o+=2)(r=t[o+1])!=this.state&&this.p.parser.hasAction(r,e)&&n.push(t[o],r);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let r=t[e+1];n.some(((e,t)=>1&t&&e==r))||n.push(t[e],r)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let r=t[e+1];if(r==this.state)continue;let o=this.split();o.storeNode(0,o.pos,o.pos,4,!0),o.pushState(r,this.pos),o.shiftContext(t[e],this.pos),o.score-=200,n.push(o)}return n}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let n=e>>19,r=65535&e,o=this.stack.length-3*n;if(o<0||t.getGoto(this.stack[o],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new jT(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class jT{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var MT;!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(MT||(MT={}));class TT{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class IT{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new IT(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new IT(this.stack,this.pos,this.index)}}class zT{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const NT=new zT;class RT{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=NT,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,o=this.pos+e;for(;o<n.from;){if(!r)return null;let e=this.ranges[--r];o-=n.from-e.to,n=e}for(;t<0?o>n.to:o>=n.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];o+=e.from-n.to,n=e}return o}peek(e){let t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(e,1);if(null==r)return-1;if(t=r,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,r=this.range;for(;r.to<=t;)r=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=NT,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}}class DT{constructor(e,t){this.data=e,this.id=t}token(e,t){!function(e,t,n,r){let o=0,i=1<<r,{parser:s}=n.p,{dialect:a}=s;e:for(;0!=(i&e[o]);){let n=e[o+1];for(let r=o+3;r<n;r+=2)if((e[r+1]&i)>0){let n=e[r];if(a.allows(n)&&(-1==t.token.value||t.token.value==n||s.overrides(n,t.token.value))){t.acceptToken(n);break}}for(let r=t.next,i=0,s=e[o+2];i<s;){let a=i+s>>1,l=n+a+(a<<1),c=e[l],u=e[l+1];if(r<c)s=a;else{if(!(r>=u)){o=e[l+2],t.advance();continue e}i=a+1}}break}}(this.data,e,t,this.id)}}function LT(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let r=0,o=0;r<e.length;){let i=0;for(;;){let t=e.charCodeAt(r++),n=!1;if(126==t){i=65535;break}t>=92&&t--,t>=34&&t--;let o=t-32;if(o>=46&&(o-=46,n=!0),i+=o,n)break;i*=46}n?n[o++]=i:n=new t(i)}return n}DT.prototype.contextual=DT.prototype.fallback=DT.prototype.extend=!1;const BT="undefined"!=typeof process&&/\bparse\b/.test(process.env.LOG);let FT=null;var qT,VT;function HT(e,t,n){let r=e.fullCursor();for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(qT||(qT={}));class WT{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?HT(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?HT(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],r=this.index[t];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=n.children[r],i=this.start[t]+n.positions[r];if(i>e)return this.nextStart=i,null;if(o instanceof B_){if(i==e){if(i<this.safeFrom)return null;let e=i+o.length;if(e<=this.safeTo){let t=o.prop(I_.lookAhead);if(!t||e+t<this.fragment.to)return o}}this.index[t]++,i+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(i),this.index.push(0))}else this.index[t]++,this.nextStart=i+o.length}}}class UT{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new zT))}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:o}=r,i=r.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0;for(let r=0;r<o.length;r++){if(0==(1<<r&i))continue;let l=o[r],c=this.tokens[r];if((!n||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=i||c.context!=s)&&(this.updateCachedToken(c,l,e),c.mask=i,c.context=s),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let r=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(n=c,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),n||e.pos!=this.stream.end||(n=new zT,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new zT,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){if(t.token(this.stream.reset(n.pos,e),n),e.value>-1){let{parser:t}=n.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let o=t.specializers[r](this.stream.read(e.start,e.end),n);if(o>=0&&n.p.parser.dialect.allows(o>>1)){0==(1&o)?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=Math.min(n.p.stream.end,n.pos+1)}putAction(e,t,n,r){for(let t=0;t<r;t+=3)if(this.actions[t]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:o}=e,{parser:i}=e.p,{data:s}=i;for(let e=0;e<2;e++)for(let a=i.stateSlot(o,e?2:1);;a+=3){if(65535==s[a]){if(1!=s[a+1]){0==r&&2==s[a+1]&&(r=this.putAction(YT(s,a+2),t,n,r));break}a=YT(s,a+2)}s[a]==t&&(r=this.putAction(YT(s,a+1),t,n,r))}return r}}!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}(VT||(VT={}));class JT{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new RT(t,r),this.tokens=new UT(e,this.stream),this.topTerm=e.top[1];let{from:o}=r[0];this.stacks=[AT.start(this,e.top[0],o)],this.fragments=n.length&&this.stream.end-o>4*e.bufferLength?new WT(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,r=this.minStackPos,o=this.stacks=[];for(let i=0;i<n.length;i++){let s=n[i];for(;;){if(this.tokens.mainToken=null,s.pos>r)o.push(s);else{if(this.advanceStack(s,o,n))continue;{e||(e=[],t=[]),e.push(s);let n=this.tokens.getMainToken(s);t.push(n.value,n.end)}}break}}if(!o.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw BT&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,o);if(n)return this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(o.length>e)for(o.sort(((e,t)=>t.score-e.score));o.length>e;)o.pop();o.some((e=>e.reducePos>r))&&this.recovering--}else if(o.length>1)e:for(let e=0;e<o.length-1;e++){let t=o[e];for(let n=e+1;n<o.length;n++){let r=o[n];if(t.sameState(r)||t.buffer.length>500&&r.buffer.length>500){if(!((t.score-r.score||t.buffer.length-r.buffer.length)>0)){o.splice(e--,1);continue e}o.splice(n--,1)}}}this.minStackPos=o[0].pos;for(let e=1;e<o.length;e++)o[e].pos<this.minStackPos&&(this.minStackPos=o[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let r=e.pos,{parser:o}=this,i=BT?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let s=this.fragments.nodeAt(r);s;){let r=this.parser.nodeSet.types[s.type.id]==s.type?o.getGoto(e.state,s.type.id):-1;if(r>-1&&s.length&&(!t||(s.prop(I_.contextHash)||0)==n))return e.useNode(s,r),BT&&console.log(i+this.stackID(e)+` (via reuse of ${o.getName(s.type.id)})`),!0;if(!(s instanceof B_)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(!(a instanceof B_&&0==s.positions[0]))break;s=a}}let s=o.stateSlot(e.state,4);if(s>0)return e.reduce(s),BT&&console.log(i+this.stackID(e)+` (via always-reduce ${o.getName(65535&s)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let s=0;s<a.length;){let l=a[s++],c=a[s++],u=a[s++],h=s==a.length||!n,d=h?e:e.split();if(d.apply(l,c,u),BT&&console.log(i+this.stackID(d)+` (via ${0==(65536&l)?"shift":`reduce of ${o.getName(65535&l)}`} for ${o.getName(c)} @ ${r}${d==e?"":", split"})`),h)return!0;d.pos>r?t.push(d):n.push(d)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return KT(e,t),!0}}runRecovery(e,t,n){let r=null,o=!1;for(let i=0;i<e.length;i++){let s=e[i],a=t[i<<1],l=t[1+(i<<1)],c=BT?this.stackID(s)+" -> ":"";if(s.deadEnd){if(o)continue;if(o=!0,s.restart(),BT&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,n))continue}let u=s.split(),h=c;for(let e=0;u.forceReduce()&&e<10;e++){if(BT&&console.log(h+this.stackID(u)+" (via force-reduce)"),this.advanceFully(u,n))break;BT&&(h=this.stackID(u)+" -> ")}for(let e of s.recoverByInsert(a))BT&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),BT&&console.log(c+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),KT(s,n)):(!r||r.score<s.score)&&(r=s)}return r}stackToTree(e){return e.close(),B_.build({buffer:IT.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(FT||(FT=new WeakMap)).get(e);return t||FT.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function KT(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class GT{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}class QT extends nO{constructor(e){if(super(),this.wrappers=[],13!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (13)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map((t=>e.topRules[t][1])),r=[];for(let e=0;e<t.length;e++)r.push([]);function o(e,t,n){r[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];for(let n=1;n<t.length;){let r=t[n++];if(r>=0)o(r,e,t[n++]);else{let i=t[n+-r];for(let s=-r;s>0;s--)o(t[n++],e,i);n++}}}this.nodeSet=new R_(t.map(((t,o)=>N_.define({name:o>=this.minRepeatTerm?void 0:t,id:o,props:r[o],top:n.indexOf(o)>-1,error:0==o,skipped:e.skippedNodes&&e.skippedNodes.indexOf(o)>-1})))),this.strict=!1,this.bufferLength=j_;let i=LT(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let t=0;t<e.specialized.length;t++)this.specialized[t]=e.specialized[t].term,this.specializers[t]=e.specialized[t].get;this.states=LT(e.states,Uint32Array),this.data=LT(e.stateData),this.goto=LT(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new DT(i,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new JT(this,e,t,n);for(let o of this.wrappers)r=o(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let o=r[t+1];;){let t=r[o++],i=1&t,s=r[o++];if(i&&n)return s;for(let n=o+(t>>1);o<n;o++)if(r[o]==e)return s;if(i)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let o,i=this.stateSlot(e,r?2:1);;i+=3){if(65535==(o=n[i])){if(1!=n[i+1]){if(2==n[i+1])return YT(n,i+2);break}o=n[i=YT(n,i+2)]}if(o==t||0==o)return YT(n,i+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])return!1;n=YT(this.data,n+2)}if(t==YT(this.data,n+1))return!0}}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=YT(this.data,n+2)}if(0==(1&this.data[n+2])){let e=this.data[n+1];t.some(((t,n)=>1&n&&t==e))||t.push(this.data[n],e)}}return t}overrides(e,t){let n=ZT(this.data,this.tokenPrecTable,t);return n<0||ZT(this.data,this.tokenPrecTable,e)<n}configure(e){let t=Object.assign(Object.create(QT.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let n=e.tokenizers.find((e=>e.from==t));return n?n.to:t}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map((()=>!1));if(e)for(let r of e.split(" ")){let e=t.indexOf(r);e>=0&&(n[e]=!0)}let r=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,o=this.dialects[t[e]];65535!=(n=this.data[o++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new GT(e,n,r)}static deserialize(e){return new QT(e)}}function YT(e,t){return e[t]|e[t+1]<<16}function ZT(e,t,n){for(let r,o=t;65535!=(r=e[o]);o++)if(r==n)return o-t;return-1}const XT=QT.deserialize({version:13,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[[I_.openedBy,7,"{",12,"["],[I_.closedBy,8,"}",13,"]"]],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),eI=lO.define({parser:XT.configure({props:[_O.add({Object:MO({except:/^\s*\}/}),Array:MO({except:/^\s*\]/})}),zO.add({"Object Array":function(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}}),xM({String:KM.string,Number:KM.number,"True False":KM.bool,PropertyName:KM.propertyName,Null:KM.null,",":KM.separator,"[ ]":KM.squareBracket,"{ }":KM.brace})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function tI(){return new bO(eI)}const nI=_M.define([{tag:KM.number,color:"#ee422e"},{tag:KM.bool,color:"#ff8c00"},{tag:KM.string,color:"#008000"},{tag:KM.keyword,color:"#004ed0"}]);function rI(e,t){const n=Date.now(),r=e();return t(Date.now()-n),r}function oI(e){$(e,"svelte-r3qyo0",'.code-mode.svelte-r3qyo0.svelte-r3qyo0{flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:#fff}.code-mode.svelte-r3qyo0 .contents.svelte-r3qyo0{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0;min-height:0}.code-mode.svelte-r3qyo0 .contents.svelte-r3qyo0:not(.visible){visibility:hidden}.code-mode.svelte-r3qyo0 .contents.svelte-r3qyo0 .cm-editor{flex:1;overflow:hidden}.code-mode.svelte-r3qyo0 .contents.svelte-r3qyo0 .cm-editor .cm-scroller{font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;line-height:1.3em;color:#1a1a1a}.code-mode.svelte-r3qyo0 .contents.svelte-r3qyo0 .cm-editor .cm-gutters{background:#ebebeb}.code-mode.svelte-r3qyo0 .contents.svelte-r3qyo0 .cm-editor .cm-diagnostic{font-size:16px;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif}.code-mode.svelte-r3qyo0 .contents.svelte-r3qyo0 .cm-editor .cm-search{background:#ebebeb}.code-mode.svelte-r3qyo0 .contents.svelte-r3qyo0 .cm-editor .cm-search label,.code-mode.svelte-r3qyo0 .contents.svelte-r3qyo0 .cm-editor .cm-search input,.code-mode.svelte-r3qyo0 .contents.svelte-r3qyo0 .cm-editor .cm-search button{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:13px}.code-mode.svelte-r3qyo0 .contents .loading-space.svelte-r3qyo0{flex:1}.code-mode.svelte-r3qyo0 .contents .loading.svelte-r3qyo0{flex:2;text-align:center;color:rgb(157, 157, 157);box-sizing:border-box}')}function iI(e){let t,n;return t=new Fb({props:{readOnly:e[1],onFormat:e[15],onCompact:e[16],onSort:e[17],onTransform:e[18],onToggleSearch:e[19],onUndo:e[20],onRedo:e[21],canFormat:!e[13],canCompact:!e[13],canSort:!e[13],canTransform:!e[13],canUndo:e[8],canRedo:e[9],onRenderMenu:e[4]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.readOnly=e[1]),8192&n[0]&&(r.canFormat=!e[13]),8192&n[0]&&(r.canCompact=!e[13]),8192&n[0]&&(r.canSort=!e[13]),8192&n[0]&&(r.canTransform=!e[13]),256&n[0]&&(r.canUndo=e[8]),512&n[0]&&(r.canRedo=e[9]),16&n[0]&&(r.onRenderMenu=e[4]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function sI(t){let n;return{c(){n=E("div"),n.innerHTML='<div class="loading-space svelte-r3qyo0"></div> \n      <div class="loading svelte-r3qyo0">loading...</div>',N(n,"class","contents svelte-r3qyo0"),U(n,"visible",!0)},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}function aI(e){let t,n,r,o,i,s,a=e[12]&&lI(e),l=e[10]&&cI(e);return i=new vb({props:{validationErrors:e[7],selectError:e[24]}}),{c(){a&&a.c(),t=M(),n=E("div"),r=M(),l&&l.c(),o=M(),Le(i.$$.fragment),N(n,"class","contents svelte-r3qyo0"),U(n,"visible",!e[12])},m(c,u){a&&a.m(c,u),_(c,t,u),_(c,n,u),e[42](n),_(c,r,u),l&&l.m(c,u),_(c,o,u),Be(i,c,u),s=!0},p(e,r){e[12]?a?(a.p(e,r),4096&r[0]&&Pe(a,1)):(a=lI(e),a.c(),Pe(a,1),a.m(t.parentNode,t)):a&&(_e(),Ee(a,1,1,(()=>{a=null})),Oe()),4096&r[0]&&U(n,"visible",!e[12]),e[10]?l?(l.p(e,r),1024&r[0]&&Pe(l,1)):(l=cI(e),l.c(),Pe(l,1),l.m(o.parentNode,o)):l&&(_e(),Ee(l,1,1,(()=>{l=null})),Oe());const s={};128&r[0]&&(s.validationErrors=e[7]),i.$set(s)},i(e){s||(Pe(a),Pe(l),Pe(i.$$.fragment,e),s=!0)},o(e){Ee(a),Ee(l),Ee(i.$$.fragment,e),s=!1},d(s){a&&a.d(s),s&&O(t),s&&O(n),e[42](null),s&&O(r),l&&l.d(s),s&&O(o),Fe(i,s)}}}function lI(e){let t,n;return t=new ob({props:{icon:xy,type:"error",message:`The JSON document is larger than ${ky(10485760,1024)}, and may crash your browser when loading it in code mode. Actual size: ${ky(e[0].length,1024)}.`,actions:[{text:"Open anyway",title:"Open the document in code mode. This may freeze or crash your browser.",onClick:e[22]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:e[3]},{text:"Cancel",title:"Cancel opening this large document.",onClick:e[23]}]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.message=`The JSON document is larger than ${ky(10485760,1024)}, and may crash your browser when loading it in code mode. Actual size: ${ky(e[0].length,1024)}.`),8&n[0]&&(r.actions=[{text:"Open anyway",title:"Open the document in code mode. This may freeze or crash your browser.",onClick:e[22]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:e[3]},{text:"Cancel",title:"Cancel opening this large document.",onClick:e[23]}]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function cI(e){let t,n;return t=new ob({props:{type:"error",icon:xy,message:e[10].message,actions:e[11],onClick:e[43]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};1024&n[0]&&(r.message=e[10].message),2048&n[0]&&(r.actions=e[11]),1024&n[0]&&(r.onClick=e[43]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function uI(e){let t,n,r,o,i,s=e[2]&&iI(e);const a=[aI,sI],l=[];return r=function(e,t){return e[14]?1:0}(e),o=l[r]=a[r](e),{c(){t=E("div"),s&&s.c(),n=M(),o.c(),N(t,"class","code-mode svelte-r3qyo0")},m(o,a){_(o,t,a),s&&s.m(t,null),w(t,n),l[r].m(t,null),e[44](t),i=!0},p(e,r){e[2]?s?(s.p(e,r),4&r[0]&&Pe(s,1)):(s=iI(e),s.c(),Pe(s,1),s.m(t,n)):s&&(_e(),Ee(s,1,1,(()=>{s=null})),Oe()),o.p(e,r)},i(e){i||(Pe(s),Pe(o),i=!0)},o(e){Ee(s),Ee(o),i=!1},d(n){n&&O(t),s&&s.d(),l[r].d(),e[44](null)}}}function hI(e,t,n){let r,o,i,s,a,{readOnly:l=!1}=t,{mainMenuBar:c=!0}=t,{text:u=""}=t,{indentation:h=2}=t,{escapeUnicodeCharacters:d=!1}=t,{validator:f=null}=t,{onChange:p=null}=t,{onSwitchToTreeMode:m=(()=>{})}=t,{onError:g}=t,{onFocus:v=(()=>{})}=t,{onBlur:y=(()=>{})}=t,{onRenderMenu:b=(()=>{})}=t,{onSortModal:x}=t,{onTransformModal:w}=t;const $=He("jsoneditor:CodeMode"),k={key:"Mod-i",run:F,shift:q,preventDefault:!0},S="undefined"==typeof window;let C,_,O,P;$("isSSR:",S);let E=!1,A=[];const j=new Bx,M=new Bx;let T=d;re((async()=>{if(!S)try{_=function({target:e,initialText:t,readOnly:r,indentation:o}){$("Create CodeMirror editor",{readOnly:r,indentation:o});const i=fw.create({doc:t,extensions:[_C.of([IE,k]),hT((()=>(te.flush(),function(){if($("validate"),n(40,ie="valid"),n(10,se=null),n(7,A=[]),u.length>104857600)return[{from:0,to:0,message:"Validation turned off: the document is too large",severity:"info"}];if(0===u.length)return[];try{const e=rI((()=>JSON.parse(u)),(e=>$(`validate: parsed json in ${e} ms`)));return f?(n(7,A=rI((()=>f(e)),(e=>$(`validate: validated json in ${e} ms`)))),A.map(K)):[]}catch(e){const t=rI((()=>function(e){if(e.length>1048576)return!1;try{return JSON.parse(qt(e)),!0}catch(e){return!1}}(u)),(e=>$(`validate: checked whether repairable in ${e} ms`)));return n(10,se=cn(u,e.message||e.toString())),n(40,ie=t?"repairable":"invalid"),[G(se,t)]}}())),{delay:300}),PT(),ET,nI,vC.domEventHandlers({dblclick:J}),vC.updateListener.of((e=>{e.docChanged&&te()})),tI(),PA({top:!0}),j.of(fw.readOnly.of(r)),M.of(X(o)),vC.lineWrapping]});return _=new vC({state:i,parent:e}),_}({target:C,initialText:i?"":u,readOnly:l,indentation:h}),D()}catch(e){console.error(e)}})),oe((()=>{_&&($("Destroy CodeMirror editor"),_.destroy())}));let I=!1,z=!1;const N=Pm(),R=Pm();function D(){_&&($("focus"),_.focus())}let L=!1;function B(e){$("patch",e);const t=u,r=JSON.parse(u),o=Ct.exports.immutableJSONPatch(r,e),i=Ct.exports.revertJSONPatch(r,e);return n(0,u=JSON.stringify(o,null,h)),u!==t&&ne(u,t),{json:o,previousJson:r,undo:i,redo:e}}function F(){if($("format"),!l)try{const e=u,t=JSON.parse(u);n(0,u=JSON.stringify(t,null,h)),u!==e&&ne(u,e)}catch(e){g(e)}}function q(){if($("compact"),!l)try{const e=u,t=JSON.parse(u);n(0,u=JSON.stringify(t)),u!==e&&ne(u,e)}catch(e){g(e)}}function V(){if($("repair"),!l)try{const e=u;n(0,u=qt(u)),n(40,ie="valid"),n(10,se=void 0),u!==e&&ne(u,e)}catch(e){g(e)}}function H({id:e,selectedPath:t,onTransform:n,onClose:r}){try{const o=JSON.parse(u);L=!0,w({id:e||R,json:o,selectedPath:t,onTransform:n?e=>{n({operations:e,json:o,transformedJson:Ct.exports.immutableJSONPatch(o,e)})}:e=>{$("onTransform",e),B(e)},onClose:()=>{L=!1,D(),r&&r()}})}catch(e){g(e)}}function W(e){$("select parse error",e);const t=G(e);U(t.from,t.to),D()}function U(e,t){$("setSelection",{anchor:e,head:t}),_&&_.dispatch(_.state.update({selection:{anchor:e,head:t},scrollIntoView:!0}))}function J(e,t){if(1===t.state.selection.ranges.length){const e=t.state.selection.ranges[0],n=u.slice(e.from,e.to);if("{"===n||"["===n){const t=_t.parse(u),n=Object.keys(t.pointers).find((n=>t.pointers[n].value?.pos===e.from)),r=t.pointers[n];if(n&&r&&r.value&&r.valueEnd){$("pointer found, selecting inner contents of path:",n,r);U(r.value.pos+1,r.valueEnd.pos-1)}}}}function K(e){const{path:t,message:n,isChildError:r}=e,{line:o,column:i,from:s,to:a}=function(e,t){try{const n=_t.parse(e),r=Ct.exports.compileJSONPointer(t),o=n.pointers[r];if(o)return{path:t,line:o.key?o.key.line:o.value?o.value.line:0,column:o.key?o.key.column:o.value?o.value.column:0,from:o.key?o.key.pos:o.value?o.value.pos:0,to:o.keyEnd?o.keyEnd.pos:o.valueEnd?o.valueEnd.pos:0}}catch(e){console.error(e)}return null}(u,t);return{path:t,isChildError:r,line:o,column:i,from:s,to:a,message:n,severity:"warning",actions:[]}}function G(e,t){const{line:n,column:r,position:o,message:i}=e;return{path:null,line:n,column:r,from:o||0,to:o||0,severity:"error",message:i,actions:t&&!l?[{name:"Auto repair",apply:()=>V()}]:null}}function Q(e,t=!1){!i||t?_&&e!==O&&($("setCodeMirrorValue length=",e.length),O=e,_.dispatch({changes:{from:0,to:_.state.doc.length,insert:s.escapeValue(e)}}),ee()):$("not applying text: editor is disabled")}function Y(){$("forceUpdateText",{escapeUnicodeCharacters:d}),_&&_.dispatch({changes:{from:0,to:_.state.doc.length,insert:s.escapeValue(u)}})}function Z(){if(_&&(O=_?s.unescapeValue(_.state.doc.toString()):"",O!==u)){const e=O;$("text changed"),n(0,u=O),ee(),ne(u,e)}}function X(e){return wO.of(" ".repeat(e))}function ee(){n(8,I=y_(_.state)>0),n(9,z=b_(_.state)>0),$({canUndo:I,canRedo:z})}Cy({onMount:re,onDestroy:oe,getWindow:()=>Mv(P),hasFocus:()=>L&&document.hasFocus()||Tv(P),onFocus:v,onBlur:y});const te=Nl(Z,300);function ne(e,t){p&&p(e,t)}let ie="valid",se=null;return e.$$set=e=>{"readOnly"in e&&n(1,l=e.readOnly),"mainMenuBar"in e&&n(2,c=e.mainMenuBar),"text"in e&&n(0,u=e.text),"indentation"in e&&n(26,h=e.indentation),"escapeUnicodeCharacters"in e&&n(27,d=e.escapeUnicodeCharacters),"validator"in e&&n(28,f=e.validator),"onChange"in e&&n(29,p=e.onChange),"onSwitchToTreeMode"in e&&n(3,m=e.onSwitchToTreeMode),"onError"in e&&n(30,g=e.onError),"onFocus"in e&&n(31,v=e.onFocus),"onBlur"in e&&n(32,y=e.onBlur),"onRenderMenu"in e&&n(4,b=e.onRenderMenu),"onSortModal"in e&&n(33,x=e.onSortModal),"onTransformModal"in e&&n(34,w=e.onTransformModal)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(13,r=0===u.length),1&e.$$.dirty[0]&&n(41,o=u&&u.length>10485760),1152&e.$$.dirty[1]&&n(12,i=o&&!E),134217728&e.$$.dirty[0]&&(s=mv({escapeControlCharacters:!1,escapeUnicodeCharacters:d})),1&e.$$.dirty[0]&&Q(u),67108864&e.$$.dirty[0]&&function(e){_&&($("updateIndentation",e),_.dispatch({effects:M.reconfigure(X(e))}))}(h),2&e.$$.dirty[0]&&function(e){_&&($("updateReadOnly",e),_.dispatch({effects:j.reconfigure(fw.readOnly.of(e))}))}(l),134217728&e.$$.dirty[0]|256&e.$$.dirty[1]&&T!==d&&(n(39,T=d),Y()),268435458&e.$$.dirty[0]&&Y(),2&e.$$.dirty[0]|512&e.$$.dirty[1]&&n(11,a="repairable"!==ie||l?[]:[{icon:wy,text:"Auto repair",title:"Automatically repair JSON",onClick:V}])},[u,l,c,m,b,C,P,A,I,z,se,a,i,r,S,F,q,function(){if(!l)try{const e=JSON.parse(u);L=!0,x({id:N,json:e,selectedPath:[],onSort:async e=>{$("onSort",e),B(e)},onClose:()=>{L=!1,D()}})}catch(e){g(e)}},function(){l||H({selectedPath:[]})},function(){_&&(C&&C.querySelector(".cm-search")?YA(_):QA(_))},function(){l||_&&(f_(_),D())},function(){l||_&&(p_(_),D())},function(){n(38,E=!0),Q(u,!0)},function(){Z()},function(e){$("select validation error",e);const t=K(e);U(t.from,t.to),D()},W,h,d,f,p,g,v,y,x,w,D,B,H,E,T,ie,o,function(e){ce[e?"unshift":"push"]((()=>{C=e,n(5,C)}))},()=>W(se),function(e){ce[e?"unshift":"push"]((()=>{P=e,n(6,P)}))}]}class dI extends Ve{constructor(e){super(),qe(this,e,hI,uI,l,{readOnly:1,mainMenuBar:2,text:0,indentation:26,escapeUnicodeCharacters:27,validator:28,onChange:29,onSwitchToTreeMode:3,onError:30,onFocus:31,onBlur:32,onRenderMenu:4,onSortModal:33,onTransformModal:34,focus:35,patch:36,openTransformModal:37},oI,[-1,-1,-1])}get focus(){return this.$$.ctx[35]}get patch(){return this.$$.ctx[36]}get openTransformModal(){return this.$$.ctx[37]}}const fI=He("jsoneditor:AutoScrollHandler");function pI(e){let t,n;function r(e){return e<20?200:e<50?400:1200}function o(){if(e){const n=.05*t;e.scrollTop+=n}}function i(e){n&&e===t||(s(),fI("startAutoScroll",e),t=e,n=setInterval(o,50))}function s(){n&&(fI("stopAutoScroll"),clearInterval(n),n=void 0,t=void 0)}return fI("createAutoScrollHandler",e),{onDrag:function(t){if(e){const n=t.clientY,{top:o,bottom:a}=e.getBoundingClientRect();if(n<o){i(-r(o-n))}else if(n>a){i(r(n-a))}else s()}},onDragEnd:function(){s()}}}var mI=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;const gI=()=>{let e,t,n,r,o,i,s,a,l,c,u,h,d,f;function p(t){return t.getBoundingClientRect().top-(e.getBoundingClientRect?e.getBoundingClientRect().top:0)+n}function m(t){e.scrollTo?e.scrollTo(0,t):e.scrollTop=t}function g(e){c||(c=e),u=e-c,h=i(u,n,a,l),m(h),f=!0,u<l?requestAnimationFrame(g):function(){m(n+a),t&&s&&(t.setAttribute("tabindex","-1"),t.focus());"function"==typeof d&&d();c=!1,f=!1}()}return function(u,h={}){switch(l=h.duration||1e3,o=h.offset||0,d=h.callback,i=h.easing||mI,s=h.a11y||!1,typeof h.container){case"object":e=h.container;break;case"string":e=document.querySelector(h.container);break;default:e=window}switch(n=e.scrollY||e.pageYOffset||e.scrollTop,typeof u){case"number":t=void 0,s=!1,r=n+u;break;case"object":t=u,r=p(t);break;case"string":t=document.querySelector(u),r=p(t)}switch(a=r-n+o,typeof h.duration){case"number":l=h.duration;break;case"function":l=h.duration(a)}f?c=!1:requestAnimationFrame(g)}};function vI(e,t){const n=new Set(t),r=e.replace(/ \(copy( \d+)?\)$/,"");let o=e,i=1;for(;n.has(o);){o=`${r} (${"copy"+(i>1?" "+i:"")})`,i++}return o}function yI(e,t){const n=t-"...".length;return e.length>t?e.substr(0,n)+"...":e}function bI(e,t,n,r){const o=Mu(n),i=Ct.exports.getIn(e,o);if(Array.isArray(i)){const e=parseInt(tc(n),10);return r.map(((t,n)=>({op:"add",path:Ct.exports.compileJSONPointer(o.concat(e+n)),value:t.value})))}{const e=tc(n),i=zg(t,o),s=Dg(i,e,!0);return[...r.map((e=>{const t=vI(e.key,i);return{op:"add",path:Ct.exports.compileJSONPointer(o.concat(t)),value:e.value}})),...s.map((e=>SI(o,e)))]}}function xI(e,t,n){const r=Ct.exports.getIn(e,t);if(Array.isArray(r)){const e=r.length;return n.map(((n,r)=>({op:"add",path:Ct.exports.compileJSONPointer(t.concat(e+r)),value:n.value})))}return n.map((e=>{const n=vI(e.key,Object.keys(r));return{op:"add",path:Ct.exports.compileJSONPointer(t.concat(n)),value:e.value}}))}function wI(e,t,n,r){const o=vI(r,t.filter((e=>e!==n))),i=Dg(t,n,!1);return[{op:"move",from:Ct.exports.compileJSONPointer(e.concat(n)),path:Ct.exports.compileJSONPointer(e.concat(o))},...i.map((t=>SI(e,t)))]}function $I(e,t,n,r){if(n.type===Kg){const e=on(r),o=Mu(n.focusPath);return wI(o,zg(t,o),tc(n.focusPath),"string"==typeof e?e:r)}if(n.type===Gg||n.type===Qg&&rh(n.focusPath))try{return[{op:"replace",path:Ct.exports.compileJSONPointer(n.focusPath),value:sn(r,rn)}]}catch(e){return[{op:"replace",path:Ct.exports.compileJSONPointer(n.focusPath),value:r}]}if(n.type===Qg){const o=CI(r);return function(e,t,n,r){const o=Mu(Uc(n)),i=Ct.exports.getIn(e,o);if(Array.isArray(i)){const e=Uc(n),t=e?parseInt(tc(e),10):0;return[...kI(n),...r.map(((e,n)=>({op:"add",path:Ct.exports.compileJSONPointer(o.concat(n+t)),value:e.value})))]}{const e=tc(n),o=Mu(e),i=tc(e),s=zg(t,o),a=Dg(s,i,!1),l=new Set(n.map((e=>tc(e)))),c=s.filter((e=>!l.has(e)));return[...kI(n),...r.map((e=>{const t=vI(e.key,c);return{op:"add",path:Ct.exports.compileJSONPointer(o.concat(t)),value:e.value}})),...a.map((e=>SI(o,e)))]}}(e,t,n.paths,o)}if(n.type===Ug){const o=CI(r),i=n.focusPath,s=Mu(i),a=Ct.exports.getIn(e,s);if(Array.isArray(a)){const n=tc(i);return bI(e,t,s.concat([n+1]),o)}{const n=tc(i),r=zg(t,s);if(rh(r)||tc(r)===n)return xI(e,s,o);{const i=r.indexOf(n),a=r[i+1];return bI(e,t,s.concat([a]),o)}}}if(n.type===Jg){const o=CI(r),i=n.focusPath,s=Ct.exports.getIn(e,i);if(Array.isArray(s)){return bI(e,t,i.concat([0]),o)}{const n=zg(t,i);if(rh(n))return xI(e,i,o);{const r=Uc(n);return bI(e,t,i.concat([r]),o)}}}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(n))}function kI(e){return e.map((e=>({op:"remove",path:Ct.exports.compileJSONPointer(e)}))).reverse()}function SI(e,t){return{op:"move",from:Ct.exports.compileJSONPointer(e.concat(t)),path:Ct.exports.compileJSONPointer(e.concat(t))}}function CI(e){const t=/^\s*{/.test(e),n=/^\s*\[/.test(e),r=on(e),o=void 0!==r?r:sn(e,rn);return t&&Vt(o)||n&&Array.isArray(o)?[{key:"New item",value:o}]:Array.isArray(o)?o.map(((e,t)=>({key:"New item "+t,value:e}))):Vt(o)?Object.keys(o).map((e=>({key:e,value:o[e]}))):[{key:"New item",value:o}]}function _I(e,t,n){if(n.type===Kg){const r=Mu(n.focusPath),o=wI(r,zg(t,r),tc(n.focusPath),"");return{operations:o,newSelection:ov(e,0,o)}}if(n.type===Gg){return{operations:[{op:"replace",path:Ct.exports.compileJSONPointer(n.focusPath),value:""}],newSelection:n}}if(n.type===Qg){const r=kI(n.paths),o=tc(n.paths);if(rh(o)){return{operations:[{op:"replace",path:"",value:""}],newSelection:uv(e,t,{type:Gg,path:[]})}}const i=Mu(o),s=Ct.exports.getIn(e,i);if(Array.isArray(s)){const o=tc(Uc(n.paths));return{operations:r,newSelection:uv(e,t,0===o?{type:Jg,path:i}:{type:Ug,path:i.concat([o-1])})}}{const o=zg(t,i),s=tc(Uc(n.paths)),a=o.indexOf(s),l=o[a-1];return{operations:r,newSelection:uv(e,t,0===a?{type:Jg,path:i}:{type:Ug,path:i.concat([l])})}}}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(n))}function OI(e,t,n){const r=t,o=function(e,t){let n={};return t.forEach((t=>{const r=t.path;if(!Ct.exports.existsIn(n,r)){const t=Ct.exports.getIn(e,r);n=Ct.exports.setIn(n,r,Array.isArray(t)?[]:{},!0)}n=Ct.exports.setIn(n,TI(t),t,!0)})),n}(e,r),i=n&&n.activeItem?TI(n.activeItem):void 0,s=i&&Ct.exports.existsIn(o,i)?Ct.exports.getIn(o,i):r[0],a=r.findIndex((e=>{return n=s,(t=e).start===n.start&&t.field===n.field&&oh(t.path,n.path);var t,n}));return{items:o,itemsWithActive:o&&s&&-1!==a?Ct.exports.setIn(o,MI(s),!0):o,flatItems:r,count:r.length,activeItem:s,activeIndex:a}}function PI(e,t,n,r=1/0){const o=[],i=[];function s(e){o.length<r&&o.push(e)}if("string"==typeof e&&""!==e){!function e(t,n,a){if(Array.isArray(n)){const s=i.length;i.push(0);for(let l=0;l<n.length;l++)if(i[s]=l,e(t,n[l],a?a[l]:void 0),o.length>=r)return;i.pop()}else if(null!==n&&"object"==typeof n){const l=i.length;i.push(0);const c=a?a[at]:Object.keys(n);for(const u of c)if(i[l]=u,EI(u,t,i,lt,s),e(t,n[u],a?a[u]:void 0),o.length>=r)return;i.pop()}else EI(n,t,i,ct,s)}(e.toLowerCase(),t,n)}return o}function EI(e,t,n,r,o){const i=String(e).toLowerCase();let s=0,a=-1,l=-1;do{l=i.indexOf(t,a),-1!==l&&(a=l+t.length,o({path:n.slice(0),field:r,fieldIndex:s,start:l,end:a,active:!1}),s++)}while(-1!==l)}function AI(e,t,n,r){return e.substring(0,n)+t+e.substring(r)}function jI(e,t,n){let r=e;return gc(n,(e=>{r=AI(r,t,e.start,e.end)})),r}function MI(e){return e.path.concat(e.field,e.fieldIndex,"active")}function TI(e){return e.path.concat(e.field,e.fieldIndex)}function II(e){$(e,"svelte-46oub0",".header.svelte-46oub0.svelte-46oub0{display:flex;background:#3883fa;color:#fff}.header.svelte-46oub0 .title.svelte-46oub0{flex:1;padding:5px;vertical-align:middle}.header.svelte-46oub0 button.svelte-46oub0{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.header.svelte-46oub0 button.svelte-46oub0:hover{background:rgba(255, 255, 255, 0.1)}")}function zI(e){let t,n,r,o,i,s,a,l,c;return s=new Qy({props:{data:$y}}),{c(){t=E("div"),n=E("div"),r=j(e[0]),o=M(),i=E("button"),Le(s.$$.fragment),N(n,"class","title svelte-46oub0"),N(i,"type","button"),N(i,"class","close svelte-46oub0"),N(t,"class","header svelte-46oub0")},m(u,h){_(u,t,h),w(t,n),w(n,r),w(t,o),w(t,i),Be(s,i,null),a=!0,l||(c=I(i,"click",e[1]),l=!0)},p(e,[t]){(!a||1&t)&&B(r,e[0])},i(e){a||(Pe(s.$$.fragment,e),a=!0)},o(e){Ee(s.$$.fragment,e),a=!1},d(e){e&&O(t),Fe(s),l=!1,c()}}}function NI(e,t,n){let{title:r="Modal"}=t;const{close:o}=ae("simple-modal");return e.$$set=e=>{"title"in e&&n(0,r=e.title)},[r,o]}class RI extends Ve{constructor(e){super(),qe(this,e,NI,zI,l,{title:0},II)}}function DI(e){$(e,"svelte-6kugz3",'.jsoneditor-modal.svelte-6kugz3.svelte-6kugz3{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--itemIsActiveBG:#3883fa;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;color:#1a1a1a}.jsoneditor-modal.svelte-6kugz3 .contents.svelte-6kugz3{padding:20px;overflow:auto}.jsoneditor-modal.svelte-6kugz3 .contents .actions.svelte-6kugz3{display:flex;flex-direction:row;justify-content:flex-end;padding-top:10px}.jsoneditor-modal.svelte-6kugz3 .contents .actions button.svelte-6kugz3{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;background:#3883fa;color:#fff;padding:10px 20px;border-radius:3px}.jsoneditor-modal.svelte-6kugz3 .contents .actions button.svelte-6kugz3:hover{background:#5b99fb}.jsoneditor-modal.svelte-6kugz3 .contents .actions button.svelte-6kugz3:disabled{background:rgb(157, 157, 157)}.bg{width:100%;height:100%}.bg .window-wrap{margin:0}.bg .window{max-width:90%;margin:4rem auto 2rem auto}.bg .content{max-height:calc(100vh - 6rem)}.jsoneditor-modal.copy-paste.svelte-6kugz3 .shortcuts.svelte-6kugz3{display:flex;flex-wrap:wrap;justify-content:space-around;margin:20px 0}.jsoneditor-modal.copy-paste.svelte-6kugz3 .shortcuts .shortcut .key.svelte-6kugz3{font-size:200%;color:#3883fa}')}function LI(t){let n,r,o,i,s,a,l,c,u,h,d,f,p,m,g,v,y,b,x,$,k,S,C,P;return r=new RI({props:{title:"Copying and pasting"}}),{c(){n=E("div"),Le(r.$$.fragment),o=M(),i=E("div"),s=E("div"),s.textContent="These actions are unavailable via the menu. Please use:",a=M(),l=E("div"),c=E("div"),u=E("div"),u.textContent=`${t[1]}+C`,h=j("\n        for copy"),d=M(),f=E("div"),p=E("div"),p.textContent=`${t[1]}+X`,m=j("\n        for cut"),g=M(),v=E("div"),y=E("div"),y.textContent=`${t[1]}+V`,b=j("\n        for paste"),x=M(),$=E("div"),k=E("button"),k.textContent="Close",N(u,"class","key svelte-6kugz3"),N(c,"class","shortcut"),N(p,"class","key svelte-6kugz3"),N(f,"class","shortcut"),N(y,"class","key svelte-6kugz3"),N(v,"class","shortcut"),N(l,"class","shortcuts svelte-6kugz3"),N(k,"type","button"),N(k,"class","primary svelte-6kugz3"),N($,"class","actions svelte-6kugz3"),N(i,"class","contents svelte-6kugz3"),N(n,"class","jsoneditor-modal copy-paste svelte-6kugz3")},m(e,O){_(e,n,O),Be(r,n,null),w(n,o),w(n,i),w(i,s),w(i,a),w(i,l),w(l,c),w(c,u),w(c,h),w(l,d),w(l,f),w(f,p),w(f,m),w(l,g),w(l,v),w(v,y),w(v,b),w(i,x),w(i,$),w($,k),S=!0,C||(P=I(k,"click",t[0]),C=!0)},p:e,i(e){S||(Pe(r.$$.fragment,e),S=!0)},o(e){Ee(r.$$.fragment,e),S=!1},d(e){e&&O(n),Fe(r),C=!1,P()}}}function BI(e){const{close:t}=ae("simple-modal");return[t,Dv?"⌘":"Ctrl"]}class FI extends Ve{constructor(e){super(),qe(this,e,BI,LI,l,{},DI)}}function qI(e){$(e,"svelte-1xza2xz",'.json-repair-component.svelte-1xza2xz.svelte-1xza2xz{flex:1;display:flex;flex-direction:column}.json-repair-component.svelte-1xza2xz .menu .info.svelte-1xza2xz{padding:0 10px}.json-repair-component.svelte-1xza2xz .json-text.svelte-1xza2xz{flex:1;border:none;padding:2px;font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;color:#1a1a1a;resize:none;outline:none}')}function VI(t){let n;return{c(){n=E("div"),n.textContent="Repair invalid JSON, then click apply",N(n,"slot","left"),N(n,"class","info svelte-1xza2xz")},m(e,t){_(e,n,t)},p:e,d(e){e&&O(n)}}}function HI(e){let t,n;return t=new ob({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:e[5]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.actions=e[5]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function WI(e){let t,n;return t=new ob({props:{type:"error",icon:xy,message:`Cannot parse JSON: ${e[2].message}`,actions:e[6]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.message=`Cannot parse JSON: ${e[2].message}`),64&n&&(r.actions=e[6]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function UI(e){let t,n,r,o,i,s,a,l,c,u;n=new Nb({props:{items:e[7],$$slots:{left:[VI]},$$scope:{ctx:e}}});const h=[WI,HI],d=[];function f(e,t){return e[2]?0:1}return o=f(e),i=d[o]=h[o](e),{c(){t=E("div"),Le(n.$$.fragment),r=M(),i.c(),s=M(),a=E("textarea"),a.value=e[0],a.readOnly=e[1],N(a,"class","json-text svelte-1xza2xz"),N(a,"autocomplete","off"),N(a,"autocapitalize","off"),N(a,"spellcheck","false"),N(t,"class","json-repair-component svelte-1xza2xz")},m(i,h){_(i,t,h),Be(n,t,null),w(t,r),d[o].m(t,null),w(t,s),w(t,a),e[21](a),e[22](t),l=!0,c||(u=I(a,"input",e[8]),c=!0)},p(e,[r]){const c={};128&r&&(c.items=e[7]),536870912&r&&(c.$$scope={dirty:r,ctx:e}),n.$set(c);let u=o;o=f(e),o===u?d[o].p(e,r):(_e(),Ee(d[u],1,1,(()=>{d[u]=null})),Oe(),i=d[o],i?i.p(e,r):(i=d[o]=h[o](e),i.c()),Pe(i,1),i.m(t,s)),(!l||1&r)&&(a.value=e[0]),(!l||2&r)&&(a.readOnly=e[1])},i(e){l||(Pe(n.$$.fragment,e),Pe(i),l=!0)},o(e){Ee(n.$$.fragment,e),Ee(i),l=!1},d(r){r&&O(t),Fe(n),d[o].d(),e[21](null),e[22](null),c=!1,u()}}}function JI(e,t,n){let r,o,i,s,a,l,c,u,{text:h=""}=t,{readOnly:d=!1}=t,{onParse:f}=t,{onRepair:p}=t,{onChange:m=null}=t,{onApply:g}=t,{onCancel:v}=t,{onFocus:y}=t,{onBlur:b}=t,{onRenderMenu:x=(()=>{})}=t;const w=He("jsoneditor:JSONRepair");let $,k;function S(){g(h)}return Cy({onMount:re,onDestroy:oe,getWindow:()=>Mv($),hasFocus:()=>Tv($),onFocus:()=>{y&&y()},onBlur:()=>{b&&b()}}),e.$$set=e=>{"text"in e&&n(0,h=e.text),"readOnly"in e&&n(1,d=e.readOnly),"onParse"in e&&n(9,f=e.onParse),"onRepair"in e&&n(10,p=e.onRepair),"onChange"in e&&n(11,m=e.onChange),"onApply"in e&&n(12,g=e.onApply),"onCancel"in e&&n(13,v=e.onCancel),"onFocus"in e&&n(14,y=e.onFocus),"onBlur"in e&&n(15,b=e.onBlur),"onRenderMenu"in e&&n(16,x=e.onRenderMenu)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=function(e){try{return f(e),null}catch(t){return cn(e,t.message)}}(h)),1&e.$$.dirty&&n(19,o=function(e){try{return p(e),!0}catch(e){return!1}}(h)),4&e.$$.dirty&&w("error",r),8192&e.$$.dirty&&n(20,i=[{space:!0},{icon:$y,title:"Cancel repair",className:"cancel",onClick:v}]),1114112&e.$$.dirty&&n(7,s=x("repair",i)||i),917504&e.$$.dirty&&n(6,c=o?[a,l]:[a]),2&e.$$.dirty&&n(5,u=[{icon:ry,text:"Apply",title:"Apply fixed JSON",disabled:d,onClick:S}])},n(17,a={icon:Yv,text:"Show me",title:"Scroll to the error location",onClick:function(){k&&r&&null!=r.position&&(k.setSelectionRange(r.position,r.position),setTimeout((()=>{k.focus()})))}}),n(18,l={icon:wy,text:"Auto repair",title:"Automatically repair JSON",onClick:function(){try{n(0,h=p(h)),m&&m(h)}catch(e){}}}),[h,d,r,$,k,u,c,s,function(e){w("handleChange");const t=e.target.value;h!==t&&(n(0,h=t),m&&m(h))},f,p,m,g,v,y,b,x,a,l,o,i,function(e){ce[e?"unshift":"push"]((()=>{k=e,n(4,k)}))},function(e){ce[e?"unshift":"push"]((()=>{$=e,n(3,$)}))}]}class KI extends Ve{constructor(e){super(),qe(this,e,JI,UI,l,{text:0,readOnly:1,onParse:9,onRepair:10,onChange:11,onApply:12,onCancel:13,onFocus:14,onBlur:15,onRenderMenu:16},qI)}}function GI(e){let t,n,r;function o(t){e[9](t)}let i={onParse:e[1],onRepair:e[2],onApply:e[6],onCancel:e[7],onFocus:e[3],onBlur:e[4],onRenderMenu:e[5]};return void 0!==e[0]&&(i.text=e[0]),t=new KI({props:i}),ce.push((()=>De(t,"text",o))),{c(){Le(t.$$.fragment)},m(e,n){Be(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.onParse=e[1]),4&r&&(o.onRepair=e[2]),8&r&&(o.onFocus=e[3]),16&r&&(o.onBlur=e[4]),32&r&&(o.onRenderMenu=e[5]),!n&&1&r&&(n=!0,o.text=e[0],ve((()=>n=!1))),t.$set(o)},i(e){r||(Pe(t.$$.fragment,e),r=!0)},o(e){Ee(t.$$.fragment,e),r=!1},d(e){Fe(t,e)}}}function QI(e,t,n){let{text:r}=t,{onParse:o}=t,{onRepair:i}=t,{onApply:s}=t,{onFocus:a}=t,{onBlur:l}=t,{onRenderMenu:c}=t;const{close:u}=ae("simple-modal");return e.$$set=e=>{"text"in e&&n(0,r=e.text),"onParse"in e&&n(1,o=e.onParse),"onRepair"in e&&n(2,i=e.onRepair),"onApply"in e&&n(8,s=e.onApply),"onFocus"in e&&n(3,a=e.onFocus),"onBlur"in e&&n(4,l=e.onBlur),"onRenderMenu"in e&&n(5,c=e.onRenderMenu)},[r,o,i,a,l,c,function(e){u(),s(e)},function(){u()},s,function(e){r=e,n(0,r)}]}class YI extends Ve{constructor(e){super(),qe(this,e,QI,GI,l,{text:0,onParse:1,onRepair:2,onApply:8,onFocus:3,onBlur:4,onRenderMenu:5})}}function ZI(e){$(e,"svelte-ykfj5s",'.dropdown-button.svelte-ykfj5s.svelte-ykfj5s{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;position:relative;padding:0;display:flex}.dropdown-button.svelte-ykfj5s ul.svelte-ykfj5s{margin:0;padding:0}.dropdown-button.svelte-ykfj5s ul li.svelte-ykfj5s{margin:0;padding:0;list-style-type:none}.dropdown-button.svelte-ykfj5s button.open-dropdown.svelte-ykfj5s{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;padding:10px;background:#656565;color:#fff;border-radius:0}.dropdown-button.svelte-ykfj5s button.open-dropdown.visible.svelte-ykfj5s{background:#727272}.dropdown-button.svelte-ykfj5s button.open-dropdown.svelte-ykfj5s:hover{background:#727272}.dropdown-button.svelte-ykfj5s button.open-dropdown.svelte-ykfj5s:disabled{color:rgb(157, 157, 157);background:unset}.dropdown-button.svelte-ykfj5s .items.svelte-ykfj5s{display:none;position:absolute;top:100%;left:0;z-index:1;background:#727272;color:#fff;box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24)}.dropdown-button.svelte-ykfj5s .items.visible.svelte-ykfj5s{display:block}.dropdown-button.svelte-ykfj5s .items button.svelte-ykfj5s{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;width:100%;text-align:left;padding:10px;margin:0}.dropdown-button.svelte-ykfj5s .items button.svelte-ykfj5s:hover{background:#7f7f7f}.dropdown-button.svelte-ykfj5s .items button.svelte-ykfj5s:disabled{color:rgb(157, 157, 157);background:unset}')}function XI(e,t,n){const r=e.slice();return r[10]=t[n],r}const ez=e=>({}),tz=e=>({});function nz(e){let t,n;return t=new Qy({props:{data:e[10].icon}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.data=e[10].icon),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function rz(e){let t,n,r,o,i,s,a,l,c,u,h=e[10].text+"",d=e[10].icon&&nz(e);function f(){return e[8](e[10])}return{c(){t=E("li"),n=E("button"),d&&d.c(),r=M(),o=j(h),a=M(),N(n,"type","button"),N(n,"title",i=e[10].title),n.disabled=s=e[10].disabled,N(n,"class","svelte-ykfj5s"),N(t,"class","svelte-ykfj5s")},m(e,i){_(e,t,i),w(t,n),d&&d.m(n,null),w(n,r),w(n,o),w(t,a),l=!0,c||(u=I(n,"click",f),c=!0)},p(t,a){(e=t)[10].icon?d?(d.p(e,a),1&a&&Pe(d,1)):(d=nz(e),d.c(),Pe(d,1),d.m(n,r)):d&&(_e(),Ee(d,1,1,(()=>{d=null})),Oe()),(!l||1&a)&&h!==(h=e[10].text+"")&&B(o,h),(!l||1&a&&i!==(i=e[10].title))&&N(n,"title",i),(!l||1&a&&s!==(s=e[10].disabled))&&(n.disabled=s)},i(e){l||(Pe(d),l=!0)},o(e){Ee(d),l=!1},d(e){e&&O(t),d&&d.d(),c=!1,u()}}}function oz(e){let t,n,r,o,s,a,l,u,p,m;const g=e[7].defaultItem,v=c(g,e,e[6],tz);o=new Qy({props:{data:ty}});let y=e[0],b=[];for(let t=0;t<y.length;t+=1)b[t]=rz(XI(e,y,t));const x=e=>Ee(b[e],1,1,(()=>{b[e]=null}));return{c(){t=E("div"),v&&v.c(),n=M(),r=E("button"),Le(o.$$.fragment),s=M(),a=E("div"),l=E("ul");for(let e=0;e<b.length;e+=1)b[e].c();N(r,"type","button"),N(r,"class","open-dropdown svelte-ykfj5s"),U(r,"visible",e[3]),N(l,"class","svelte-ykfj5s"),N(a,"class","items svelte-ykfj5s"),q(a,"width",e[2]),U(a,"visible",e[3]),N(t,"class","dropdown-button svelte-ykfj5s"),N(t,"title",e[1])},m(i,c){_(i,t,c),v&&v.m(t,null),w(t,n),w(t,r),Be(o,r,null),w(t,s),w(t,a),w(a,l);for(let e=0;e<b.length;e+=1)b[e].m(l,null);u=!0,p||(m=[I(r,"click",e[4]),I(t,"click",e[5])],p=!0)},p(e,[n]){if(v&&v.p&&(!u||64&n)&&d(v,g,e,e[6],u?h(g,e[6],n,ez):f(e[6]),tz),8&n&&U(r,"visible",e[3]),1&n){let t;for(y=e[0],t=0;t<y.length;t+=1){const r=XI(e,y,t);b[t]?(b[t].p(r,n),Pe(b[t],1)):(b[t]=rz(r),b[t].c(),Pe(b[t],1),b[t].m(l,null))}for(_e(),t=y.length;t<b.length;t+=1)x(t);Oe()}(!u||4&n)&&q(a,"width",e[2]),8&n&&U(a,"visible",e[3]),(!u||2&n)&&N(t,"title",e[1])},i(e){if(!u){Pe(v,e),Pe(o.$$.fragment,e);for(let e=0;e<y.length;e+=1)Pe(b[e]);u=!0}},o(e){Ee(v,e),Ee(o.$$.fragment,e),b=b.filter(Boolean);for(let e=0;e<b.length;e+=1)Ee(b[e]);u=!1},d(e){e&&O(t),v&&v.d(e),Fe(o),P(b,e),p=!1,i(m)}}}function iz(e,t,n){let{$$slots:r={},$$scope:o}=t,{items:i=[]}=t,{title:s=null}=t,{width:a="120px"}=t,l=!1;function c(){n(3,l=!1)}function u(e){"Escape"===Lv(e)&&(e.preventDefault(),n(3,l=!1))}re((()=>{document.addEventListener("click",c),document.addEventListener("keydown",u)})),oe((()=>{document.removeEventListener("click",c),document.removeEventListener("keydown",u)}));return e.$$set=e=>{"items"in e&&n(0,i=e.items),"title"in e&&n(1,s=e.title),"width"in e&&n(2,a=e.width),"$$scope"in e&&n(6,o=e.$$scope)},[i,s,a,l,function(){const e=l;setTimeout((()=>n(3,l=!e)))},c,o,r,e=>e.onClick()]}class sz extends Ve{constructor(e){super(),qe(this,e,iz,oz,l,{items:0,title:1,width:2},ZI)}}
/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var az={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M232 120C232 106.7 242.7 96 256 96C269.3 96 280 106.7 280 120V243.2L365.3 300C376.3 307.4 379.3 322.3 371.1 333.3C364.6 344.3 349.7 347.3 338.7 339.1L242.7 275.1C236 271.5 232 264 232 255.1L232 120zM256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48C141.1 48 48 141.1 48 256z"]},lz={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"]},cz={prefix:"far",iconName:"square",icon:[448,512,[9723,9724,61590,9632],"f0c8","M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM384 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80z"]},uz={prefix:"far",iconName:"square-check",icon:[448,512,[9989,61510,9745,"check-square"],"f14a","M211.8 339.8C200.9 350.7 183.1 350.7 172.2 339.8L108.2 275.8C97.27 264.9 97.27 247.1 108.2 236.2C119.1 225.3 136.9 225.3 147.8 236.2L192 280.4L300.2 172.2C311.1 161.3 328.9 161.3 339.8 172.2C350.7 183.1 350.7 200.9 339.8 211.8L211.8 339.8zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"]};function hz(e){$(e,"svelte-113rcyb",'.jsoneditor-contextmenu.svelte-113rcyb.svelte-113rcyb{box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24);font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;background:#656565;color:#fff}.jsoneditor-contextmenu.svelte-113rcyb button.svelte-113rcyb{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0}.jsoneditor-contextmenu.svelte-113rcyb button.svelte-113rcyb:focus{background:#727272}.jsoneditor-contextmenu.svelte-113rcyb .row.svelte-113rcyb{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jsoneditor-contextmenu.svelte-113rcyb .row div.label.svelte-113rcyb{flex:1;white-space:nowrap;padding:10px;color:rgb(157, 157, 157)}.jsoneditor-contextmenu.svelte-113rcyb .row div.tip.svelte-113rcyb{flex:1;background:rgba(255, 255, 255, 0.2);color:#fff;margin:5px;padding:5px 10px;font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:center;gap:10px;border-radius:3px}.jsoneditor-contextmenu.svelte-113rcyb .row div.tip div.svelte-113rcyb{vertical-align:middle}.jsoneditor-contextmenu.svelte-113rcyb .row button.svelte-113rcyb{flex:1;white-space:nowrap;padding:10px;color:inherit}.jsoneditor-contextmenu.svelte-113rcyb .row button.svelte-113rcyb:hover{background:#727272}.jsoneditor-contextmenu.svelte-113rcyb .row button.svelte-113rcyb:disabled{color:rgb(157, 157, 157);background:unset}.jsoneditor-contextmenu.svelte-113rcyb .row button .insert.svelte-113rcyb{display:inline-block;position:relative;width:18px;height:18px;font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-weight:bold}.jsoneditor-contextmenu.svelte-113rcyb .row button .insert .quote.svelte-113rcyb,.jsoneditor-contextmenu.svelte-113rcyb .row button .insert .plus.svelte-113rcyb{position:absolute;top:-4px;left:2px;font-size:24px}.jsoneditor-contextmenu.svelte-113rcyb .column.svelte-113rcyb{flex:1;display:flex;flex-direction:column;align-items:stretch}.jsoneditor-contextmenu.svelte-113rcyb .column.svelte-113rcyb:not(:last-child){border-right:1px solid #727272}.jsoneditor-contextmenu.svelte-113rcyb .column button.svelte-113rcyb{text-align:left;min-width:130px}.jsoneditor-contextmenu.svelte-113rcyb .separator.svelte-113rcyb{width:100%;height:1px;background:#727272}')}function dz(e){let t,n,r,o,i,s,a;return n=new Qy({props:{data:gy}}),{c(){t=E("button"),Le(n.$$.fragment),r=j(" Edit value"),N(t,"type","button"),N(t,"slot","defaultItem"),N(t,"title","Edit the value (Double-click on the value)"),N(t,"data-name","edit-value"),N(t,"data-down","paste,copy,cut"),N(t,"data-left","edit-key"),t.disabled=o=!e[2],N(t,"class","svelte-113rcyb")},m(o,l){_(o,t,l),Be(n,t,null),w(t,r),i=!0,s||(a=I(t,"click",e[18]),s=!0)},p(e,n){(!i||4&n[0]&&o!==(o=!e[2]))&&(t.disabled=o)},i(e){i||(Pe(n.$$.fragment,e),i=!0)},o(e){Ee(n.$$.fragment,e),i=!1},d(e){e&&O(t),Fe(n),s=!1,a()}}}function fz(e){let t,n,r,o,i,s,a;return n=new Qy({props:{data:vy}}),{c(){t=E("button"),Le(n.$$.fragment),r=j(" Cut"),N(t,"type","button"),N(t,"slot","defaultItem"),N(t,"title","Cut selected contents, formatted with indentation (Ctrl+X)"),N(t,"data-name","cut"),N(t,"data-up","edit-key,edit-value"),N(t,"data-down","remove"),N(t,"data-right","copy"),t.disabled=o=!e[1],N(t,"class","svelte-113rcyb")},m(o,l){_(o,t,l),Be(n,t,null),w(t,r),i=!0,s||(a=I(t,"click",e[19]),s=!0)},p(e,n){(!i||2&n[0]&&o!==(o=!e[1]))&&(t.disabled=o)},i(e){i||(Pe(n.$$.fragment,e),i=!0)},o(e){Ee(n.$$.fragment,e),i=!1},d(e){e&&O(t),Fe(n),s=!1,a()}}}function pz(e){let t,n,r,o,i,s,a;return n=new Qy({props:{data:cy}}),{c(){t=E("button"),Le(n.$$.fragment),r=j(" Copy"),N(t,"type","button"),N(t,"slot","defaultItem"),N(t,"title","Copy selected contents, formatted with indentation (Ctrl+C)"),N(t,"data-name","copy"),N(t,"data-up","edit-key,edit-value"),N(t,"data-down","insert-structure"),N(t,"data-left","cut"),N(t,"data-right","paste"),t.disabled=o=!e[1],N(t,"class","svelte-113rcyb")},m(o,l){_(o,t,l),Be(n,t,null),w(t,r),i=!0,s||(a=I(t,"click",e[20]),s=!0)},p(e,n){(!i||2&n[0]&&o!==(o=!e[1]))&&(t.disabled=o)},i(e){i||(Pe(n.$$.fragment,e),i=!0)},o(e){Ee(n.$$.fragment,e),i=!1},d(e){e&&O(t),Fe(n),s=!1,a()}}}function mz(t){let n,r,o,i,s,a,l;return i=new Qy({props:{data:lz}}),{c(){n=E("div"),r=E("div"),o=E("div"),Le(i.$$.fragment),s=M(),a=E("div"),a.textContent="Tip: you can open this context menu via right-click or with Ctrl+Q",N(o,"class","svelte-113rcyb"),N(a,"class","svelte-113rcyb"),N(r,"class","tip svelte-113rcyb"),N(n,"class","row svelte-113rcyb")},m(e,t){_(e,n,t),w(n,r),w(r,o),Be(i,o,null),w(r,s),w(r,a),l=!0},p:e,i(e){l||(Pe(i.$$.fragment,e),l=!0)},o(e){Ee(i.$$.fragment,e),l=!1},d(e){e&&O(n),Fe(i)}}}function gz(e){let t,n,r,o,s,a,l,c,u,h,d,f,p,m,g,v,y,b,x,$,k,S,C,P,A,T,z,R,D,L,F,q,V,H,W,U,J,K,G,Q,Y,Z,X,ee,te,ne,re,oe,ie,se,ae,le,ce,ue,he,de,fe,pe,me,ge,ve,ye,be,xe,we,$e,ke,Se,Ce,Ae,je,Me,Te,Ie,ze,Ne,Re,De,qe,Ve,He,We,Ue,Je,Ke,Ge,Qe,Ye,Ze,Xe,et,tt,nt,rt,ot,it;o=new Qy({props:{data:gy}}),c=new sz({props:{width:"150px",items:e[8],$$slots:{defaultItem:[dz]},$$scope:{ctx:e}}}),p=new sz({props:{width:"150px",items:e[7],$$slots:{defaultItem:[fz]},$$scope:{ctx:e}}}),g=new sz({props:{width:"160px",items:e[6],$$slots:{defaultItem:[pz]},$$scope:{ctx:e}}}),b=new Qy({props:{data:my}}),z=new Qy({props:{data:$y}}),q=new Qy({props:{data:ay}}),J=new Qy({props:{data:uy}}),Z=new Qy({props:{data:Zv}}),re=new Qy({props:{data:dy}}),Ke=new Qy({props:{data:by}}),Xe=new Qy({props:{data:yy}});let st=e[0]&&mz();return{c(){t=E("div"),n=E("div"),r=E("button"),Le(o.$$.fragment),s=j(" Edit key"),l=M(),Le(c.$$.fragment),u=M(),h=E("div"),d=M(),f=E("div"),Le(p.$$.fragment),m=M(),Le(g.$$.fragment),v=M(),y=E("button"),Le(b.$$.fragment),x=j(" Paste"),k=M(),S=E("div"),C=M(),P=E("div"),A=E("div"),T=E("button"),Le(z.$$.fragment),R=j(" Remove"),L=M(),F=E("button"),Le(q.$$.fragment),V=j(" Duplicate"),W=M(),U=E("button"),Le(J.$$.fragment),K=j(" Extract"),Q=M(),Y=E("button"),Le(Z.$$.fragment),X=j(" Sort"),te=M(),ne=E("button"),Le(re.$$.fragment),oe=j(" Transform"),se=M(),ae=E("div"),le=E("div"),ce=j(e[13]),ue=j(":"),he=M(),de=E("button"),fe=E("span"),pe=E("span"),pe.textContent="+",me=j(" Structure"),ye=M(),be=E("button"),xe=E("span"),xe.textContent="{}",we=j(" Object"),Se=M(),Ce=E("button"),Ae=E("span"),Ae.textContent="[]",je=j(" Array"),Ie=M(),ze=E("button"),Ne=E("span"),Ne.innerHTML='<span class="quote svelte-113rcyb">&quot;</span>',Re=j(" Value"),Ve=M(),He=E("div"),We=M(),Ue=E("div"),Je=E("button"),Le(Ke.$$.fragment),Ge=j(" Insert before"),Ye=M(),Ze=E("button"),Le(Xe.$$.fragment),et=j(" Insert after"),nt=M(),st&&st.c(),N(r,"type","button"),N(r,"title","Edit the key (Double-click on the key)"),N(r,"data-name","edit-key"),N(r,"data-down","cut,copy,paste"),N(r,"data-right","edit-value"),r.disabled=a=!e[14],N(r,"class","svelte-113rcyb"),N(n,"class","row svelte-113rcyb"),N(h,"class","separator svelte-113rcyb"),N(y,"type","button"),N(y,"title","Paste clipboard contents (Ctrl+V)"),N(y,"data-name","paste"),N(y,"data-up","edit-value,edit-key"),N(y,"data-down","insert-structure"),N(y,"data-left","copy"),y.disabled=$=!e[3],N(y,"class","svelte-113rcyb"),N(f,"class","row svelte-113rcyb"),N(S,"class","separator svelte-113rcyb"),N(T,"type","button"),N(T,"title","Remove selected contents (Delete)"),N(T,"data-name","remove"),N(T,"data-up","cut,copy,paste"),N(T,"data-down","duplicate"),N(T,"data-right","insert-structure"),T.disabled=D=!e[1],N(T,"class","svelte-113rcyb"),N(F,"type","button"),N(F,"title","Duplicate selected contents (Ctrl+D)"),N(F,"data-name","duplicate"),N(F,"data-up","remove"),N(F,"data-down","extract"),N(F,"data-right","insert-structure"),F.disabled=H=!e[16],N(F,"class","svelte-113rcyb"),N(U,"type","button"),N(U,"title","Extract selected contents"),N(U,"data-name","extract"),N(U,"data-up","duplicate"),N(U,"data-down","sort"),N(U,"data-right","insert-object"),U.disabled=G=!e[15],N(U,"class","svelte-113rcyb"),N(Y,"type","button"),N(Y,"title","Sort array or object contents"),N(Y,"data-name","sort"),N(Y,"data-up","extract"),N(Y,"data-down","transform"),N(Y,"data-right","insert-array"),Y.disabled=ee=!e[1],N(Y,"class","svelte-113rcyb"),N(ne,"type","button"),N(ne,"title","Transform array or object contents (filter, sort, project)"),N(ne,"data-name","transform"),N(ne,"data-up","sort"),N(ne,"data-down","insert-before"),N(ne,"data-right","insert-value"),ne.disabled=ie=!e[1],N(ne,"class","svelte-113rcyb"),N(A,"class","column svelte-113rcyb"),N(le,"class","label svelte-113rcyb"),N(pe,"class","plus svelte-113rcyb"),N(fe,"class","insert svelte-113rcyb"),N(de,"type","button"),N(de,"title",ge=e[13]+" structure"),N(de,"data-name","insert-structure"),N(de,"data-up","paste,copy,cut"),N(de,"data-down","insert-object"),N(de,"data-left","duplicate"),de.disabled=ve=!e[12],N(de,"class","svelte-113rcyb"),N(xe,"class","insert svelte-113rcyb"),N(be,"type","button"),N(be,"title",$e=e[13]+" object"),N(be,"data-name","insert-object"),N(be,"data-up","insert-structure"),N(be,"data-down","insert-array"),N(be,"data-left","extract"),be.disabled=ke=!e[11],N(be,"class","svelte-113rcyb"),N(Ae,"class","insert svelte-113rcyb"),N(Ce,"type","button"),N(Ce,"title",Me=e[13]+" array"),N(Ce,"data-name","insert-array"),N(Ce,"data-up","insert-object"),N(Ce,"data-down","insert-value"),N(Ce,"data-left","sort"),Ce.disabled=Te=!e[10],N(Ce,"class","svelte-113rcyb"),N(Ne,"class","insert svelte-113rcyb"),N(ze,"type","button"),N(ze,"title",De=e[13]+" value"),N(ze,"data-name","insert-value"),N(ze,"data-up","insert-array"),N(ze,"data-down","insert-after"),N(ze,"data-left","transform"),ze.disabled=qe=!e[9],N(ze,"class","svelte-113rcyb"),N(ae,"class","column svelte-113rcyb"),N(P,"class","row svelte-113rcyb"),N(He,"class","separator svelte-113rcyb"),N(Je,"type","button"),N(Je,"title","Select area before current entry to insert or paste contents"),N(Je,"data-name","insert-before"),N(Je,"data-up","transform"),N(Je,"data-right","insert-after"),Je.disabled=Qe=!e[1]||e[4],N(Je,"class","svelte-113rcyb"),N(Ze,"type","button"),N(Ze,"title","Select area after current entry to insert or paste contents"),N(Ze,"data-name","insert-after"),N(Ze,"data-up","insert-value"),N(Ze,"data-left","insert-before"),Ze.disabled=tt=!e[1]||e[4],N(Ze,"class","svelte-113rcyb"),N(Ue,"class","row svelte-113rcyb"),N(t,"class","jsoneditor-contextmenu svelte-113rcyb")},m(i,a){_(i,t,a),w(t,n),w(n,r),Be(o,r,null),w(r,s),w(n,l),Be(c,n,null),w(t,u),w(t,h),w(t,d),w(t,f),Be(p,f,null),w(f,m),Be(g,f,null),w(f,v),w(f,y),Be(b,y,null),w(y,x),w(t,k),w(t,S),w(t,C),w(t,P),w(P,A),w(A,T),Be(z,T,null),w(T,R),w(A,L),w(A,F),Be(q,F,null),w(F,V),w(A,W),w(A,U),Be(J,U,null),w(U,K),w(A,Q),w(A,Y),Be(Z,Y,null),w(Y,X),w(A,te),w(A,ne),Be(re,ne,null),w(ne,oe),w(P,se),w(P,ae),w(ae,le),w(le,ce),w(le,ue),w(ae,he),w(ae,de),w(de,fe),w(fe,pe),w(de,me),w(ae,ye),w(ae,be),w(be,xe),w(be,we),w(ae,Se),w(ae,Ce),w(Ce,Ae),w(Ce,je),w(ae,Ie),w(ae,ze),w(ze,Ne),w(ze,Re),w(t,Ve),w(t,He),w(t,We),w(t,Ue),w(Ue,Je),Be(Ke,Je,null),w(Je,Ge),w(Ue,Ye),w(Ue,Ze),Be(Xe,Ze,null),w(Ze,et),w(t,nt),st&&st.m(t,null),e[58](t),rt=!0,ot||(it=[I(r,"click",e[17]),I(y,"click",e[21]),I(T,"click",e[22]),I(F,"click",e[23]),I(U,"click",e[24]),I(Y,"click",e[26]),I(ne,"click",e[27]),I(de,"click",e[54]),I(be,"click",e[55]),I(Ce,"click",e[56]),I(ze,"click",e[57]),I(Je,"click",e[28]),I(Ze,"click",e[29]),I(t,"keydown",e[30])],ot=!0)},p(e,n){(!rt||16384&n[0]&&a!==(a=!e[14]))&&(r.disabled=a);const o={};256&n[0]&&(o.items=e[8]),4&n[0]|1&n[2]&&(o.$$scope={dirty:n,ctx:e}),c.$set(o);const i={};128&n[0]&&(i.items=e[7]),2&n[0]|1&n[2]&&(i.$$scope={dirty:n,ctx:e}),p.$set(i);const s={};64&n[0]&&(s.items=e[6]),2&n[0]|1&n[2]&&(s.$$scope={dirty:n,ctx:e}),g.$set(s),(!rt||8&n[0]&&$!==($=!e[3]))&&(y.disabled=$),(!rt||2&n[0]&&D!==(D=!e[1]))&&(T.disabled=D),(!rt||65536&n[0]&&H!==(H=!e[16]))&&(F.disabled=H),(!rt||32768&n[0]&&G!==(G=!e[15]))&&(U.disabled=G),(!rt||2&n[0]&&ee!==(ee=!e[1]))&&(Y.disabled=ee),(!rt||2&n[0]&&ie!==(ie=!e[1]))&&(ne.disabled=ie),(!rt||8192&n[0])&&B(ce,e[13]),(!rt||8192&n[0]&&ge!==(ge=e[13]+" structure"))&&N(de,"title",ge),(!rt||4096&n[0]&&ve!==(ve=!e[12]))&&(de.disabled=ve),(!rt||8192&n[0]&&$e!==($e=e[13]+" object"))&&N(be,"title",$e),(!rt||2048&n[0]&&ke!==(ke=!e[11]))&&(be.disabled=ke),(!rt||8192&n[0]&&Me!==(Me=e[13]+" array"))&&N(Ce,"title",Me),(!rt||1024&n[0]&&Te!==(Te=!e[10]))&&(Ce.disabled=Te),(!rt||8192&n[0]&&De!==(De=e[13]+" value"))&&N(ze,"title",De),(!rt||512&n[0]&&qe!==(qe=!e[9]))&&(ze.disabled=qe),(!rt||18&n[0]&&Qe!==(Qe=!e[1]||e[4]))&&(Je.disabled=Qe),(!rt||18&n[0]&&tt!==(tt=!e[1]||e[4]))&&(Ze.disabled=tt),e[0]?st?(st.p(e,n),1&n[0]&&Pe(st,1)):(st=mz(),st.c(),Pe(st,1),st.m(t,null)):st&&(_e(),Ee(st,1,1,(()=>{st=null})),Oe())},i(e){rt||(Pe(o.$$.fragment,e),Pe(c.$$.fragment,e),Pe(p.$$.fragment,e),Pe(g.$$.fragment,e),Pe(b.$$.fragment,e),Pe(z.$$.fragment,e),Pe(q.$$.fragment,e),Pe(J.$$.fragment,e),Pe(Z.$$.fragment,e),Pe(re.$$.fragment,e),Pe(Ke.$$.fragment,e),Pe(Xe.$$.fragment,e),Pe(st),rt=!0)},o(e){Ee(o.$$.fragment,e),Ee(c.$$.fragment,e),Ee(p.$$.fragment,e),Ee(g.$$.fragment,e),Ee(b.$$.fragment,e),Ee(z.$$.fragment,e),Ee(q.$$.fragment,e),Ee(J.$$.fragment,e),Ee(Z.$$.fragment,e),Ee(re.$$.fragment,e),Ee(Ke.$$.fragment,e),Ee(Xe.$$.fragment,e),Ee(st),rt=!1},d(n){n&&O(t),Fe(o),Fe(c),Fe(p),Fe(g),Fe(b),Fe(z),Fe(q),Fe(J),Fe(Z),Fe(re),Fe(Ke),Fe(Xe),st&&st.d(),e[58](null),ot=!1,i(it)}}}function vz(e,t,n){let r,o,i,s,a,l,c,u,h,d,f,p,m,g,v,y,b,x,w,$,{json:k}=t,{state:S}=t,{selection:C}=t,{showTip:_}=t,{onCloseContextMenu:O}=t,{onEditKey:P}=t,{onEditValue:E}=t,{onToggleEnforceString:A}=t,{onCut:j}=t,{onCopy:M}=t,{onPaste:T}=t,{onRemove:I}=t,{onDuplicate:z}=t,{onExtract:N}=t,{onInsertBefore:R}=t,{onInsert:D}=t,{onConvert:L}=t,{onInsertAfter:B}=t,{onSort:F}=t,{onTransform:q}=t;function V(){O(),E()}function H(){O(),A()}function W(){O(),j(!0)}function U(){O(),j(!1)}function J(){O(),M(!0)}function K(){O(),M(!1)}function G(e){O(),a?L(e):D(e)}re((()=>{setTimeout((()=>{const e=[...$.querySelectorAll("button")].find((e=>!e.disabled));e&&e.focus()}))}));return e.$$set=e=>{"json"in e&&n(31,k=e.json),"state"in e&&n(32,S=e.state),"selection"in e&&n(33,C=e.selection),"showTip"in e&&n(0,_=e.showTip),"onCloseContextMenu"in e&&n(34,O=e.onCloseContextMenu),"onEditKey"in e&&n(35,P=e.onEditKey),"onEditValue"in e&&n(36,E=e.onEditValue),"onToggleEnforceString"in e&&n(37,A=e.onToggleEnforceString),"onCut"in e&&n(38,j=e.onCut),"onCopy"in e&&n(39,M=e.onCopy),"onPaste"in e&&n(40,T=e.onPaste),"onRemove"in e&&n(41,I=e.onRemove),"onDuplicate"in e&&n(42,z=e.onDuplicate),"onExtract"in e&&n(43,N=e.onExtract),"onInsertBefore"in e&&n(44,R=e.onInsertBefore),"onInsert"in e&&n(45,D=e.onInsert),"onConvert"in e&&n(46,L=e.onConvert),"onInsertAfter"in e&&n(47,B=e.onInsertAfter),"onSort"in e&&n(48,F=e.onSort),"onTransform"in e&&n(49,q=e.onTransform)},e.$$.update=()=>{1&e.$$.dirty[1]&&n(53,r=void 0!==k),4&e.$$.dirty[1]&&n(3,o=null!=C),8&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(4,i=o&&rh(C.focusPath)),8&e.$$.dirty[0]|5&e.$$.dirty[1]&&n(51,s=o?Ct.exports.getIn(k,C.focusPath):void 0),4194308&e.$$.dirty[1]&&n(1,a=r&&null!=C&&(C.type===Qg||C.type===Kg||C.type===Gg)),18&e.$$.dirty[0]|4194304&e.$$.dirty[1]&&n(16,l=r&&a&&!i),16&e.$$.dirty[0]|4194308&e.$$.dirty[1]&&n(15,c=r&&null!=C&&(C.type===Qg||C.type===Gg)&&!i),16&e.$$.dirty[0]|4194309&e.$$.dirty[1]&&n(14,u=r&&null!=C&&sv(C)&&!i&&!Array.isArray(Ct.exports.getIn(k,Mu(C.focusPath)))),5242884&e.$$.dirty[1]&&n(2,h=r&&null!=C&&sv(C)&&!Ht(s)),2&e.$$.dirty[0]&&n(52,d=a),2097152&e.$$.dirty[1]&&n(13,f=d?"Convert to":"Insert"),8&e.$$.dirty[0]|2097152&e.$$.dirty[1]&&n(12,p=!d&&o),8&e.$$.dirty[0]|3145732&e.$$.dirty[1]&&n(11,m=d?fv(C)&&!Vt(s):o),8&e.$$.dirty[0]|3145732&e.$$.dirty[1]&&n(10,g=d?fv(C)&&!Array.isArray(s):o),8&e.$$.dirty[0]|3145732&e.$$.dirty[1]&&n(9,v=d?fv(C)&&Ht(s):o),6&e.$$.dirty[1]&&n(50,y=null!=C&&!0===Ct.exports.getIn(S,C.focusPath.concat(ut))),4&e.$$.dirty[0]|524288&e.$$.dirty[1]&&n(8,b=[{icon:gy,text:"Edit value",title:"Edit the value (Double-click on the value)",onClick:V,disabled:!h},{icon:y?uz:cz,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:H,disabled:!h}]),2&e.$$.dirty[0]&&n(7,x=[{icon:vy,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:W,disabled:!a},{icon:vy,text:"Cut compact",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:U,disabled:!a}]),2&e.$$.dirty[0]&&n(6,w=[{icon:cy,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:J,disabled:!a},{icon:cy,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:K,disabled:!a}])},[_,a,h,o,i,$,w,x,b,v,g,m,p,f,u,c,l,function(){O(),P()},V,W,J,function(){O(),T()},function(){O(),I()},function(){O(),z()},function(){O(),N()},G,function(){O(),F()},function(){O(),q()},function(){O(),R()},function(){O(),B()},function(e){const t=Lv(e).replace(/^Command\+/,"Ctrl+");function n(e,t){const r=e.getAttribute("data-"+t);if(r){const e=r.split(",");for(const t of e){const e=$.querySelector(`button[data-name="${t}"]`);if(e&&!e.disabled)return e}for(const r of e){const e=$.querySelector(`button[data-name="${r}"]`);if(e&&e.disabled){const r=n(e,t);if(r)return r}}}}"Up"!==t&&"Down"!==t&&"Left"!==t&&"Right"!==t||(e.preventDefault(),function(e,t){const r=n(e,t);r&&r.focus()}(e.target,t.toLowerCase()))},k,S,C,O,P,E,A,j,M,T,I,z,N,R,D,L,B,F,q,y,s,d,r,()=>G("structure"),()=>G("object"),()=>G("array"),()=>G("value"),function(e){ce[e?"unshift":"push"]((()=>{$=e,n(5,$)}))}]}class yz extends Ve{constructor(e){super(),qe(this,e,vz,gz,l,{json:31,state:32,selection:33,showTip:0,onCloseContextMenu:34,onEditKey:35,onEditValue:36,onToggleEnforceString:37,onCut:38,onCopy:39,onPaste:40,onRemove:41,onDuplicate:42,onExtract:43,onInsertBefore:44,onInsert:45,onConvert:46,onInsertAfter:47,onSort:48,onTransform:49},hz,[-1,-1,-1])}}var bz={exports:{}};
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)){if(o.length){var s=n.apply(null,o);s&&e.push(s)}}else if("object"===i)if(o.toString===Object.prototype.toString)for(var a in o)t.call(o,a)&&o[a]&&e.push(a);else e.push(o.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(bz);var xz=bz.exports;function wz(e){$(e,"svelte-ihw18v",'div.collapsed-items.svelte-ihw18v.svelte-ihw18v{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;color:rgb(157, 157, 157);padding:5px;border:8px solid transparent;border-width:8px 0;background-color:#f5f5f5;background-color:hsla(0deg, 0%, 0%, 0);background-image:linear-gradient(#f5f5f5, #f5f5f5), linear-gradient(to bottom right, transparent 50.5%, #f5f5f5 50.5%), linear-gradient(to bottom left, transparent 50.5%, #f5f5f5 50.5%), linear-gradient(to top right, transparent 50.5%, #f5f5f5 50.5%), linear-gradient(to top left, transparent 50.5%, #f5f5f5 50.5%);background-repeat:repeat, repeat-x, repeat-x, repeat-x, repeat-x;background-position:0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;background-size:auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;background-clip:padding-box, border-box, border-box, border-box, border-box;background-origin:padding-box, border-box, border-box, border-box, border-box;display:flex}div.collapsed-items.svelte-ihw18v div.text.svelte-ihw18v,div.collapsed-items.svelte-ihw18v button.expand-items.svelte-ihw18v{margin:0 5px}div.collapsed-items.svelte-ihw18v div.text.svelte-ihw18v{display:inline}div.collapsed-items.svelte-ihw18v button.expand-items.svelte-ihw18v{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;color:rgb(157, 157, 157);background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.collapsed-items.svelte-ihw18v button.expand-items.svelte-ihw18v:hover,div.collapsed-items.svelte-ihw18v button.expand-items.svelte-ihw18v:focus{color:#ee5341}')}function $z(e,t,n){const r=e.slice();return r[13]=t[n],r}function kz(e){let t,n,r,o,i,s,a,l,c=e[13].start+"",u=e[13].end+"";function h(){return e[12](e[13])}return{c(){t=E("button"),n=j("show "),r=j(c),o=j("-"),i=j(u),s=M(),N(t,"type","button"),N(t,"class","expand-items svelte-ihw18v")},m(e,c){_(e,t,c),w(t,n),w(t,r),w(t,o),w(t,i),w(t,s),a||(l=I(t,"click",h),a=!0)},p(t,n){e=t,16&n&&c!==(c=e[13].start+"")&&B(r,c),16&n&&u!==(u=e[13].end+"")&&B(i,u)},d(e){e&&O(t),a=!1,l()}}}function Sz(t){let n,r,o,i,s,a,l,c,u,h,d,f=t[4],p=[];for(let e=0;e<f.length;e+=1)p[e]=kz($z(t,f,e));return{c(){n=E("div"),r=E("div"),o=E("div"),i=j("Items "),s=j(t[3]),a=j("-"),l=j(t[2]),c=M();for(let e=0;e<p.length;e+=1)p[e].c();N(o,"class","text svelte-ihw18v"),N(n,"class","collapsed-items svelte-ihw18v"),N(n,"style",u=t[6](t[0].length+2)),U(n,"selected",t[5])},m(e,t){_(e,n,t),w(n,r),w(r,o),w(o,i),w(o,s),w(o,a),w(o,l),w(r,c);for(let e=0;e<p.length;e+=1)p[e].m(r,null);h||(d=I(n,"mousemove",Cz),h=!0)},p(e,[t]){if(8&t&&B(s,e[3]),4&t&&B(l,e[2]),19&t){let n;for(f=e[4],n=0;n<f.length;n+=1){const o=$z(e,f,n);p[n]?p[n].p(o,t):(p[n]=kz(o),p[n].c(),p[n].m(r,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=f.length}1&t&&u!==(u=e[6](e[0].length+2))&&N(n,"style",u),32&t&&U(n,"selected",e[5])},i:e,o:e,d(e){e&&O(n),P(p,e),h=!1,d()}}}function Cz(e){e.stopPropagation()}function _z(e,t,n){let r,o,i,s,a,{visibleSections:l}=t,{sectionIndex:c}=t,{total:u}=t,{path:h}=t,{selection:d}=t,{onExpandSection:f}=t;return e.$$set=e=>{"visibleSections"in e&&n(7,l=e.visibleSections),"sectionIndex"in e&&n(8,c=e.sectionIndex),"total"in e&&n(9,u=e.total),"path"in e&&n(0,h=e.path),"selection"in e&&n(10,d=e.selection),"onExpandSection"in e&&n(1,f=e.onExpandSection)},e.$$.update=()=>{384&e.$$.dirty&&n(11,r=l[c]),2048&e.$$.dirty&&n(3,o=r.end),896&e.$$.dirty&&n(2,i=l[c+1]?l[c+1].start:u),1033&e.$$.dirty&&n(5,s=!(!d||!d.pathsMap)&&!0===d.pathsMap[Ct.exports.compileJSONPointer(h.concat(o))]),12&e.$$.dirty&&n(4,a=function(e,t){const n={start:e,end:Math.min(_g(e),t)},r=Math.max(Og((e+t)/2),e),o={start:r,end:Math.min(_g(r),t)},i=Og(t),s=i===t?i-100:i,a={start:Math.max(s,e),end:t},l=[n],c=o.start>=n.end&&o.end<=a.start;return c&&l.push(o),a.start>=(c?o.end:n.end)&&l.push(a),l}(o,i))},[h,f,i,o,a,s,function(e){return`margin-left: ${18*e}px`},l,c,u,d,r,e=>f(h,e)]}class Oz extends Ve{constructor(e){super(),qe(this,e,_z,Sz,l,{visibleSections:7,sectionIndex:8,total:9,path:0,selection:10,onExpandSection:1},wz)}}function Pz(e){$(e,"svelte-13cs6ha",".context-menu-button.svelte-13cs6ha{position:absolute;top:-9px;right:-9px;width:18px;height:18px;padding:0;margin:0;z-index:2;cursor:pointer;background:transparent;font-size:14px;line-height:18px;background:#656565;color:#fff;border:none;border-radius:2px;box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24)}.context-menu-button.svelte-13cs6ha:hover{background:#7f7f7f;color:#fff}")}function Ez(e){let t,n,r,o,i;return n=new Qy({props:{data:ty}}),{c(){t=E("button"),Le(n.$$.fragment),N(t,"type","button"),N(t,"class","context-menu-button svelte-13cs6ha"),N(t,"title",yt),U(t,"selected",e[0])},m(s,a){_(s,t,a),Be(n,t,null),r=!0,o||(i=I(t,"click",e[1]),o=!0)},p(e,[n]){1&n&&U(t,"selected",e[0])},i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){e&&O(t),Fe(n),o=!1,i()}}}function Az(e,t,n){let{selected:r}=t,{onContextMenu:o}=t;return e.$$set=e=>{"selected"in e&&n(0,r=e.selected),"onContextMenu"in e&&n(2,o=e.onContextMenu)},[r,function(e){let t=e.target;for(;t&&"BUTTON"!==t.nodeName;)t=t.parentNode;t&&o({anchor:t,width:260,height:336,offsetTop:2,showTip:!0})},o]}class jz extends Ve{constructor(e){super(),qe(this,e,Az,Ez,l,{selected:0,onContextMenu:2},Pz)}}function Mz(e){$(e,"svelte-1bxxu61",".jse-highlight.svelte-1bxxu61{background-color:#ffe665;outline:1px solid #ffde32}.jse-highlight.jse-active.svelte-1bxxu61{background-color:#ffd700;outline:1px solid #ccac00}")}function Tz(e,t,n){const r=e.slice();return r[3]=t[n],r}function Iz(e){let t,n,r=_v(e[3].text)+"";return{c(){t=E("span"),n=j(r),N(t,"class","jse-highlight svelte-1bxxu61"),U(t,"jse-active",e[3].active)},m(e,r){_(e,t,r),w(t,n)},p(e,o){1&o&&r!==(r=_v(e[3].text)+"")&&B(n,r),1&o&&U(t,"jse-active",e[3].active)},d(e){e&&O(t)}}}function zz(e){let t,n=e[3].text+"";return{c(){t=j(n)},m(e,n){_(e,t,n)},p(e,r){1&r&&n!==(n=e[3].text+"")&&B(t,n)},d(e){e&&O(t)}}}function Nz(e){let t;function n(e,t){return"normal"===e[3].type?zz:Iz}let r=n(e),o=r(e);return{c(){o.c(),t=T()},m(e,n){o.m(e,n),_(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&O(t)}}}function Rz(t){let n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=Nz(Tz(t,r,e));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=T()},m(e,t){for(let n=0;n<o.length;n+=1)o[n].m(e,t);_(e,n,t)},p(e,[t]){if(1&t){let i;for(r=e[0],i=0;i<r.length;i+=1){const s=Tz(e,r,i);o[i]?o[i].p(s,t):(o[i]=Nz(s),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(e){P(o,e),e&&O(n)}}}function Dz(e,t,n){let r,{text:o}=t,{searchResult:i}=t;return e.$$set=e=>{"text"in e&&n(1,o=e.text),"searchResult"in e&&n(2,i=e.searchResult)},e.$$.update=()=>{6&e.$$.dirty&&n(0,r=function(e,t){const n=[];let r=0;for(const o of t){const t=e.slice(r,o.start);""!==t&&n.push({type:"normal",text:t,active:!1});const i=e.slice(o.start,o.end);n.push({type:"highlight",text:i,active:o.active}),r=o.end}const o=tc(t);return o.end<e.length&&n.push({type:"normal",text:e.slice(o.end),active:!1}),n}(String(o),i))},[r,o,i]}class Lz extends Ve{constructor(e){super(),qe(this,e,Dz,Rz,a,{text:1,searchResult:2},Mz)}}function Bz(e){$(e,"svelte-5kp4rs",".value.string.svelte-5kp4rs{color:#008000}.value.object.svelte-5kp4rs,.value.array.svelte-5kp4rs{min-width:16px;color:rgba(0, 0, 0, 0.38)}.value.number.svelte-5kp4rs{color:#ee422e}.value.boolean.svelte-5kp4rs{color:#ff8c00}.value.null.svelte-5kp4rs{color:#004ed0}.value.invalid.svelte-5kp4rs{color:#1a1a1a}.value.url.svelte-5kp4rs{color:#008000;text-decoration:underline}div.jse-editable-div.svelte-5kp4rs{line-height:18px;min-width:16px;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.shortText.svelte-5kp4rs{overflow-wrap:normal}div.jse-editable-div[contenteditable=true].svelte-5kp4rs{outline:2px solid #656565;background:#fff !important;position:relative;border-radius:0;z-index:3}div.jse-editable-div.empty.svelte-5kp4rs:not(:focus){outline:1px dotted rgba(0, 0, 0, 0.25);-moz-outline-radius:2px}div.jse-editable-div.empty.svelte-5kp4rs::after{pointer-events:none;color:rgba(0, 0, 0, 0.25)}")}function Fz(t){let n,r,o,s;return{c(){n=E("div"),N(n,"class",r=p(xz("jse-editable-div",t[2],{shortText:t[0]}))+" svelte-5kp4rs"),N(n,"contenteditable","true"),N(n,"spellcheck","false")},m(e,r){_(e,n,r),t[13](n),o||(s=[I(n,"input",t[3]),I(n,"keydown",t[4]),I(n,"paste",t[5]),I(n,"blur",t[6])],o=!0)},p(e,[t]){5&t&&r!==(r=p(xz("jse-editable-div",e[2],{shortText:e[0]}))+" svelte-5kp4rs")&&N(n,"class",r)},i:e,o:e,d(e){e&&O(n),t[13](null),o=!1,i(s)}}}function qz(e,t,n){const r=He("jsoneditor:EditableDiv");let o,{value:i}=t,{shortText:s=!1}=t,{onChange:a}=t,{onCancel:l}=t,{onFind:c}=t,{onPaste:u=_r}=t,{onValueClass:h=(()=>"")}=t,d=h(i),f=!1;function p(){return function(e){return e.replace(/\n$/,"")}(o.innerText)}function m(e){n(1,o.innerText=_v(e),o)}return re((()=>{r("onMount",{value:i}),m(i),setTimeout((()=>jv(o)))})),oe((()=>{const e=p();r("onDestroy",{closed:f,value:i,newValue:e}),f||e===i||a(e,bt)})),e.$$set=e=>{"value"in e&&n(7,i=e.value),"shortText"in e&&n(0,s=e.shortText),"onChange"in e&&n(8,a=e.onChange),"onCancel"in e&&n(9,l=e.onCancel),"onFind"in e&&n(10,c=e.onFind),"onPaste"in e&&n(11,u=e.onPaste),"onValueClass"in e&&n(12,h=e.onValueClass)},[s,o,d,function(){const e=p();""===e&&m(""),n(2,d=h(e))},function(e){e.stopPropagation();const t=Lv(e).replace(/^Command\+/,"Ctrl+");if("Escape"===t&&(f=!0,l()),"Enter"===t||"Tab"===t){f=!0;const e=p();a(e,wt)}"Ctrl+F"===t&&(e.preventDefault(),c(!1)),"Ctrl+H"===t&&(e.preventDefault(),c(!0))},function(e){if(!u)return;const t=e.clipboardData.getData("text/plain");u(t)},function(){const e=document.hasFocus(),t=p();r("handleBlur",{hasFocus:e,closed:f,value:i,newValue:t}),document.hasFocus()&&!f&&(f=!0,t!==i?a(t,xt):l())},i,a,l,c,u,h,function(e){ce[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class Vz extends Ve{constructor(e){super(),qe(this,e,qz,Fz,l,{value:7,shortText:0,onChange:8,onCancel:9,onFind:10,onPaste:11,onValueClass:12},Bz)}}function Hz(e){$(e,"svelte-18cl6xb",'.key.svelte-18cl6xb{display:inline-block;line-height:18px;min-width:16px;min-height:18px;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.key.svelte-18cl6xb:hover{background:rgba(0, 0, 0, 0.06)}.key.svelte-18cl6xb:hover{background:rgba(0, 0, 0, 0.06)}.key.empty.svelte-18cl6xb{min-width:3em;outline:1px dotted rgba(0, 0, 0, 0.25);-moz-outline-radius:2px}.key.empty.svelte-18cl6xb::after{pointer-events:none;color:rgba(0, 0, 0, 0.25);content:"key"}')}function Wz(e){let t,n,r,o,i,s,a;const l=[Kz,Jz],c=[];function u(e,t){return e[1]?0:1}return n=u(e),r=c[n]=l[n](e),{c(){t=E("div"),r.c(),N(t,"data-type","selectable-key"),N(t,"class",o=p(e[5](e[0]))+" svelte-18cl6xb")},m(r,o){_(r,t,o),c[n].m(t,null),i=!0,s||(a=I(t,"dblclick",e[4]),s=!0)},p(e,s){let a=n;n=u(e),n===a?c[n].p(e,s):(_e(),Ee(c[a],1,1,(()=>{c[a]=null})),Oe(),r=c[n],r?r.p(e,s):(r=c[n]=l[n](e),r.c()),Pe(r,1),r.m(t,null)),(!i||1&s&&o!==(o=p(e[5](e[0]))+" svelte-18cl6xb"))&&N(t,"class",o)},i(e){i||(Pe(r),i=!0)},o(e){Ee(r),i=!1},d(e){e&&O(t),c[n].d(),s=!1,a()}}}function Uz(e){let t,n;return t=new Vz({props:{value:e[2].normalization.escapeValue(e[0]),shortText:!0,onChange:e[6],onCancel:e[7],onFind:e[2].onFind}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.value=e[2].normalization.escapeValue(e[0])),4&n&&(r.onFind=e[2].onFind),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Jz(t){let n,r=_v(t[2].normalization.escapeValue(t[0]))+"";return{c(){n=j(r)},m(e,t){_(e,n,t)},p(e,t){5&t&&r!==(r=_v(e[2].normalization.escapeValue(e[0]))+"")&&B(n,r)},i:e,o:e,d(e){e&&O(n)}}}function Kz(e){let t,n;return t=new Lz({props:{text:e[2].normalization.escapeValue(e[0]),searchResult:e[1]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.text=e[2].normalization.escapeValue(e[0])),2&n&&(r.searchResult=e[1]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function Gz(e){let t,n,r,o;const i=[Uz,Wz],s=[];function a(e,t){return e[3]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=T()},m(e,n){s[t].m(e,n),_(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?s[t].p(e,o):(_e(),Ee(s[l],1,1,(()=>{s[l]=null})),Oe(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),Pe(n,1),n.m(r.parentNode,r))},i(e){o||(Pe(n),o=!0)},o(e){Ee(n),o=!1},d(e){s[t].d(e),e&&O(r)}}}function Qz(e,t,n){let r,o,{path:i}=t,{key:s}=t,{onUpdateKey:a}=t,{selection:l}=t,{searchResult:c}=t,{context:u}=t;return e.$$set=e=>{"path"in e&&n(8,i=e.path),"key"in e&&n(0,s=e.key),"onUpdateKey"in e&&n(9,a=e.onUpdateKey),"selection"in e&&n(10,l=e.selection),"searchResult"in e&&n(1,c=e.searchResult),"context"in e&&n(2,u=e.context)},e.$$.update=()=>{1024&e.$$.dirty&&n(11,r=l&&l.type===Kg),3076&e.$$.dirty&&n(3,o=!u.readOnly&&r&&l&&!0===l.edit)},[s,c,u,o,function(e){o||u.readOnly||(e.preventDefault(),u.onSelect({type:Kg,path:i,edit:!0}))},function(e){return xz("key",{empty:""===e})},function(e,t){const n=a(s,u.normalization.unescapeValue(e)),r=Mu(i).concat(n);t===wt&&u.onSelect({type:Kg,path:r,next:!0}),t===xt&&u.onSelect({type:Kg,path:r},{ensureFocus:!1})},function(){u.onSelect({type:Kg,path:i})},i,a,l,r]}class Yz extends Ve{constructor(e){super(),qe(this,e,Qz,Gz,l,{path:8,key:0,onUpdateKey:9,selection:10,searchResult:1,context:2},Hz)}}function Zz(e,t,n){const r=e.slice();return r[9]=t[n],r}function Xz(e){let t,r,o;const i=[e[9].props];var s=e[9].component;function a(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return{props:t}}return s&&(t=new s(a())),{c(){t&&Le(t.$$.fragment),r=T()},m(e,n){t&&Be(t,e,n),_(e,r,n),o=!0},p(e,n){const o=1&n?Ne(i,[Re(e[9].props)]):{};if(s!==(s=e[9].component)){if(t){_e();const e=t;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}s?(t=new s(a()),Le(t.$$.fragment),Pe(t.$$.fragment,1),Be(t,r.parentNode,r)):t=null}else s&&t.$set(o)},i(e){o||(t&&Pe(t.$$.fragment,e),o=!0)},o(e){t&&Ee(t.$$.fragment,e),o=!1},d(e){e&&O(r),t&&Fe(t,e)}}}function eN(e){let t,n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=Xz(Zz(e,r,t));const i=e=>Ee(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);_(e,t,r),n=!0},p(e,[n]){if(1&n){let s;for(r=e[0],s=0;s<r.length;s+=1){const i=Zz(e,r,s);o[s]?(o[s].p(i,n),Pe(o[s],1)):(o[s]=Xz(i),o[s].c(),Pe(o[s],1),o[s].m(t.parentNode,t))}for(_e(),s=r.length;s<o.length;s+=1)i(s);Oe()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Pe(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Ee(o[e]);n=!1},d(e){P(o,e),e&&O(t)}}}function tN(e,t,n){let r,o,i,{path:s}=t,{value:a}=t,{context:l}=t,{enforceString:c}=t,{selection:u}=t,{searchResult:h}=t;return e.$$set=e=>{"path"in e&&n(1,s=e.path),"value"in e&&n(2,a=e.value),"context"in e&&n(3,l=e.context),"enforceString"in e&&n(4,c=e.enforceString),"selection"in e&&n(5,u=e.selection),"searchResult"in e&&n(6,h=e.searchResult)},e.$$.update=()=>{34&e.$$.dirty&&n(8,r=!(!u||u.type!==Gg)&&oh(u.focusPath,s)),296&e.$$.dirty&&n(7,o=!l.readOnly&&r&&u&&!0===u.edit),510&e.$$.dirty&&n(0,i=l.onRenderValue({path:s,value:a,readOnly:l.readOnly,enforceString:c,isSelected:r,isEditing:o,normalization:l.normalization,selection:u,searchResult:h,onPatch:l.onPatch,onPasteJson:l.onPasteJson,onSelect:l.onSelect,onFind:l.onFind}))},[i,s,a,l,c,u,h,o,r]}class nN extends Ve{constructor(e){super(),qe(this,e,tN,eN,l,{path:1,value:2,context:3,enforceString:4,selection:5,searchResult:6})}}const rN={selecting:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null,dragging:!1};function oN(e){$(e,"svelte-1o7rb6q",'.jse-tooltip.svelte-1o7rb6q{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px 10px;border-radius:3px;background:#656565;color:white;white-space:nowrap;box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24)}')}function iN(t){let n,r;return{c(){n=E("div"),r=j(t[0]),N(n,"class","jse-tooltip svelte-1o7rb6q")},m(e,t){_(e,n,t),w(n,r)},p(e,[t]){1&t&&B(r,e[0])},i:e,o:e,d(e){e&&O(n)}}}function sN(e,t,n){let{text:r}=t;return e.$$set=e=>{"text"in e&&n(0,r=e.text)},[r]}class aN extends Ve{constructor(e){super(),qe(this,e,sN,iN,a,{text:0},oN)}}function lN(e,{text:t,openAbsolutePopup:n,closeAbsolutePopup:r}){function o(){n(aN,{text:t},{position:"top",width:10*t.length,offsetTop:3,anchor:e,closeOnOuterClick:!0})}function i(){r()}return e.addEventListener("mouseover",o),e.addEventListener("mouseout",i),{destroy(){e.removeEventListener("mouseover",o),e.removeEventListener("mouseout",i)}}}function cN(e){$(e,"svelte-1bqznny",'button.validation-error.svelte-1bqznny{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;color:#fdc539;padding:0 5px;height:18px;line-height:18px;font-size:16px;position:relative;top:2px}')}function uN(e){let t,n,r,o,a,l;return n=new Qy({props:{data:xy}}),{c(){t=E("button"),Le(n.$$.fragment),N(t,"type","button"),N(t,"class","validation-error svelte-1bqznny")},m(i,c){_(i,t,c),Be(n,t,null),o=!0,a||(l=[I(t,"click",(function(){s(e[0])&&e[0].apply(this,arguments)})),m(r=lN.call(null,t,{text:e[1],...e[2]}))],a=!0)},p(t,[n]){e=t,r&&s(r.update)&&2&n&&r.update.call(null,{text:e[1],...e[2]})},i(e){o||(Pe(n.$$.fragment,e),o=!0)},o(e){Ee(n.$$.fragment,e),o=!1},d(e){e&&O(t),Fe(n),a=!1,i(l)}}}function hN(e,t,n){let r;const o=ae("absolute-popup");let{validationError:i}=t,{onExpand:s}=t;return e.$$set=e=>{"validationError"in e&&n(3,i=e.validationError),"onExpand"in e&&n(0,s=e.onExpand)},e.$$.update=()=>{8&e.$$.dirty&&n(1,r=i.isChildError?"Contains invalid data":i.message)},[s,r,o,i]}class dN extends Ve{constructor(e){super(),qe(this,e,hN,uN,a,{validationError:3,onExpand:0},cN)}}function fN({fullJson:e,fullState:t,fullSelection:n,deltaY:r,items:o}){const i=r<0?function({items:e,fullSelection:t,deltaY:n}){const r=Zg(t),o=e.findIndex((e=>oh(e.path,r))),i=()=>e[s-1]?.height;let s=o,a=0;for(;void 0!==i()&&Math.abs(n)>a+i()/2;)a+=i(),s-=1;const l=e[s].path,c=s-o;return s!==o&&void 0!==e[s]?{beforePath:l,indexOffset:c}:void 0}({fullSelection:n,deltaY:r,items:o}):function({items:e,fullSelection:t,deltaY:n}){const r=Xg(t),o=e.findIndex((e=>oh(e.path,r))),i=()=>e[a+1]?.height;let s=0,a=o;for(;void 0!==i()&&Math.abs(n)>s+i()/2;)s+=i(),a+=1;const l="number"==typeof tc(r),c=e[l?a:a+1]?.path,u=a-o;return c?{beforePath:c,indexOffset:u}:{append:!0,indexOffset:u}}({fullSelection:n,deltaY:r,items:o});if(!i||0===i.indexOffset)return{operations:void 0,updatedValue:void 0,updatedState:void 0,updatedSelection:void 0,updatedFullSelection:void 0,indexOffset:0};const s=function(e,t,n,r){const{beforePath:o,append:i}=r,s=Mu(n.focusPath),a=Ct.exports.getIn(e,s);if(i||o&&lv(o,s)&&o.length>s.length){const e=n.paths?Uc(n.paths):n.focusPath,r=n.paths?tc(n.paths):n.focusPath,l=tc(e),c=tc(r),u=o?o[s.length]:void 0;if(!Vt(a)){const e=l,t=u,n=c-e+1;return Yp(n,t<e?n=>({op:"move",from:Ct.exports.compileJSONPointer(s.concat(e+n)),path:Ct.exports.compileJSONPointer(s.concat(t+n))}):()=>({op:"move",from:Ct.exports.compileJSONPointer(s.concat(e)),path:Ct.exports.compileJSONPointer(s.concat(t))}))}{const e=Ct.exports.getIn(t,s.concat(at)),n=e.indexOf(l),r=e.indexOf(c),o=i?e.length:e.indexOf(u);if(-1!==n&&-1!==r&&-1!==o)return o>n?[...e.slice(n,r+1),...e.slice(o,e.length)].map((e=>SI(s,e))):[...e.slice(o,n),...e.slice(r+1,e.length)].map((e=>SI(s,e)))}}}(e,t,n,i),a=Tg(e,t,s),l=Mu(Zg(n)),c=Ct.exports.getIn(e,l);if(Array.isArray(c)){const r=function({items:e,fullJson:t,fullState:n,fullSelection:r,indexOffset:o}){const i=Zg(r),s=Xg(r),a=e.findIndex((e=>oh(e.path,i))),l=e.findIndex((e=>oh(e.path,s))),c=e[a+o]?.path,u=e[l+o]?.path;return uv(t,n,{type:Qg,anchorPath:c,focusPath:u})}({items:o,fullJson:e,fullState:t,fullSelection:n,indexOffset:i.indexOffset}),c=dv(e,r),u=Ct.exports.getIn(c,l);return{operations:s,updatedValue:Ct.exports.getIn(a.json,l),updatedState:Ct.exports.getIn(a.state,l),updatedSelection:u,updatedFullSelection:r,indexOffset:i.indexOffset}}return{operations:s,updatedValue:Ct.exports.getIn(a.json,l),updatedState:Ct.exports.getIn(a.state,l),updatedSelection:void 0,updatedFullSelection:void 0,indexOffset:i.indexOffset}}function pN(e){$(e,"svelte-1d27oez",'.json-node.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{position:relative;font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;color:#1a1a1a}.json-node.root.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{min-height:100%;padding-bottom:2px;box-sizing:border-box}.json-node.root.svelte-1d27oez>.header-outer.svelte-1d27oez .context-menu-button,.json-node.root.svelte-1d27oez>.contents-outer.svelte-1d27oez>.contents.svelte-1d27oez .context-menu-button{top:0;right:-20px}.json-node.root.svelte-1d27oez>.contents-outer.svelte-1d27oez>.contents.svelte-1d27oez.svelte-1d27oez{padding-left:0}.json-node.hovered.svelte-1d27oez>.header-outer.svelte-1d27oez>.header.svelte-1d27oez>.meta.svelte-1d27oez,.json-node.hovered.svelte-1d27oez .props .header.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.hovered.svelte-1d27oez .items .header.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.hovered.svelte-1d27oez .props .contents.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.hovered.svelte-1d27oez .items .contents.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.hovered.svelte-1d27oez .footer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{background-color:rgba(0, 0, 0, 0.06)}.json-node.svelte-1d27oez .props.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.svelte-1d27oez .items.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{position:relative}.json-node.svelte-1d27oez .header-outer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.svelte-1d27oez .footer-outer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{display:flex}.json-node.svelte-1d27oez .header.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{position:relative}.json-node.svelte-1d27oez .header .meta.svelte-1d27oez>.meta-inner.svelte-1d27oez.svelte-1d27oez{display:flex;justify-content:center}.json-node.svelte-1d27oez .contents-outer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{display:flex}.json-node.svelte-1d27oez .header.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.svelte-1d27oez .contents.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{display:flex;flex-direction:row;line-height:18px}.json-node.svelte-1d27oez .contents.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{min-height:18px;padding-left:18px}.json-node.svelte-1d27oez .footer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{display:inline-flex;padding-left:23px}.json-node.svelte-1d27oez .insert-selection-area.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{visibility:hidden;padding:0 5px;flex:1}.json-node.svelte-1d27oez .insert-selection-area.inside.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{display:inline-flex;align-items:center}.json-node.svelte-1d27oez .insert-selection-area.after.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{display:flex;align-items:flex-end;line-height:18px}.json-node.svelte-1d27oez:hover>.contents-outer .insert-selection-area.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez:not(.selected),.json-node.svelte-1d27oez .header-outer.svelte-1d27oez:hover>.insert-selection-area.svelte-1d27oez.svelte-1d27oez:not(.selected),.json-node.svelte-1d27oez .footer-outer:hover .insert-selection-area.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez:not(.selected){visibility:visible;z-index:1}.json-node.svelte-1d27oez .context-menu-button-anchor.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{position:relative}.json-node.svelte-1d27oez .insert-area.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{display:flex;position:relative;max-width:250px;min-width:100px;height:0;margin-right:5px;outline:1px solid}.json-node.svelte-1d27oez .insert-area.svelte-1d27oez .context-menu-button{right:-1px;background:#d3d3d3}.json-node.svelte-1d27oez .insert-area.hovered.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{outline-color:rgba(0, 0, 0, 0.06)}.json-node.selected.svelte-1d27oez .header.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected.svelte-1d27oez .contents.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected.svelte-1d27oez .meta.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected.svelte-1d27oez .expand.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected.svelte-1d27oez .footer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected.svelte-1d27oez .key,.json-node.selected.svelte-1d27oez .value{background-color:#d3d3d3 !important;cursor:grab}.json-node.selected.svelte-1d27oez .expand.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{cursor:pointer}.json-node.selected-key.svelte-1d27oez>.contents-outer.svelte-1d27oez>.contents.svelte-1d27oez>.identifier>.key,.json-node.selected-key.svelte-1d27oez>.header-outer.svelte-1d27oez>.header.svelte-1d27oez>.identifier>.key{background-color:#d3d3d3;cursor:grab}.json-node.selected-value.svelte-1d27oez>.contents-outer.svelte-1d27oez>.contents.svelte-1d27oez>.value{background-color:#d3d3d3;cursor:grab}.json-node.svelte-1d27oez .collapsed-items.selected,.json-node.selected.svelte-1d27oez .collapsed-items,.json-node.selected-value.svelte-1d27oez .collapsed-items{background-color:#d3d3d3;cursor:grab;background-image:linear-gradient(#c6c6c6, #c6c6c6), linear-gradient(to bottom right, transparent 50.5%, #c6c6c6 50.5%), linear-gradient(to bottom left, transparent 50.5%, #c6c6c6 50.5%), linear-gradient(to top right, transparent 50.5%, #c6c6c6 50.5%), linear-gradient(to top left, transparent 50.5%, #c6c6c6 50.5%)}.json-node.selected-value.svelte-1d27oez .meta.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected-value.svelte-1d27oez>.footer-outer.svelte-1d27oez>.footer.svelte-1d27oez.svelte-1d27oez,.json-node.selected-value.svelte-1d27oez .props .contents.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected-value.svelte-1d27oez .props .header.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected-value.svelte-1d27oez .props .footer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected-value.svelte-1d27oez .props .expand.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected-value.svelte-1d27oez .items .contents.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected-value.svelte-1d27oez .items .header.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected-value.svelte-1d27oez .items .footer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.json-node.selected-value.svelte-1d27oez .items .expand.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{background-color:#d3d3d3 !important}.json-node.selected-value.svelte-1d27oez .meta.svelte-1d27oez .key,.json-node.selected-value.svelte-1d27oez .meta.svelte-1d27oez .value,.json-node.selected-value.svelte-1d27oez>.footer-outer.svelte-1d27oez>.footer.svelte-1d27oez .key,.json-node.selected-value.svelte-1d27oez>.footer-outer.svelte-1d27oez>.footer.svelte-1d27oez .value,.json-node.selected-value.svelte-1d27oez .props .contents.svelte-1d27oez .key,.json-node.selected-value.svelte-1d27oez .props .contents.svelte-1d27oez .value,.json-node.selected-value.svelte-1d27oez .props .header.svelte-1d27oez .key,.json-node.selected-value.svelte-1d27oez .props .header.svelte-1d27oez .value,.json-node.selected-value.svelte-1d27oez .props .footer.svelte-1d27oez .key,.json-node.selected-value.svelte-1d27oez .props .footer.svelte-1d27oez .value,.json-node.selected-value.svelte-1d27oez .props .expand.svelte-1d27oez .key,.json-node.selected-value.svelte-1d27oez .props .expand.svelte-1d27oez .value,.json-node.selected-value.svelte-1d27oez .items .contents.svelte-1d27oez .key,.json-node.selected-value.svelte-1d27oez .items .contents.svelte-1d27oez .value,.json-node.selected-value.svelte-1d27oez .items .header.svelte-1d27oez .key,.json-node.selected-value.svelte-1d27oez .items .header.svelte-1d27oez .value,.json-node.selected-value.svelte-1d27oez .items .footer.svelte-1d27oez .key,.json-node.selected-value.svelte-1d27oez .items .footer.svelte-1d27oez .value,.json-node.selected-value.svelte-1d27oez .items .expand.svelte-1d27oez .key,.json-node.selected-value.svelte-1d27oez .items .expand.svelte-1d27oez .value{background-color:#d3d3d3 !important;cursor:grab}.json-node.svelte-1d27oez .insert-area.selected.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{z-index:2;outline-color:#656565}.json-node.svelte-1d27oez .insert-area.selected.svelte-1d27oez .context-menu-button{background:#656565}.json-node.svelte-1d27oez .context-menu-button-anchor.svelte-1d27oez .context-menu-button{background:#656565}.jsoneditor-main:not(.focus) .json-node.selected.svelte-1d27oez .header.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected.svelte-1d27oez .contents.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected.svelte-1d27oez .meta.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected.svelte-1d27oez .expand.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected.svelte-1d27oez .footer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected.svelte-1d27oez .value{background-color:#ededed !important;cursor:grab}.jsoneditor-main:not(.focus) .json-node.selected.svelte-1d27oez .expand.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{cursor:pointer}.jsoneditor-main:not(.focus) .json-node.selected-key.svelte-1d27oez>.contents-outer.svelte-1d27oez>.contents.svelte-1d27oez>.identifier>.key,.jsoneditor-main:not(.focus) .json-node.selected-key.svelte-1d27oez>.header-outer.svelte-1d27oez>.header.svelte-1d27oez>.identifier>.key{background-color:#ededed;cursor:grab}.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez>.contents-outer.svelte-1d27oez>.contents.svelte-1d27oez>.value{background-color:#ededed;cursor:grab}.jsoneditor-main:not(.focus) .json-node.svelte-1d27oez .collapsed-items.selected,.jsoneditor-main:not(.focus) .json-node.selected.svelte-1d27oez .collapsed-items,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .collapsed-items{background-color:#ededed;cursor:grab;background-image:linear-gradient(#e0e0e0, #e0e0e0), linear-gradient(to bottom right, transparent 50.5%, #e0e0e0 50.5%), linear-gradient(to bottom left, transparent 50.5%, #e0e0e0 50.5%), linear-gradient(to top right, transparent 50.5%, #e0e0e0 50.5%), linear-gradient(to top left, transparent 50.5%, #e0e0e0 50.5%)}.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .meta.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez>.footer-outer.svelte-1d27oez>.footer.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .contents.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .header.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .footer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .expand.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .contents.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .header.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .footer.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .expand.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{background-color:#ededed !important}.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .meta.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .meta.svelte-1d27oez .value,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez>.footer-outer.svelte-1d27oez>.footer.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez>.footer-outer.svelte-1d27oez>.footer.svelte-1d27oez .value,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .contents.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .contents.svelte-1d27oez .value,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .header.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .header.svelte-1d27oez .value,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .footer.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .footer.svelte-1d27oez .value,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .expand.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .props .expand.svelte-1d27oez .value,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .contents.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .contents.svelte-1d27oez .value,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .header.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .header.svelte-1d27oez .value,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .footer.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .footer.svelte-1d27oez .value,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .expand.svelte-1d27oez .key,.jsoneditor-main:not(.focus) .json-node.selected-value.svelte-1d27oez .items .expand.svelte-1d27oez .value{background-color:#ededed !important;cursor:grab}.jsoneditor-main:not(.focus) .json-node.svelte-1d27oez .insert-area.selected.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{z-index:2;outline-color:#d3d3d3}.jsoneditor-main:not(.focus) .json-node.svelte-1d27oez .insert-area.selected.svelte-1d27oez .context-menu-button{background:#d3d3d3}.jsoneditor-main:not(.focus) .json-node.svelte-1d27oez .context-menu-button-anchor.svelte-1d27oez .context-menu-button{background:#d3d3d3}.expand.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{width:18px;height:18px;padding:1px 0 0;margin:0;border:none;cursor:pointer;background:transparent;color:rgba(0, 0, 0, 0.38);font-size:14px;line-height:18px}.expand.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez:hover{color:rgba(26, 26, 26, 0.38)}.meta.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.separator.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.index.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez,.bracket.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{vertical-align:top;color:rgba(0, 0, 0, 0.38)}.index.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{padding:0 5px}.bracket.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{padding:0 2px}.bracket.expanded.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{padding-right:10px}.tag.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{border:none;font-size:11px;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;color:#fff;background:rgba(0, 0, 0, 0.25);border-radius:2px;cursor:pointer;position:relative;display:inline-block;padding:0 4px 1px;margin:0 2px;top:1px;height:16px;line-height:14px}.tag.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez:hover{background:rgba(38, 38, 38, 0.25)}.tag.readonly.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{color:rgba(0, 0, 0, 0.25);background:rgba(0, 0, 0, 0.06);cursor:inherit}.identifier.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez.svelte-1d27oez{vertical-align:top;position:relative}.bubble.dark{background:#656565 !important;color:#fff;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif !important;font-size:16px !important}')}const mN=e=>({}),gN=e=>({});function vN(e,t,n){const r=e.slice();return r[58]=t[n],r}const yN=e=>({}),bN=e=>({});function xN(e,t,n){const r=e.slice();return r[52]=t[n],r[54]=n,r}function wN(e,t,n){const r=e.slice();return r[55]=t[n],r[57]=n,r}const $N=e=>({}),kN=e=>({});function SN(e){let t,n,r,o,i,s,a,l,u,p=!e[4].readOnly&&e[7]&&(e[7].type===Gg||e[7].type===Qg)&&!e[7].edit&&oh(e[7].focusPath,e[1]);const m=e[40].identifier,g=c(m,e,e[41],gN);let v=!e[10]&&ON();i=new nN({props:{path:e[1],value:e[0],enforceString:e[5]?e[5][ut]:void 0,selection:e[7],searchResult:e[2]?e[2][ct]:void 0,context:e[4]}});let y=p&&PN(e),b=e[15]&&EN(e),x=!e[10]&&AN(e);return{c(){t=E("div"),n=E("div"),g&&g.c(),r=M(),v&&v.c(),o=M(),Le(i.$$.fragment),s=M(),y&&y.c(),a=M(),b&&b.c(),l=M(),x&&x.c(),N(n,"class","contents svelte-1d27oez"),N(t,"class","contents-outer svelte-1d27oez"),N(t,"style",e[13])},m(e,c){_(e,t,c),w(t,n),g&&g.m(n,null),w(n,r),v&&v.m(n,null),w(n,o),Be(i,n,null),w(n,s),y&&y.m(n,null),w(t,a),b&&b.m(t,null),w(t,l),x&&x.m(t,null),u=!0},p(e,r){g&&g.p&&(!u||1024&r[1])&&d(g,m,e,e[41],u?h(m,e[41],r,mN):f(e[41]),gN),e[10]?v&&(v.d(1),v=null):v||(v=ON(),v.c(),v.m(n,o));const s={};2&r[0]&&(s.path=e[1]),1&r[0]&&(s.value=e[0]),32&r[0]&&(s.enforceString=e[5]?e[5][ut]:void 0),128&r[0]&&(s.selection=e[7]),4&r[0]&&(s.searchResult=e[2]?e[2][ct]:void 0),16&r[0]&&(s.context=e[4]),i.$set(s),146&r[0]&&(p=!e[4].readOnly&&e[7]&&(e[7].type===Gg||e[7].type===Qg)&&!e[7].edit&&oh(e[7].focusPath,e[1])),p?y?(y.p(e,r),146&r[0]&&Pe(y,1)):(y=PN(e),y.c(),Pe(y,1),y.m(n,null)):y&&(_e(),Ee(y,1,1,(()=>{y=null})),Oe()),e[15]?b?(b.p(e,r),32768&r[0]&&Pe(b,1)):(b=EN(e),b.c(),Pe(b,1),b.m(t,l)):b&&(_e(),Ee(b,1,1,(()=>{b=null})),Oe()),e[10]?x&&(x.d(1),x=null):x?x.p(e,r):(x=AN(e),x.c(),x.m(t,null)),(!u||8192&r[0])&&N(t,"style",e[13])},i(e){u||(Pe(g,e),Pe(i.$$.fragment,e),Pe(y),Pe(b),u=!0)},o(e){Ee(g,e),Ee(i.$$.fragment,e),Ee(y),Ee(b),u=!1},d(e){e&&O(t),g&&g.d(e),v&&v.d(),Fe(i),y&&y.d(),b&&b.d(),x&&x.d()}}}function CN(e){let t,n,r,o,i,s,a,l,u,p,m,g,v,y,b,x,$,k,S=!e[4].readOnly&&e[7]&&(e[7].type===Gg||e[7].type===Qg)&&!e[7].edit&&oh(e[7].focusPath,e[1]);const C=[MN,jN],P=[];function A(e,t){return e[12]?0:1}o=A(e),i=P[o]=C[o](e);const j=e[40].identifier,z=c(j,e,e[41],bN);let R=!e[10]&&TN();function D(e,t){return e[12]?zN:IN}let L=D(e),B=L(e),F=S&&NN(e),q=e[15]&&(!e[12]||!e[15].isChildError)&&RN(e);function V(e,t){return e[12]?LN:e[10]?void 0:DN}let H=V(e),W=H&&H(e),U=e[12]&&BN(e);return{c(){t=E("div"),n=E("div"),r=E("button"),i.c(),s=M(),z&&z.c(),a=M(),R&&R.c(),l=M(),u=E("div"),p=E("div"),B.c(),m=M(),F&&F.c(),g=M(),q&&q.c(),v=M(),W&&W.c(),y=M(),U&&U.c(),b=T(),N(r,"type","button"),N(r,"class","expand svelte-1d27oez"),N(r,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),N(p,"class","meta-inner svelte-1d27oez"),N(u,"class","meta svelte-1d27oez"),N(u,"data-type","selectable-value"),N(n,"class","header svelte-1d27oez"),N(t,"class","header-outer svelte-1d27oez"),N(t,"style",e[13])},m(i,c){_(i,t,c),w(t,n),w(n,r),P[o].m(r,null),w(n,s),z&&z.m(n,null),w(n,a),R&&R.m(n,null),w(n,l),w(n,u),w(u,p),B.m(p,null),w(n,m),F&&F.m(n,null),w(t,g),q&&q.m(t,null),w(t,v),W&&W.m(t,null),_(i,y,c),U&&U.m(i,c),_(i,b,c),x=!0,$||(k=I(r,"click",e[24]),$=!0)},p(e,s){let a=o;o=A(e),o===a?P[o].p(e,s):(_e(),Ee(P[a],1,1,(()=>{P[a]=null})),Oe(),i=P[o],i?i.p(e,s):(i=P[o]=C[o](e),i.c()),Pe(i,1),i.m(r,null)),z&&z.p&&(!x||1024&s[1])&&d(z,j,e,e[41],x?h(j,e[41],s,yN):f(e[41]),bN),e[10]?R&&(R.d(1),R=null):R||(R=TN(),R.c(),R.m(n,l)),L===(L=D(e))&&B?B.p(e,s):(B.d(1),B=L(e),B&&(B.c(),B.m(p,null))),146&s[0]&&(S=!e[4].readOnly&&e[7]&&(e[7].type===Gg||e[7].type===Qg)&&!e[7].edit&&oh(e[7].focusPath,e[1])),S?F?(F.p(e,s),146&s[0]&&Pe(F,1)):(F=NN(e),F.c(),Pe(F,1),F.m(n,null)):F&&(_e(),Ee(F,1,1,(()=>{F=null})),Oe()),!e[15]||e[12]&&e[15].isChildError?q&&(_e(),Ee(q,1,1,(()=>{q=null})),Oe()):q?(q.p(e,s),36864&s[0]&&Pe(q,1)):(q=RN(e),q.c(),Pe(q,1),q.m(t,v)),H===(H=V(e))&&W?W.p(e,s):(W&&W.d(1),W=H&&H(e),W&&(W.c(),W.m(t,null))),(!x||8192&s[0])&&N(t,"style",e[13]),e[12]?U?(U.p(e,s),4096&s[0]&&Pe(U,1)):(U=BN(e),U.c(),Pe(U,1),U.m(b.parentNode,b)):U&&(_e(),Ee(U,1,1,(()=>{U=null})),Oe())},i(e){x||(Pe(i),Pe(z,e),Pe(F),Pe(q),Pe(U),x=!0)},o(e){Ee(i),Ee(z,e),Ee(F),Ee(q),Ee(U),x=!1},d(e){e&&O(t),P[o].d(),z&&z.d(e),R&&R.d(),B.d(),F&&F.d(),q&&q.d(),W&&W.d(),e&&O(y),U&&U.d(e),e&&O(b),$=!1,k()}}}function _N(e){let t,n,r,o,i,s,a,l,u,p,m,g,v,y,b,x,$,k,S=!e[4].readOnly&&e[7]&&(e[7].type===Gg||e[7].type===Qg)&&!e[7].edit&&oh(e[7].focusPath,e[1]);const C=[JN,UN],P=[];function A(e,t){return e[12]?0:1}o=A(e),i=P[o]=C[o](e);const j=e[40].identifier,z=c(j,e,e[41],kN);let R=!e[10]&&KN();function D(e,t){return e[12]?QN:GN}let L=D(e),B=L(e),F=S&&YN(e),q=e[15]&&(!e[12]||!e[15].isChildError)&&ZN(e);function V(e,t){return e[12]?eR:XN}let H=V(e),W=H(e),U=e[12]&&tR(e);return{c(){t=E("div"),n=E("div"),r=E("button"),i.c(),s=M(),z&&z.c(),a=M(),R&&R.c(),l=M(),u=E("div"),p=E("div"),B.c(),m=M(),F&&F.c(),g=M(),q&&q.c(),v=M(),W.c(),y=M(),U&&U.c(),b=T(),N(r,"type","button"),N(r,"class","expand svelte-1d27oez"),N(r,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),N(p,"class","meta-inner svelte-1d27oez"),N(p,"data-type","selectable-value"),N(u,"class","meta svelte-1d27oez"),N(n,"class","header svelte-1d27oez"),N(t,"class","header-outer svelte-1d27oez"),N(t,"style",e[13])},m(i,c){_(i,t,c),w(t,n),w(n,r),P[o].m(r,null),w(n,s),z&&z.m(n,null),w(n,a),R&&R.m(n,null),w(n,l),w(n,u),w(u,p),B.m(p,null),w(n,m),F&&F.m(n,null),w(t,g),q&&q.m(t,null),w(t,v),W.m(t,null),_(i,y,c),U&&U.m(i,c),_(i,b,c),x=!0,$||(k=I(r,"click",e[24]),$=!0)},p(e,s){let a=o;o=A(e),o===a?P[o].p(e,s):(_e(),Ee(P[a],1,1,(()=>{P[a]=null})),Oe(),i=P[o],i?i.p(e,s):(i=P[o]=C[o](e),i.c()),Pe(i,1),i.m(r,null)),z&&z.p&&(!x||1024&s[1])&&d(z,j,e,e[41],x?h(j,e[41],s,$N):f(e[41]),kN),e[10]?R&&(R.d(1),R=null):R||(R=KN(),R.c(),R.m(n,l)),L===(L=D(e))&&B?B.p(e,s):(B.d(1),B=L(e),B&&(B.c(),B.m(p,null))),146&s[0]&&(S=!e[4].readOnly&&e[7]&&(e[7].type===Gg||e[7].type===Qg)&&!e[7].edit&&oh(e[7].focusPath,e[1])),S?F?(F.p(e,s),146&s[0]&&Pe(F,1)):(F=YN(e),F.c(),Pe(F,1),F.m(n,null)):F&&(_e(),Ee(F,1,1,(()=>{F=null})),Oe()),!e[15]||e[12]&&e[15].isChildError?q&&(_e(),Ee(q,1,1,(()=>{q=null})),Oe()):q?(q.p(e,s),36864&s[0]&&Pe(q,1)):(q=ZN(e),q.c(),Pe(q,1),q.m(t,v)),H===(H=V(e))&&W?W.p(e,s):(W.d(1),W=H(e),W&&(W.c(),W.m(t,null))),(!x||8192&s[0])&&N(t,"style",e[13]),e[12]?U?(U.p(e,s),4096&s[0]&&Pe(U,1)):(U=tR(e),U.c(),Pe(U,1),U.m(b.parentNode,b)):U&&(_e(),Ee(U,1,1,(()=>{U=null})),Oe())},i(e){x||(Pe(i),Pe(z,e),Pe(F),Pe(q),Pe(U),x=!0)},o(e){Ee(i),Ee(z,e),Ee(F),Ee(q),Ee(U),x=!1},d(e){e&&O(t),P[o].d(),z&&z.d(e),R&&R.d(),B.d(),F&&F.d(),q&&q.d(),W.d(),e&&O(y),U&&U.d(e),e&&O(b),$=!1,k()}}}function ON(e){let t;return{c(){t=E("div"),t.textContent=":",N(t,"class","separator svelte-1d27oez")},m(e,n){_(e,t,n)},d(e){e&&O(t)}}}function PN(e){let t,n,r;return n=new jz({props:{selected:!0,onContextMenu:e[4].onContextMenu}}),{c(){t=E("div"),Le(n.$$.fragment),N(t,"class","context-menu-button-anchor svelte-1d27oez")},m(e,o){_(e,t,o),Be(n,t,null),r=!0},p(e,t){const r={};16&t[0]&&(r.onContextMenu=e[4].onContextMenu),n.$set(r)},i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){e&&O(t),Fe(n)}}}function EN(e){let t,n;return t=new dN({props:{validationError:e[15],onExpand:e[25]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};32768&n[0]&&(r.validationError=e[15]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function AN(t){let n,r,o;return{c(){n=E("div"),N(n,"class","insert-selection-area after svelte-1d27oez"),N(n,"data-type","insert-selection-area-after")},m(e,i){_(e,n,i),r||(o=I(n,"click",t[33]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function jN(t){let n,r;return n=new Qy({props:{data:ny}}),{c(){Le(n.$$.fragment)},m(e,t){Be(n,e,t),r=!0},p:e,i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){Fe(n,e)}}}function MN(t){let n,r;return n=new Qy({props:{data:ty}}),{c(){Le(n.$$.fragment)},m(e,t){Be(n,e,t),r=!0},p:e,i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){Fe(n,e)}}}function TN(e){let t;return{c(){t=E("div"),t.textContent=":",N(t,"class","separator svelte-1d27oez")},m(e,n){_(e,t,n)},d(e){e&&O(t)}}}function IN(e){let t,n,r,o,i,s,a,l,c,u,h=Object.keys(e[6]).length+"",d=1===Object.keys(e[6]).length?"prop":"props";return{c(){t=E("div"),t.textContent="{",n=M(),r=E("button"),o=j(h),i=M(),s=j(d),a=M(),l=E("div"),l.textContent="}",N(t,"class","bracket svelte-1d27oez"),N(r,"type","button"),N(r,"class","tag svelte-1d27oez"),N(l,"class","bracket svelte-1d27oez")},m(h,d){_(h,t,d),_(h,n,d),_(h,r,d),w(r,o),w(r,i),w(r,s),_(h,a,d),_(h,l,d),c||(u=I(r,"click",e[25]),c=!0)},p(e,t){64&t[0]&&h!==(h=Object.keys(e[6]).length+"")&&B(o,h),64&t[0]&&d!==(d=1===Object.keys(e[6]).length?"prop":"props")&&B(s,d)},d(e){e&&O(t),e&&O(n),e&&O(r),e&&O(a),e&&O(l),c=!1,u()}}}function zN(t){let n;return{c(){n=E("div"),n.textContent="{",N(n,"class","bracket expanded svelte-1d27oez")},m(e,t){_(e,n,t)},p:e,d(e){e&&O(n)}}}function NN(e){let t,n,r;return n=new jz({props:{selected:!0,onContextMenu:e[4].onContextMenu}}),{c(){t=E("div"),Le(n.$$.fragment),N(t,"class","context-menu-button-anchor svelte-1d27oez")},m(e,o){_(e,t,o),Be(n,t,null),r=!0},p(e,t){const r={};16&t[0]&&(r.onContextMenu=e[4].onContextMenu),n.$set(r)},i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){e&&O(t),Fe(n)}}}function RN(e){let t,n;return t=new dN({props:{validationError:e[15],onExpand:e[25]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};32768&n[0]&&(r.validationError=e[15]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function DN(t){let n,r,o;return{c(){n=E("div"),N(n,"class","insert-selection-area after svelte-1d27oez"),N(n,"data-type","insert-selection-area-after")},m(e,i){_(e,n,i),r||(o=I(n,"click",t[33]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function LN(t){let n,r,o;return{c(){n=E("div"),N(n,"class","insert-selection-area inside svelte-1d27oez"),N(n,"data-type","insert-selection-area-inside")},m(e,i){_(e,n,i),r||(o=I(n,"click",t[32]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function BN(e){let t,n,r,o,i,s,a,l=[],c=new Map,u=!e[4].readOnly&&("hover-insert-inside"===e[9]||e[19])&&FN(e),h=e[11];const d=e=>e[5][e[58]][ot];for(let t=0;t<h.length;t+=1){let n=vN(e,h,t),r=d(n);c.set(r,l[t]=HN(r,n))}let f=!e[10]&&WN(e);return{c(){t=E("div"),u&&u.c(),n=M();for(let e=0;e<l.length;e+=1)l[e].c();r=M(),o=E("div"),i=E("div"),i.innerHTML='<div class="bracket svelte-1d27oez">}</div>',s=M(),f&&f.c(),N(t,"class","props svelte-1d27oez"),N(i,"data-type","selectable-value"),N(i,"class","footer svelte-1d27oez"),N(o,"class","footer-outer svelte-1d27oez"),N(o,"style",e[13])},m(e,c){_(e,t,c),u&&u.m(t,null),w(t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null);_(e,r,c),_(e,o,c),w(o,i),w(o,s),f&&f.m(o,null),a=!0},p(e,r){e[4].readOnly||"hover-insert-inside"!==e[9]&&!e[19]?u&&(_e(),Ee(u,1,1,(()=>{u=null})),Oe()):u?(u.p(e,r),524816&r[0]&&Pe(u,1)):(u=FN(e),u.c(),Pe(u,1),u.m(t,n)),612370814&r[0]&&(h=e[11],_e(),l=ze(l,r,d,1,e,h,c,t,Ie,HN,null,vN),Oe()),e[10]?f&&(f.d(1),f=null):f?f.p(e,r):(f=WN(e),f.c(),f.m(o,null)),(!a||8192&r[0])&&N(o,"style",e[13])},i(e){if(!a){Pe(u);for(let e=0;e<h.length;e+=1)Pe(l[e]);a=!0}},o(e){Ee(u);for(let e=0;e<l.length;e+=1)Ee(l[e]);a=!1},d(e){e&&O(t),u&&u.d();for(let e=0;e<l.length;e+=1)l[e].d();e&&O(r),e&&O(o),f&&f.d()}}}function FN(e){let t,n,r,o;return n=new jz({props:{selected:e[19],onContextMenu:e[34]}}),{c(){t=E("div"),Le(n.$$.fragment),N(t,"class","insert-area inside svelte-1d27oez"),N(t,"data-type","insert-selection-area-inside"),N(t,"style",r=e[22](e[1].length+1)),N(t,"title",vt),U(t,"hovered","hover-insert-inside"===e[9]),U(t,"selected",e[19])},m(e,r){_(e,t,r),Be(n,t,null),o=!0},p(e,i){const s={};524288&i[0]&&(s.selected=e[19]),n.$set(s),(!o||2&i[0]&&r!==(r=e[22](e[1].length+1)))&&N(t,"style",r),512&i[0]&&U(t,"hovered","hover-insert-inside"===e[9]),524288&i[0]&&U(t,"selected",e[19])},i(e){o||(Pe(n.$$.fragment,e),o=!0)},o(e){Ee(n.$$.fragment,e),o=!1},d(e){e&&O(t),Fe(n)}}}function qN(e){let t,n;return t=new jz({props:{selected:!0,onContextMenu:e[4].onContextMenu}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.onContextMenu=e[4].onContextMenu),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function VN(e){let t,n,r,o,i,s=!e[4].readOnly&&pv(e[1],e[58],e[8]);n=new Yz({props:{path:e[23](e[1].concat(e[58])),key:e[58],context:e[4],selection:e[8]?.[e[58]]?.[ht],searchResult:e[2]?.[e[58]]?.[lt],onUpdateKey:e[26]}});let a=s&&qN(e);return{c(){t=E("div"),Le(n.$$.fragment),r=M(),a&&a.c(),o=M(),N(t,"slot","identifier"),N(t,"class","identifier svelte-1d27oez")},m(e,s){_(e,t,s),Be(n,t,null),w(t,r),a&&a.m(t,null),w(t,o),i=!0},p(e,r){const i={};2050&r[0]&&(i.path=e[23](e[1].concat(e[58]))),2048&r[0]&&(i.key=e[58]),16&r[0]&&(i.context=e[4]),2304&r[0]&&(i.selection=e[8]?.[e[58]]?.[ht]),2052&r[0]&&(i.searchResult=e[2]?.[e[58]]?.[lt]),n.$set(i),2322&r[0]&&(s=!e[4].readOnly&&pv(e[1],e[58],e[8])),s?a?(a.p(e,r),2322&r[0]&&Pe(a,1)):(a=qN(e),a.c(),Pe(a,1),a.m(t,o)):a&&(_e(),Ee(a,1,1,(()=>{a=null})),Oe())},i(e){i||(Pe(n.$$.fragment,e),Pe(a),i=!0)},o(e){Ee(n.$$.fragment,e),Ee(a),i=!1},d(e){e&&O(t),Fe(n),a&&a.d()}}}function HN(e,t){let n,r,o;return r=new hR({props:{value:t[6][t[58]],path:t[23](t[1].concat(t[58])),state:t[5][t[58]],selection:t[8]?t[8][t[58]]:void 0,searchResult:t[2]?t[2][t[58]]:void 0,validationErrors:t[3]?t[3][t[58]]:void 0,context:t[4],onDragSelectionStart:t[29],$$slots:{identifier:[VN]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=T(),Le(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Be(r,e,t),o=!0},p(e,n){t=e;const o={};2112&n[0]&&(o.value=t[6][t[58]]),2050&n[0]&&(o.path=t[23](t[1].concat(t[58]))),2080&n[0]&&(o.state=t[5][t[58]]),2304&n[0]&&(o.selection=t[8]?t[8][t[58]]:void 0),2052&n[0]&&(o.searchResult=t[2]?t[2][t[58]]:void 0),2056&n[0]&&(o.validationErrors=t[3]?t[3][t[58]]:void 0),16&n[0]&&(o.context=t[4]),2326&n[0]|1024&n[1]&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(Pe(r.$$.fragment,e),o=!0)},o(e){Ee(r.$$.fragment,e),o=!1},d(e){e&&O(n),Fe(r,e)}}}function WN(t){let n,r,o;return{c(){n=E("div"),N(n,"class","insert-selection-area after svelte-1d27oez"),N(n,"data-type","insert-selection-area-after")},m(e,i){_(e,n,i),r||(o=I(n,"click",t[33]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function UN(t){let n,r;return n=new Qy({props:{data:ny}}),{c(){Le(n.$$.fragment)},m(e,t){Be(n,e,t),r=!0},p:e,i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){Fe(n,e)}}}function JN(t){let n,r;return n=new Qy({props:{data:ty}}),{c(){Le(n.$$.fragment)},m(e,t){Be(n,e,t),r=!0},p:e,i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){Fe(n,e)}}}function KN(e){let t;return{c(){t=E("div"),t.textContent=":",N(t,"class","separator svelte-1d27oez")},m(e,n){_(e,t,n)},d(e){e&&O(t)}}}function GN(e){let t,n,r,o,i,s,a,l,c,u,h=e[6].length+"",d=1===e[6].length?"item":"items";return{c(){t=E("div"),t.textContent="[",n=M(),r=E("button"),o=j(h),i=M(),s=j(d),a=M(),l=E("div"),l.textContent="]",N(t,"class","bracket svelte-1d27oez"),N(r,"type","button"),N(r,"class","tag svelte-1d27oez"),N(l,"class","bracket svelte-1d27oez")},m(h,d){_(h,t,d),_(h,n,d),_(h,r,d),w(r,o),w(r,i),w(r,s),_(h,a,d),_(h,l,d),c||(u=I(r,"click",e[25]),c=!0)},p(e,t){64&t[0]&&h!==(h=e[6].length+"")&&B(o,h),64&t[0]&&d!==(d=1===e[6].length?"item":"items")&&B(s,d)},d(e){e&&O(t),e&&O(n),e&&O(r),e&&O(a),e&&O(l),c=!1,u()}}}function QN(e){let t,n,r,o,i,s,a=e[6].length+"",l=1===e[6].length?"item":"items";return{c(){t=E("div"),t.textContent="[",n=M(),r=E("span"),o=j(a),i=M(),s=j(l),N(t,"class","bracket svelte-1d27oez"),N(r,"class","tag readonly svelte-1d27oez")},m(e,a){_(e,t,a),_(e,n,a),_(e,r,a),w(r,o),w(r,i),w(r,s)},p(e,t){64&t[0]&&a!==(a=e[6].length+"")&&B(o,a),64&t[0]&&l!==(l=1===e[6].length?"item":"items")&&B(s,l)},d(e){e&&O(t),e&&O(n),e&&O(r)}}}function YN(e){let t,n,r;return n=new jz({props:{selected:!0,onContextMenu:e[4].onContextMenu}}),{c(){t=E("div"),Le(n.$$.fragment),N(t,"class","context-menu-button-anchor svelte-1d27oez")},m(e,o){_(e,t,o),Be(n,t,null),r=!0},p(e,t){const r={};16&t[0]&&(r.onContextMenu=e[4].onContextMenu),n.$set(r)},i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){e&&O(t),Fe(n)}}}function ZN(e){let t,n;return t=new dN({props:{validationError:e[15],onExpand:e[25]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};32768&n[0]&&(r.validationError=e[15]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function XN(t){let n,r,o;return{c(){n=E("div"),N(n,"class","insert-selection-area after svelte-1d27oez"),N(n,"data-type","insert-selection-area-after")},m(e,i){_(e,n,i),r||(o=I(n,"click",t[33]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function eR(t){let n,r,o;return{c(){n=E("div"),N(n,"class","insert-selection-area inside svelte-1d27oez"),N(n,"data-type","insert-selection-area-inside")},m(e,i){_(e,n,i),r||(o=I(n,"click",t[32]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function tR(e){let t,n,r,o,i,s,a,l=[],c=new Map,u=!e[4].readOnly&&("hover-insert-inside"===e[9]||e[19])&&nR(e),h=e[16];const d=e=>e[54];for(let t=0;t<h.length;t+=1){let n=xN(e,h,t),r=d(n);c.set(r,l[t]=sR(r,n))}let f=!e[10]&&aR(e);return{c(){t=E("div"),u&&u.c(),n=M();for(let e=0;e<l.length;e+=1)l[e].c();r=M(),o=E("div"),i=E("div"),i.innerHTML='<span class="bracket svelte-1d27oez">]</span>',s=M(),f&&f.c(),N(t,"class","items svelte-1d27oez"),N(i,"data-type","selectable-value"),N(i,"class","footer svelte-1d27oez"),N(o,"class","footer-outer svelte-1d27oez"),N(o,"style",e[13])},m(e,c){_(e,t,c),u&&u.m(t,null),w(t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null);_(e,r,c),_(e,o,c),w(o,i),w(o,s),f&&f.m(o,null),a=!0},p(e,r){e[4].readOnly||"hover-insert-inside"!==e[9]&&!e[19]?u&&(_e(),Ee(u,1,1,(()=>{u=null})),Oe()):u?(u.p(e,r),524816&r[0]&&Pe(u,1)):(u=nR(e),u.c(),Pe(u,1),u.m(t,n)),545325566&r[0]&&(h=e[16],_e(),l=ze(l,r,d,1,e,h,c,t,Ie,sR,null,xN),Oe()),e[10]?f&&(f.d(1),f=null):f?f.p(e,r):(f=aR(e),f.c(),f.m(o,null)),(!a||8192&r[0])&&N(o,"style",e[13])},i(e){if(!a){Pe(u);for(let e=0;e<h.length;e+=1)Pe(l[e]);a=!0}},o(e){Ee(u);for(let e=0;e<l.length;e+=1)Ee(l[e]);a=!1},d(e){e&&O(t),u&&u.d();for(let e=0;e<l.length;e+=1)l[e].d();e&&O(r),e&&O(o),f&&f.d()}}}function nR(e){let t,n,r,o;return n=new jz({props:{selected:e[19],onContextMenu:e[34]}}),{c(){t=E("div"),Le(n.$$.fragment),N(t,"class","insert-area inside svelte-1d27oez"),N(t,"data-type","insert-selection-area-inside"),N(t,"style",r=e[22](e[1].length+1)),N(t,"title",vt),U(t,"hovered","hover-insert-inside"===e[9]),U(t,"selected",e[19])},m(e,r){_(e,t,r),Be(n,t,null),o=!0},p(e,i){const s={};524288&i[0]&&(s.selected=e[19]),n.$set(s),(!o||2&i[0]&&r!==(r=e[22](e[1].length+1)))&&N(t,"style",r),512&i[0]&&U(t,"hovered","hover-insert-inside"===e[9]),524288&i[0]&&U(t,"selected",e[19])},i(e){o||(Pe(n.$$.fragment,e),o=!0)},o(e){Ee(n.$$.fragment,e),o=!1},d(e){e&&O(t),Fe(n)}}}function rR(e){let t,n,r,o=e[52].start+e[57]+"";return{c(){t=E("div"),n=E("div"),r=j(o),N(n,"class","index svelte-1d27oez"),N(t,"slot","identifier"),N(t,"class","identifier svelte-1d27oez")},m(e,o){_(e,t,o),w(t,n),w(n,r)},p(e,t){65600&t[0]&&o!==(o=e[52].start+e[57]+"")&&B(r,o)},d(e){e&&O(t)}}}function oR(e,t){let n,r,o;return r=new hR({props:{value:t[55],path:t[23](t[1].concat(t[52].start+t[57])),state:t[5][t[52].start+t[57]],selection:t[8]?t[8][t[52].start+t[57]]:void 0,searchResult:t[2]?t[2][t[52].start+t[57]]:void 0,validationErrors:t[3]?t[3][t[52].start+t[57]]:void 0,context:t[4],onDragSelectionStart:t[29],$$slots:{identifier:[rR]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=T(),Le(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Be(r,e,t),o=!0},p(e,n){t=e;const o={};65600&n[0]&&(o.value=t[55]),65602&n[0]&&(o.path=t[23](t[1].concat(t[52].start+t[57]))),65632&n[0]&&(o.state=t[5][t[52].start+t[57]]),65856&n[0]&&(o.selection=t[8]?t[8][t[52].start+t[57]]:void 0),65604&n[0]&&(o.searchResult=t[2]?t[2][t[52].start+t[57]]:void 0),65608&n[0]&&(o.validationErrors=t[3]?t[3][t[52].start+t[57]]:void 0),16&n[0]&&(o.context=t[4]),65600&n[0]|1024&n[1]&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(Pe(r.$$.fragment,e),o=!0)},o(e){Ee(r.$$.fragment,e),o=!1},d(e){e&&O(n),Fe(r,e)}}}function iR(e){let t,n;return t=new Oz({props:{visibleSections:e[16],sectionIndex:e[54],total:e[6].length,path:e[1],onExpandSection:e[4].onExpandSection,selection:e[7]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};65536&n[0]&&(r.visibleSections=e[16]),65536&n[0]&&(r.sectionIndex=e[54]),64&n[0]&&(r.total=e[6].length),2&n[0]&&(r.path=e[1]),16&n[0]&&(r.onExpandSection=e[4].onExpandSection),128&n[0]&&(r.selection=e[7]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function sR(e,t){let n,r,o,i,s=[],a=new Map,l=t[6].slice(t[52].start,Math.min(t[52].end,t[6].length));const c=e=>e[57];for(let e=0;e<l.length;e+=1){let n=wN(t,l,e),r=c(n);a.set(r,s[e]=oR(r,n))}let u=t[52].end<t[6].length&&iR(t);return{key:e,first:null,c(){n=T();for(let e=0;e<s.length;e+=1)s[e].c();r=M(),u&&u.c(),o=T(),this.first=n},m(e,t){_(e,n,t);for(let n=0;n<s.length;n+=1)s[n].m(e,t);_(e,r,t),u&&u.m(e,t),_(e,o,t),i=!0},p(e,n){t=e,545325438&n[0]&&(l=t[6].slice(t[52].start,Math.min(t[52].end,t[6].length)),_e(),s=ze(s,n,c,1,t,l,a,r.parentNode,Ie,oR,r,wN),Oe()),t[52].end<t[6].length?u?(u.p(t,n),65600&n[0]&&Pe(u,1)):(u=iR(t),u.c(),Pe(u,1),u.m(o.parentNode,o)):u&&(_e(),Ee(u,1,1,(()=>{u=null})),Oe())},i(e){if(!i){for(let e=0;e<l.length;e+=1)Pe(s[e]);Pe(u),i=!0}},o(e){for(let e=0;e<s.length;e+=1)Ee(s[e]);Ee(u),i=!1},d(e){e&&O(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&O(r),u&&u.d(e),e&&O(o)}}}function aR(t){let n,r,o;return{c(){n=E("div"),N(n,"class","insert-selection-area after svelte-1d27oez"),N(n,"data-type","insert-selection-area-after")},m(e,i){_(e,n,i),r||(o=I(n,"click",t[33]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function lR(e){let t,n,r;return n=new jz({props:{selected:e[20],onContextMenu:e[35]}}),{c(){t=E("div"),Le(n.$$.fragment),N(t,"class","insert-area after svelte-1d27oez"),N(t,"data-type","insert-selection-area-after"),N(t,"style",e[13]),N(t,"title",vt),U(t,"hovered","hover-insert-after"===e[9]),U(t,"selected",e[20])},m(e,o){_(e,t,o),Be(n,t,null),r=!0},p(e,o){const i={};1048576&o[0]&&(i.selected=e[20]),n.$set(i),(!r||8192&o[0])&&N(t,"style",e[13]),512&o[0]&&U(t,"hovered","hover-insert-after"===e[9]),1048576&o[0]&&U(t,"selected",e[20])},i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){e&&O(t),Fe(n)}}}function cR(e){let t,n,r,o,s,a,l,c,u;const h=[_N,CN,SN],d=[];function f(e,t){return"array"===e[14]?0:"object"===e[14]?1:2}n=f(e),r=d[n]=h[n](e);let m=!e[4].readOnly&&("hover-insert-after"===e[9]||e[20])&&lR(e);return{c(){t=E("div"),r.c(),o=M(),m&&m.c(),N(t,"class",s=p(xz("json-node",{expanded:e[12]},e[4].onClassName(e[1],e[6])))+" svelte-1d27oez"),N(t,"data-path",a=Nv(e[1])),U(t,"root",e[10]),U(t,"selected",e[21]),U(t,"selected-key",e[18]),U(t,"selected-value",e[17]),U(t,"hovered","hover-collection"===e[9])},m(r,i){_(r,t,i),d[n].m(t,null),w(t,o),m&&m.m(t,null),l=!0,c||(u=[I(t,"mousedown",e[27]),I(t,"mousemove",e[28]),I(t,"mouseover",e[30]),I(t,"mouseout",e[31]),I(t,"focus",void 0),I(t,"blur",void 0)],c=!0)},p(e,i){let c=n;n=f(e),n===c?d[n].p(e,i):(_e(),Ee(d[c],1,1,(()=>{d[c]=null})),Oe(),r=d[n],r?r.p(e,i):(r=d[n]=h[n](e),r.c()),Pe(r,1),r.m(t,o)),e[4].readOnly||"hover-insert-after"!==e[9]&&!e[20]?m&&(_e(),Ee(m,1,1,(()=>{m=null})),Oe()):m?(m.p(e,i),1049104&i[0]&&Pe(m,1)):(m=lR(e),m.c(),Pe(m,1),m.m(t,null)),(!l||4178&i[0]&&s!==(s=p(xz("json-node",{expanded:e[12]},e[4].onClassName(e[1],e[6])))+" svelte-1d27oez"))&&N(t,"class",s),(!l||2&i[0]&&a!==(a=Nv(e[1])))&&N(t,"data-path",a),5202&i[0]&&U(t,"root",e[10]),2101330&i[0]&&U(t,"selected",e[21]),266322&i[0]&&U(t,"selected-key",e[18]),135250&i[0]&&U(t,"selected-value",e[17]),4690&i[0]&&U(t,"hovered","hover-collection"===e[9])},i(e){l||(Pe(r),Pe(m),l=!0)},o(e){Ee(r),Ee(m),l=!1},d(e){e&&O(t),d[n].d(),m&&m.d(),c=!1,i(u)}}}function uR(e,t,n){let r,o,i,s,a,l,c,u,h,d,f,p,m,g,v,y,{$$slots:b={},$$scope:x}=t,{value:w}=t,{path:$}=t,{state:k}=t,{selection:S}=t,{searchResult:C}=t,{validationErrors:_}=t,{context:O}=t,{onDragSelectionStart:P}=t;const E=He("jsoneditor:JSONNode");let A,j,M;function T(e){return`margin-left: ${18*e}px`}const I=bi((e=>e),ib);function z(e){O.onDrag(e)}function N(e){rN.selecting&&(rN.selecting=!1,e.stopPropagation()),O.onDragEnd(),document.removeEventListener("mousemove",z,!0),document.removeEventListener("mouseup",N)}function R(){return O.findElement([])?.getBoundingClientRect()?.top||0}function D(e,t){const n=R()-e.initialContentTop;return t.clientY-e.initialClientY-n}function L(e){if(M){const t=D(M,e),{updatedValue:r,updatedState:o,updatedSelection:i,indexOffset:s}=fN({fullJson:O.getFullJson(),fullState:O.getFullState(),fullSelection:O.getFullSelection(),deltaY:t,items:M.items});s!==M.indexOffset&&(E("drag selection",s,t,i),n(39,M={...M,updatedValue:r,updatedState:o,updatedSelection:i,indexOffset:s,didMoveItems:!0}))}}function B(e){if(M){const t=D(M,e),{operations:r,updatedFullSelection:o}=fN({fullJson:O.getFullJson(),fullState:O.getFullState(),fullSelection:O.getFullSelection(),deltaY:t,items:M.items});r?O.onPatch(r,o||O.getFullSelection()):e.target!==M.initialTarget||M.didMoveItems||O.onSelect({type:zv(e.target),path:Rv(e.target)}),n(39,M=void 0),rN.dragging=!1,document.removeEventListener("mousemove",L,!0),document.removeEventListener("mouseup",B)}}return e.$$set=e=>{"value"in e&&n(0,w=e.value),"path"in e&&n(1,$=e.path),"state"in e&&n(36,k=e.state),"selection"in e&&n(37,S=e.selection),"searchResult"in e&&n(2,C=e.searchResult),"validationErrors"in e&&n(3,_=e.validationErrors),"context"in e&&n(4,O=e.context),"onDragSelectionStart"in e&&n(38,P=e.onDragSelectionStart),"$$scope"in e&&n(41,x=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty[0]|256&e.$$.dirty[1]&&n(6,r=void 0!==M?.updatedValue?M.updatedValue:w),288&e.$$.dirty[1]&&n(5,o=void 0!==M?.updatedState?M.updatedState:k),320&e.$$.dirty[1]&&n(8,i=null!=M?.updatedSelection?M.updatedSelection:S),256&e.$$.dirty[0]&&n(7,s=i&&i[ht]),128&e.$$.dirty[0]&&n(21,a=!(!s||!s.pathsMap)),128&e.$$.dirty[0]&&n(20,l=!(!s||s.type!==Ug)),128&e.$$.dirty[0]&&n(19,c=!(!s||s.type!==Jg)),128&e.$$.dirty[0]&&n(18,u=!(!s||s.type!==Kg)),128&e.$$.dirty[0]&&n(17,h=!(!s||s.type!==Gg)),32&e.$$.dirty[0]&&n(12,d=o[it]),32&e.$$.dirty[0]&&n(16,f=o[st]),32&e.$$.dirty[0]&&n(11,p=o[at]),8&e.$$.dirty[0]&&n(15,m=_&&_[dt]),2&e.$$.dirty[0]&&n(10,g=0===$.length),64&e.$$.dirty[0]&&n(14,v=Ut(r)),2&e.$$.dirty[0]&&n(13,y=T($.length))},[w,$,C,_,O,o,r,s,i,A,g,p,d,y,v,m,f,h,u,c,l,a,T,I,function(e){e.stopPropagation();const t=e.ctrlKey;O.onExpand($,!d,t)},function(e){e.stopPropagation(),O.onExpand($,!0)},function(e,t){const n=wI($,p,e,t);return O.onPatch(n),tc(Ct.exports.parseJSONPointer(n[0].path))},function(e){if(function(e){return"DIV"===e.nodeName&&"true"===e.contentEditable}(e.target)||1===e.which&&Ov(e.target,"BUTTON"))return;e.stopPropagation(),e.preventDefault(),document.addEventListener("mousemove",z,!0),document.addEventListener("mouseup",N);const t=zv(e.target);if(function(e,t,n){if(!e)return!1;const r=t.slice(0);if(e.type===Qg)for(;r.length>0;){if(!0===e.pathsMap[Ct.exports.compileJSONPointer(r)])return!0;r.pop()}if(e.type===Kg)return n===Kg&&oh(e.focusPath,t);if(e.type===Gg){if(n===Gg&&oh(e.focusPath,t))return!0;if(lv(t,e.focusPath)&&t.length>e.focusPath.length&&(n===Kg||n===Gg||n===Qg))return!0}return!1}(O.getFullSelection(),$,t))0===e.button&&P(e);else if(rN.selecting=!0,rN.selectionAnchor=$,rN.selectionAnchorType=t,rN.selectionFocus=$,e.shiftKey){const e=O.getFullSelection();e&&O.onSelect({type:Qg,anchorPath:e.anchorPath,focusPath:$})}else switch(t){case Kg:case Gg:case Ug:case Jg:O.onSelect({type:t,path:$});break;case Qg:if(g&&e.target.hasAttribute("data-path")){const e=tc(Hg(r,o));O.onSelect(e)}else O.onSelect({type:Qg,anchorPath:$,focusPath:$})}},function(e){if(rN.selecting){e.preventDefault(),e.stopPropagation(),null==rN.selectionFocus&&window.getSelection&&window.getSelection().empty();const t=zv(e.target);oh($,rN.selectionFocus)&&t===rN.selectionAnchorType||(rN.selectionFocus=$,O.onSelect({anchorPath:rN.selectionAnchor,focusPath:rN.selectionFocus}))}},function(e){if(O.readOnly)return;const t=O.getFullSelection(),r=Mu(t.focusPath);if(!oh($,r))return void P(e);const o=function(e){const t=[];function n(e){const n=$.concat(e),r=O.findElement(n);null!=r&&t.push({path:n,height:r.clientHeight})}if(Array.isArray(w)){const t=Uc(e.paths)||e.focusPath,r=tc(e.paths)||e.focusPath,o=tc(t),i=tc(r),s=k[st].find((e=>o>=e.start&&i<=e.end));if(!s)return null;const{start:a,end:l}=s;Xt(a,Math.min(w.length,l),n)}else jg(k,n);return t}(t);E("dragSelectionStart",{fullSelection:t,items:o}),o?(n(39,M={initialTarget:e.target,initialClientY:e.clientY,initialContentTop:R(),updatedValue:void 0,updatedState:void 0,updatedSelection:void 0,items:o,indexOffset:0,didMoveItems:!1}),rN.dragging=!0,document.addEventListener("mousemove",L,!0),document.addEventListener("mouseup",B)):E("Cannot drag the current selection (probably spread over multiple sections)")},function(e){rN.selecting||rN.dragging||(e.stopPropagation(),Pv(e.target,"data-type","selectable-value")?n(9,A="hover-collection"):Pv(e.target,"data-type","insert-selection-area-inside")?n(9,A="hover-insert-inside"):Pv(e.target,"data-type","insert-selection-area-after")&&n(9,A="hover-insert-after"),clearTimeout(j))},function(e){e.stopPropagation(),j=setTimeout((()=>n(9,A=void 0)))},function(e){e.shiftKey||(e.stopPropagation(),e.preventDefault(),O.onSelect({type:Jg,path:$}))},function(e){e.shiftKey||(e.stopPropagation(),e.preventDefault(),O.onSelect({type:Ug,path:$}))},function(e){O.onSelect({type:Jg,path:$}),O.onContextMenu(e)},function(e){O.onSelect({type:Ug,path:$}),O.onContextMenu(e)},k,S,P,M,b,x]}class hR extends Ve{constructor(e){super(),qe(this,e,uR,cR,l,{value:0,path:1,state:36,selection:37,searchResult:2,validationErrors:3,context:4,onDragSelectionStart:38},pN,[-1,-1])}}function dR(e){let t,n;return t=new Nb({props:{items:e[0]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.items=e[0]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function fR(e,t,n){let r,o,i,s,a,l,c,{json:u}=t,{selection:h}=t,{readOnly:d}=t,{showSearch:f=!1}=t,{historyState:p}=t,{onExpandAll:m}=t,{onCollapseAll:g}=t,{onUndo:v}=t,{onRedo:y}=t,{onSort:b}=t,{onTransform:x}=t,{onContextMenu:w}=t,{onCopy:$}=t,{onRenderMenu:k=(()=>{})}=t;function S(){n(1,f=!f)}return e.$$set=e=>{"json"in e&&n(2,u=e.json),"selection"in e&&n(3,h=e.selection),"readOnly"in e&&n(4,d=e.readOnly),"showSearch"in e&&n(1,f=e.showSearch),"historyState"in e&&n(5,p=e.historyState),"onExpandAll"in e&&n(6,m=e.onExpandAll),"onCollapseAll"in e&&n(7,g=e.onCollapseAll),"onUndo"in e&&n(8,v=e.onUndo),"onRedo"in e&&n(9,y=e.onRedo),"onSort"in e&&n(10,b=e.onSort),"onTransform"in e&&n(11,x=e.onTransform),"onContextMenu"in e&&n(12,w=e.onContextMenu),"onCopy"in e&&n(13,$=e.onCopy),"onRenderMenu"in e&&n(14,k=e.onRenderMenu)},e.$$.update=()=>{4&e.$$.dirty&&n(20,r=void 0!==u),e.$$.dirty,1048584&e.$$.dirty&&n(17,o=r&&null!=h&&(h.type===Qg||h.type===Kg||h.type===Gg)),68&e.$$.dirty&&n(19,i={icon:yb,title:"Expand all",className:"expand-all",onClick:m,disabled:!Ht(u)}),132&e.$$.dirty&&n(18,s={icon:bb,title:"Collapse all",className:"collapse-all",onClick:g,disabled:!Ht(u)}),4&e.$$.dirty&&n(16,a={icon:py,title:"Search (Ctrl+F)",className:"search",onClick:S,disabled:void 0===u}),999220&e.$$.dirty&&n(15,l=d?[i,s,{separator:!0},{icon:cy,title:"Copy (Ctrl+C)",className:"copy",onClick:$,disabled:!o},{separator:!0},a,{space:!0}]:[i,s,{separator:!0},{icon:Zv,title:"Sort",className:"sort",onClick:b,disabled:d||void 0===u},{icon:dy,title:"Transform contents (filter, sort, project)",className:"transform",onClick:x,disabled:d||void 0===u},a,{icon:hy,title:yt,className:"contextmenu",onClick:w},{separator:!0},{icon:Xv,title:"Undo (Ctrl+Z)",className:"undo",onClick:v,disabled:!p.canUndo},{icon:ey,title:"Redo (Ctrl+Shift+Z)",className:"redo",onClick:y,disabled:!p.canRedo},{space:!0}]),49152&e.$$.dirty&&n(0,c=k("tree",l)||l)},[c,f,u,h,d,p,m,g,v,y,b,x,w,$,k,l,a,o,s,i,r]}class pR extends Ve{constructor(e){super(),qe(this,e,fR,dR,l,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14})}}function mR(e){$(e,"svelte-f191w8",'@charset "UTF-8";.welcome.svelte-f191w8.svelte-f191w8{flex:1;overflow:auto;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;display:flex;flex-direction:column;align-items:center}.welcome.svelte-f191w8 .space.before.svelte-f191w8{flex:1}.welcome.svelte-f191w8 .space.after.svelte-f191w8{flex:2}.welcome.svelte-f191w8 .contents.svelte-f191w8{margin:2em 10px 0;color:rgb(157, 157, 157)}.welcome.svelte-f191w8 .contents ul.svelte-f191w8{list-style:"●";list-style-position:outside;padding-left:20px}.welcome.svelte-f191w8 .contents ul li.svelte-f191w8{padding-left:10px}.welcome.svelte-f191w8 .contents ul li span.bold.svelte-f191w8{font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-weight:bold}')}function gR(e){let t;return{c(){t=E("ul"),t.innerHTML='<li class="svelte-f191w8">Click inside the editor</li> \n        <li class="svelte-f191w8">Paste clipboard data using <span class="bold svelte-f191w8">Ctrl+V</span></li> \n        <li class="svelte-f191w8">Create a new object by typing <span class="bold svelte-f191w8">{</span></li> \n        <li class="svelte-f191w8">Create a new array by typing <span class="bold svelte-f191w8">[</span></li>',N(t,"class","svelte-f191w8")},m(e,n){_(e,t,n)},d(e){e&&O(t)}}}function vR(t){let n,r,o,i,s,a,l,c=!t[0]&&gR();return{c(){n=E("div"),r=E("div"),o=M(),i=E("div"),s=j("Empty document\n    "),c&&c.c(),a=M(),l=E("div"),N(r,"class","space before svelte-f191w8"),N(i,"class","contents svelte-f191w8"),N(l,"class","space after svelte-f191w8"),N(n,"class","welcome svelte-f191w8")},m(e,t){_(e,n,t),w(n,r),w(n,o),w(n,i),w(i,s),c&&c.m(i,null),w(n,a),w(n,l)},p(e,[t]){e[0]?c&&(c.d(1),c=null):c||(c=gR(),c.c(),c.m(i,null))},i:e,o:e,d(e){e&&O(n),c&&c.d()}}}function yR(e,t,n){let{readOnly:r}=t;return e.$$set=e=>{"readOnly"in e&&n(0,r=e.readOnly)},[r]}class bR extends Ve{constructor(e){super(),qe(this,e,yR,vR,l,{readOnly:0},mR)}}function xR(e){$(e,"svelte-1hue8rj",'.jse-navigation-bar-dropdown.svelte-1hue8rj.svelte-1hue8rj{position:absolute;top:100%;left:0;z-index:3;background:white;box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24);display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-1hue8rj button.jse-navigation-bar-dropdown-item.svelte-1hue8rj{font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;border:none;background:transparent;color:#656565;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:5px 36px}.jse-navigation-bar-dropdown.svelte-1hue8rj button.jse-navigation-bar-dropdown-item.svelte-1hue8rj:focus,.jse-navigation-bar-dropdown.svelte-1hue8rj button.jse-navigation-bar-dropdown-item.svelte-1hue8rj:hover{background:#f5f5f5}.jse-navigation-bar-dropdown.svelte-1hue8rj button.jse-navigation-bar-dropdown-item.selected.svelte-1hue8rj{background:#656565;color:white}')}function wR(e,t,n){const r=e.slice();return r[4]=t[n],r}function $R(e,t){let n,r,o,i,s,a=yI(t[4],_R)+"";function l(){return t[3](t[4])}return{key:e,first:null,c(){n=E("button"),r=j(a),N(n,"type","button"),N(n,"class","jse-navigation-bar-dropdown-item svelte-1hue8rj"),N(n,"title",o=t[4]),U(n,"selected",t[4]===t[1]),this.first=n},m(e,t){_(e,n,t),w(n,r),i||(s=I(n,"click",z(l)),i=!0)},p(e,i){t=e,1&i&&a!==(a=yI(t[4],_R)+"")&&B(r,a),1&i&&o!==(o=t[4])&&N(n,"title",o),3&i&&U(n,"selected",t[4]===t[1])},d(e){e&&O(n),i=!1,s()}}}function kR(t){let n,r,o;return{c(){n=E("button"),r=j("..."),N(n,"type","button"),N(n,"class","jse-navigation-bar-dropdown-item svelte-1hue8rj"),N(n,"title",o="Limited to "+CR+" items")},m(e,t){_(e,n,t),w(n,r)},p:e,d(e){e&&O(n)}}}function SR(t){let n,r,o=[],i=new Map,s=en(t[0],CR);const a=e=>e[4];for(let e=0;e<s.length;e+=1){let n=wR(t,s,e),r=a(n);i.set(r,o[e]=$R(r,n))}let l=t[0].length>CR&&kR();return{c(){n=E("div");for(let e=0;e<o.length;e+=1)o[e].c();r=M(),l&&l.c(),N(n,"class","jse-navigation-bar-dropdown svelte-1hue8rj")},m(e,t){_(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null);w(n,r),l&&l.m(n,null)},p(e,[t]){7&t&&(s=en(e[0],CR),o=ze(o,t,a,1,e,s,i,n,Te,$R,r,wR)),e[0].length>CR?l?l.p(e,t):(l=kR(),l.c(),l.m(n,null)):l&&(l.d(1),l=null)},i:e,o:e,d(e){e&&O(n);for(let e=0;e<o.length;e+=1)o[e].d();l&&l.d()}}}const CR=100,_R=30;function OR(e,t,n){let{items:r}=t,{selectedItem:o}=t,{onSelect:i}=t;return e.$$set=e=>{"items"in e&&n(0,r=e.items),"selectedItem"in e&&n(1,o=e.selectedItem),"onSelect"in e&&n(2,i=e.onSelect)},[r,o,i,e=>i(e)]}class PR extends Ve{constructor(e){super(),qe(this,e,OR,SR,l,{items:0,selectedItem:1,onSelect:2},xR)}}function ER(e){$(e,"svelte-1sepq0q",'.jse-navigation-bar-item.svelte-1sepq0q.svelte-1sepq0q{position:relative;display:flex}.jse-navigation-bar-item.svelte-1sepq0q button.jse-navigation-bar-button.svelte-1sepq0q{font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;padding:5px 2px;border:none;background:transparent;color:#656565;cursor:pointer;outline:none;min-width:24px;white-space:nowrap}.jse-navigation-bar-item.svelte-1sepq0q button.jse-navigation-bar-button.svelte-1sepq0q:focus,.jse-navigation-bar-item.svelte-1sepq0q button.jse-navigation-bar-button.svelte-1sepq0q:hover{background:#d2d2d2}.jse-navigation-bar-item.svelte-1sepq0q button.jse-navigation-bar-button.jse-navigation-bar-arrow.svelte-1sepq0q{font-size:6px;line-height:6px;padding:5px 10px}.jse-navigation-bar-item.svelte-1sepq0q button.jse-navigation-bar-button.jse-navigation-bar-arrow.open.svelte-1sepq0q{background:#fff}.jse-navigation-bar-item.svelte-1sepq0q.svelte-1sepq0q:last-child{padding-right:10px}')}function AR(e){let t,n,r,o;return{c(){t=E("button"),n=j(e[2]),N(t,"type","button"),N(t,"class","jse-navigation-bar-button svelte-1sepq0q")},m(i,s){_(i,t,s),w(t,n),r||(o=I(t,"click",e[9]),r=!0)},p(e,t){4&t&&B(n,e[2])},d(e){e&&O(t),r=!1,o()}}}function jR(e){let t,n,r,o,i,s,a;r=new Qy({props:{data:Qv}});let l=void 0!==e[2]&&AR(e);return{c(){t=E("div"),n=E("button"),Le(r.$$.fragment),o=M(),l&&l.c(),N(n,"type","button"),N(n,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-1sepq0q"),U(n,"open",e[1]),N(t,"class","jse-navigation-bar-item svelte-1sepq0q")},m(c,u){_(c,t,u),w(t,n),Be(r,n,null),w(t,o),l&&l.m(t,null),e[10](t),i=!0,s||(a=I(n,"click",e[4]),s=!0)},p(e,[r]){2&r&&U(n,"open",e[1]),void 0!==e[2]?l?l.p(e,r):(l=AR(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i(e){i||(Pe(r.$$.fragment,e),i=!0)},o(e){Ee(r.$$.fragment,e),i=!1},d(n){n&&O(t),Fe(r),l&&l.d(),e[10](null),s=!1,a()}}}function MR(e,t,n){let r,o;const{openAbsolutePopup:i,closeAbsolutePopup:s}=ae("absolute-popup");let a,{path:l}=t,{index:c}=t,{onSelect:u}=t,{getItems:h}=t,d=!1;function f(e){s(),u(r.concat(e))}return e.$$set=e=>{"path"in e&&n(5,l=e.path),"index"in e&&n(6,c=e.index),"onSelect"in e&&n(7,u=e.onSelect),"getItems"in e&&n(8,h=e.getItems)},e.$$.update=()=>{96&e.$$.dirty&&(r=l.slice(0,c)),96&e.$$.dirty&&n(2,o=l[c])},[a,d,o,f,function(){if(a){n(1,d=!0);const e={items:h(r),selectedItem:o,onSelect:f};i(PR,e,{anchor:a,closeOnOuterClick:!0,onClose:()=>{n(1,d=!1)}})}},l,c,u,h,()=>f(o),function(e){ce[e?"unshift":"push"]((()=>{a=e,n(0,a)}))}]}class TR extends Ve{constructor(e){super(),qe(this,e,MR,jR,l,{path:5,index:6,onSelect:7,getItems:8},ER)}}var IR={exports:{}},zR=function(e,t){var n,r,o=1,i=0,s=0,a=String.alphabet;function l(e,t,r){if(r){for(n=t;(r=l(e,n))<76&&r>65;)++n;return+e.slice(t-1,n)}return(r=a&&a.indexOf(e.charAt(t)))>-1?r+76:(r=e.charCodeAt(t)||0)<45||r>127?r:r<46?65:r<48?r-1:r<58?r+18:r<65?r-11:r<91?r+11:r<97?r-37:r<123?r+5:r-63}if((e+="")!=(t+=""))for(;o;)if(r=l(e,i++),o=l(t,s++),r<76&&o<76&&r>66&&o>66&&(r=l(e,i,i),o=l(t,s,i=n),s=n),r!=o)return r<o?-1:1;return 0};
/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */try{IR.exports=zR}catch(e){String.naturalCompare=zR}function NR(e,t){const n="string"==typeof e?e.toLowerCase():e,r="string"==typeof t?t.toLowerCase():t;return IR.exports(n,r)}function RR(e,t=[],n=[],r=1){const o=function(e,t){return function(n,r){const o=Ct.exports.getIn(n,e),i=Ct.exports.getIn(r,e);return void 0===o?t:void 0===i?-t:"string"!=typeof o&&"string"!=typeof i?o>i?t:o<i?-t:0:t*NR(o,i)}}(n,r),i=Ct.exports.getIn(e,t);return[{op:"replace",path:Ct.exports.compileJSONPointer(t),value:i.slice(0).sort(o)}]}function DR(e){$(e,"svelte-nnrk1r",'.jse-navigation-bar.svelte-nnrk1r.svelte-nnrk1r{font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;background:#ebebeb;color:#656565;padding:0;margin:0;display:flex;overflow:hidden}.jse-navigation-bar.svelte-nnrk1r .jse-navigation-bar-empty.svelte-nnrk1r{line-height:14px;padding:5px 10px;color:rgb(192, 192, 192)}')}function LR(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function BR(e,t){let n,r,o;return r=new TR({props:{getItems:t[4],path:t[1],index:t[14],onSelect:t[5]}}),{key:e,first:null,c(){n=T(),Le(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Be(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.path=t[1]),2&n&&(o.index=t[14]),r.$set(o)},i(e){o||(Pe(r.$$.fragment,e),o=!0)},o(e){Ee(r.$$.fragment,e),o=!1},d(e){e&&O(n),Fe(r,e)}}}function FR(e){let t,n;return t=new TR({props:{getItems:e[4],path:e[1],index:void 0,onSelect:e[5]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.path=e[1]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function qR(e){let t;return{c(){t=E("div"),t.textContent="Navigation bar",N(t,"class","jse-navigation-bar-empty svelte-nnrk1r")},m(e,n){_(e,t,n)},d(e){e&&O(t)}}}function VR(e){let t,n,r,o,i=[],s=new Map,a=!Ht(e[0]),l=e[1];const c=e=>e[14];for(let t=0;t<l.length;t+=1){let n=LR(e,l,t),r=c(n);s.set(r,i[t]=BR(r,n))}let u=e[3]&&FR(e),h=a&&qR();return{c(){t=E("div");for(let e=0;e<i.length;e+=1)i[e].c();n=M(),u&&u.c(),r=M(),h&&h.c(),N(t,"class","jse-navigation-bar svelte-nnrk1r")},m(s,a){_(s,t,a);for(let e=0;e<i.length;e+=1)i[e].m(t,null);w(t,n),u&&u.m(t,null),w(t,r),h&&h.m(t,null),e[9](t),o=!0},p(e,[o]){50&o&&(l=e[1],_e(),i=ze(i,o,c,1,e,l,s,t,Ie,BR,n,LR),Oe()),e[3]?u?(u.p(e,o),8&o&&Pe(u,1)):(u=FR(e),u.c(),Pe(u,1),u.m(t,r)):u&&(_e(),Ee(u,1,1,(()=>{u=null})),Oe()),1&o&&(a=!Ht(e[0])),a?h||(h=qR(),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i(e){if(!o){for(let e=0;e<l.length;e+=1)Pe(i[e]);Pe(u),o=!0}},o(e){for(let e=0;e<i.length;e+=1)Ee(i[e]);Ee(u),o=!1},d(n){n&&O(t);for(let e=0;e<i.length;e+=1)i[e].d();u&&u.d(),h&&h.d(),e[9](null)}}}function HR(e,t,n){let r,o;const i=He("jsoneditor:NavigationBar");let s,{json:a}=t,{state:l}=t,{selection:c}=t,{onSelect:u}=t;return e.$$set=e=>{"json"in e&&n(0,a=e.json),"state"in e&&n(6,l=e.state),"selection"in e&&n(7,c=e.selection),"onSelect"in e&&n(8,u=e.onSelect)},e.$$.update=()=>{128&e.$$.dirty&&n(1,r=c?c.focusPath:[]),3&e.$$.dirty&&n(3,o=Ht(Ct.exports.getIn(a,r))),2&e.$$.dirty&&setTimeout((()=>{const e=s&&s.querySelector("div:last-child");e&&e.scrollIntoView&&e.scrollIntoView({behavior:"smooth",block:"nearest"})}))},[a,r,s,o,function(e){i("get items for path",e);const t=Ct.exports.getIn(a,e);if(Array.isArray(t))return $f(0,t.length);if(Vt(t)){const n=(Ct.exports.getIn(l,e.concat(at))||Object.keys(t)).slice(0);return n.sort(NR),n}return[]},function(e){i("select path",JSON.stringify(e));const t=uv(a,l,{type:Qg,anchorPath:e,focusPath:e});u(t)},l,c,u,function(e){ce[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class WR extends Ve{constructor(e){super(),qe(this,e,HR,VR,l,{json:0,state:6,selection:7,onSelect:8},DR)}}function UR(e){$(e,"svelte-dll1p2",'.jse-search-box.svelte-dll1p2.svelte-dll1p2{border:1px solid rgb(157, 157, 157);border-radius:3px;background:#f5f5f5;box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24);display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-dll1p2 .jse-search-form.svelte-dll1p2{display:flex;align-items:stretch}.jse-search-box.svelte-dll1p2 .jse-search-form button.svelte-dll1p2{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;color:rgb(192, 192, 192);display:block;text-align:center;background:transparent;border:none;padding:0 5px;margin:0;cursor:pointer}.jse-search-box.svelte-dll1p2 .jse-search-form button.svelte-dll1p2:hover,.jse-search-box.svelte-dll1p2 .jse-search-form button.svelte-dll1p2:active{color:rgb(157, 157, 157);background:rgb(240, 240, 240)}.jse-search-box.svelte-dll1p2 .jse-search-form input.svelte-dll1p2{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;color:#1a1a1a;border:1px solid #d8dbdf;border-radius:3px;height:28px;padding:0 5px;margin:0;flex:1;outline:none}.jse-search-box.svelte-dll1p2 .jse-search-form .jse-replace-toggle.svelte-dll1p2{padding:10px 5px;min-width:20px;background:#ededed}.jse-search-box.svelte-dll1p2 .jse-search-form .jse-replace-toggle.svelte-dll1p2:hover,.jse-search-box.svelte-dll1p2 .jse-search-form .jse-replace-toggle.svelte-dll1p2:active{color:rgb(157, 157, 157);background:#e8e8e8}.jse-search-box.svelte-dll1p2 .jse-search-form .jse-search-contents.svelte-dll1p2{flex:1;display:flex;flex-direction:column;padding:5px;gap:5px}.jse-search-box.svelte-dll1p2 .jse-search-form .jse-search-contents .jse-search-section.svelte-dll1p2{flex:1;display:flex;align-items:center;position:relative;padding-left:32px}.jse-search-box.svelte-dll1p2 .jse-search-form .jse-search-contents .jse-search-section .jse-search-icon.svelte-dll1p2{color:rgb(192, 192, 192);cursor:inherit;background:inherit;position:absolute;top:5px;left:5px}.jse-search-box.svelte-dll1p2 .jse-search-form .jse-search-contents .jse-search-section label.jse-search-input-label.svelte-dll1p2{flex:1;display:flex}.jse-search-box.svelte-dll1p2 .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.svelte-dll1p2{color:rgb(192, 192, 192);font-size:11px;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-dll1p2 .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.jse-visible.svelte-dll1p2{visibility:visible}.jse-search-box.svelte-dll1p2 .jse-search-form .jse-search-contents .jse-replace-section.svelte-dll1p2{padding-left:32px;flex:1;display:flex}.jse-search-box.svelte-dll1p2 .jse-search-form .jse-search-contents .jse-replace-section button.svelte-dll1p2{width:auto}')}function JR(e){let t,n,r,o,a,l,c,u,h,d,f,p,g,v,y,b,x,$,k,S,C,P,A,T,z,R,D,L,q,V=-1!==e[3]?`${e[3]+1}/`:"",H=!e[4]&&KR(e);const W=[QR,GR],J=[];function K(e,t){return e[2]?0:1}c=K(e),u=J[c]=W[c](e),k=new Qy({props:{data:oy}}),P=new Qy({props:{data:iy}}),z=new Qy({props:{data:$y}});let G=e[0]&&!e[4]&&YR(e);return{c(){t=E("div"),n=E("form"),H&&H.c(),r=M(),o=E("div"),a=E("div"),l=E("div"),u.c(),h=M(),d=E("label"),f=E("input"),g=M(),v=E("div"),y=j(V),b=j(e[10]),x=M(),$=E("button"),Le(k.$$.fragment),S=M(),C=E("button"),Le(P.$$.fragment),A=M(),T=E("button"),Le(z.$$.fragment),R=M(),G&&G.c(),N(l,"class","jse-search-icon svelte-dll1p2"),N(f,"class","jse-search-input svelte-dll1p2"),N(f,"title","Enter text to search"),N(f,"type","text"),N(d,"class","jse-search-input-label svelte-dll1p2"),N(d,"about","jse-search input"),N(v,"class","jse-search-count svelte-dll1p2"),U(v,"jse-visible",""!==e[8]),N($,"type","button"),N($,"class","jse-search-next svelte-dll1p2"),N($,"title","Go to next search result (Enter)"),N(C,"type","button"),N(C,"class","jse-search-previous svelte-dll1p2"),N(C,"title","Go to previous search result"),N(T,"type","button"),N(T,"class","jse-search-clear svelte-dll1p2"),N(T,"title","Close search box (Esc)"),N(a,"class","jse-search-section svelte-dll1p2"),N(o,"class","jse-search-contents svelte-dll1p2"),N(n,"class","jse-search-form svelte-dll1p2"),N(t,"class","jse-search-box svelte-dll1p2")},m(i,u){_(i,t,u),w(t,n),H&&H.m(n,null),w(n,r),w(n,o),w(o,a),w(a,l),J[c].m(l,null),w(a,h),w(a,d),w(d,f),F(f,e[8]),w(a,g),w(a,v),w(v,y),w(v,b),w(a,x),w(a,$),Be(k,$,null),w(a,S),w(a,C),Be(P,C,null),w(a,A),w(a,T),Be(z,T,null),w(o,R),G&&G.m(o,null),D=!0,L||(q=[I(f,"input",e[21]),m(p=XR.call(null,f)),I($,"click",(function(){s(e[6])&&e[6].apply(this,arguments)})),I(C,"click",(function(){s(e[5])&&e[5].apply(this,arguments)})),I(T,"click",(function(){s(e[7])&&e[7].apply(this,arguments)})),I(n,"submit",e[12]),I(n,"keydown",e[13])],L=!0)},p(t,i){(e=t)[4]?H&&(_e(),Ee(H,1,1,(()=>{H=null})),Oe()):H?(H.p(e,i),16&i&&Pe(H,1)):(H=KR(e),H.c(),Pe(H,1),H.m(n,r));let s=c;c=K(e),c===s?J[c].p(e,i):(_e(),Ee(J[s],1,1,(()=>{J[s]=null})),Oe(),u=J[c],u?u.p(e,i):(u=J[c]=W[c](e),u.c()),Pe(u,1),u.m(l,null)),256&i&&f.value!==e[8]&&F(f,e[8]),(!D||8&i)&&V!==(V=-1!==e[3]?`${e[3]+1}/`:"")&&B(y,V),(!D||1024&i)&&B(b,e[10]),256&i&&U(v,"jse-visible",""!==e[8]),e[0]&&!e[4]?G?G.p(e,i):(G=YR(e),G.c(),G.m(o,null)):G&&(G.d(1),G=null)},i(e){D||(Pe(H),Pe(u),Pe(k.$$.fragment,e),Pe(P.$$.fragment,e),Pe(z.$$.fragment,e),D=!0)},o(e){Ee(H),Ee(u),Ee(k.$$.fragment,e),Ee(P.$$.fragment,e),Ee(z.$$.fragment,e),D=!1},d(e){e&&O(t),H&&H.d(),J[c].d(),Fe(k),Fe(P),Fe(z),G&&G.d(),L=!1,i(q)}}}function KR(e){let t,n,r,o,i;return n=new Qy({props:{data:e[0]?ty:ny}}),{c(){t=E("button"),Le(n.$$.fragment),N(t,"type","button"),N(t,"class","jse-replace-toggle svelte-dll1p2"),N(t,"title","Toggle visibility of replace options (Ctrl+H)")},m(s,a){_(s,t,a),Be(n,t,null),r=!0,o||(i=I(t,"click",e[11]),o=!0)},p(e,t){const r={};1&t&&(r.data=e[0]?ty:ny),n.$set(r)},i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){e&&O(t),Fe(n),o=!1,i()}}}function GR(t){let n,r;return n=new Qy({props:{data:py}}),{c(){Le(n.$$.fragment)},m(e,t){Be(n,e,t),r=!0},p:e,i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){Fe(n,e)}}}function QR(t){let n,r;return n=new Qy({props:{data:sy,spin:!0}}),{c(){Le(n.$$.fragment)},m(e,t){Be(n,e,t),r=!0},p:e,i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){Fe(n,e)}}}function YR(e){let t,n,r,o,s,a,l,c;return{c(){t=E("div"),n=E("input"),r=M(),o=E("button"),o.textContent="Replace",s=M(),a=E("button"),a.textContent="All",N(n,"class","jse-replace-input svelte-dll1p2"),N(n,"title","Enter replacement text"),N(n,"type","text"),N(o,"type","button"),N(o,"title","Replace current occurrence (Ctrl+Enter)"),N(o,"class","svelte-dll1p2"),N(a,"type","button"),N(a,"title","Replace all occurrences"),N(a,"class","svelte-dll1p2"),N(t,"class","jse-replace-section svelte-dll1p2")},m(i,u){_(i,t,u),w(t,n),F(n,e[9]),w(t,r),w(t,o),w(t,s),w(t,a),l||(c=[I(n,"input",e[22]),I(o,"click",e[14]),I(a,"click",e[15])],l=!0)},p(e,t){512&t&&n.value!==e[9]&&F(n,e[9])},d(e){e&&O(t),l=!1,i(c)}}}function ZR(e){let t,n,r=e[1]&&JR(e);return{c(){r&&r.c(),t=T()},m(e,o){r&&r.m(e,o),_(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&Pe(r,1)):(r=JR(e),r.c(),Pe(r,1),r.m(t.parentNode,t)):r&&(_e(),Ee(r,1,1,(()=>{r=null})),Oe())},i(e){n||(Pe(r),n=!0)},o(e){Ee(r),n=!1},d(e){r&&r.d(e),e&&O(t)}}}function XR(e){e.select()}function eD(e,t,n){let r,o,{show:i=!1}=t,{searching:s}=t,{resultCount:a=0}=t,{activeIndex:l=0}=t,{showReplace:c=!1}=t,{readOnly:u=!1}=t,{onChange:h=(()=>{})}=t,{onPrevious:d=(()=>{})}=t,{onNext:f=(()=>{})}=t,{onReplace:p=(()=>{})}=t,{onReplaceAll:m=(()=>{})}=t,{onClose:g=(()=>{})}=t,v="",y="",b="";function x(){n(0,c=!c&&!u)}function w(){u||p(v,b)}return e.$$set=e=>{"show"in e&&n(1,i=e.show),"searching"in e&&n(2,s=e.searching),"resultCount"in e&&n(16,a=e.resultCount),"activeIndex"in e&&n(3,l=e.activeIndex),"showReplace"in e&&n(0,c=e.showReplace),"readOnly"in e&&n(4,u=e.readOnly),"onChange"in e&&n(17,h=e.onChange),"onPrevious"in e&&n(5,d=e.onPrevious),"onNext"in e&&n(6,f=e.onNext),"onReplace"in e&&n(18,p=e.onReplace),"onReplaceAll"in e&&n(19,m=e.onReplaceAll),"onClose"in e&&n(7,g=e.onClose)},e.$$.update=()=>{65536&e.$$.dirty&&n(10,r=a>=1e3?"999+":String(a)),131072&e.$$.dirty&&n(20,o=Nl(h,300)),1048832&e.$$.dirty&&o(v),2&e.$$.dirty&&i&&""!==v&&h(v)},[c,i,s,l,u,d,f,g,v,b,r,x,function(e){e.preventDefault(),v!==y?(y=v,o.cancel(),h(v)):f()},function(e){e.stopPropagation();const t=Lv(e);"Enter"===t&&(e.preventDefault(),f()),"Ctrl+Enter"!==t&&"Command+Enter"!==t||(e.preventDefault(),c?w():f()),"Ctrl+H"===t&&(e.preventDefault(),x()),"Escape"===t&&(e.preventDefault(),g())},w,function(){u||m(v,b)},a,h,p,m,o,function(){v=this.value,n(8,v)},function(){b=this.value,n(9,b)}]}class tD extends Ve{constructor(e){super(),qe(this,e,eD,ZR,l,{show:1,searching:2,resultCount:16,activeIndex:3,showReplace:0,readOnly:4,onChange:17,onPrevious:5,onNext:6,onReplace:18,onReplaceAll:19,onClose:7},UR)}}const{window:nD}=Me;function rD(e){$(e,"svelte-5vqx9v",'.tree-mode.svelte-5vqx9v.svelte-5vqx9v{flex:1;display:flex;flex-direction:column;position:relative;background:#fff;min-width:0;min-height:0}.tree-mode.svelte-5vqx9v.svelte-5vqx9v:not(.visible){visibility:hidden;height:0;width:0;flex:unset}.tree-mode.svelte-5vqx9v .hidden-input-label.svelte-5vqx9v{position:absolute;right:0;top:0;width:0;height:0}.tree-mode.svelte-5vqx9v .hidden-input-label .hidden-input.svelte-5vqx9v{width:0;height:0;padding:0;border:0;outline:none}.tree-mode.svelte-5vqx9v .search-box-container.svelte-5vqx9v{position:relative;height:0;top:10px;margin-right:30px;margin-left:10px;text-align:right;z-index:3}.tree-mode.svelte-5vqx9v .contents.svelte-5vqx9v{flex:1;overflow:auto;background:#fff;position:relative;padding:2px;display:flex;flex-direction:column}.tree-mode.svelte-5vqx9v .contents .loading-space.svelte-5vqx9v{flex:1}.tree-mode.svelte-5vqx9v .contents .loading.svelte-5vqx9v{flex:2;text-align:center;color:rgb(157, 157, 157);box-sizing:border-box}.tree-mode.svelte-5vqx9v .preview.svelte-5vqx9v{flex:1;color:rgb(157, 157, 157);overflow:auto;white-space:pre-wrap;font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;line-height:18px;padding:2px}')}function oD(e){let t,n,r;function o(t){e[73](t)}let i={json:e[8],selection:e[10],readOnly:e[0],historyState:e[21],onExpandAll:e[40],onCollapseAll:e[41],onUndo:e[36],onRedo:e[37],onSort:e[38],onTransform:e[39],onContextMenu:e[45],onCopy:e[34],onRenderMenu:e[5]};return void 0!==e[17]&&(i.showSearch=e[17]),t=new pR({props:i}),ce.push((()=>De(t,"showSearch",o))),{c(){Le(t.$$.fragment)},m(e,n){Be(t,e,n),r=!0},p(e,r){const o={};256&r[0]&&(o.json=e[8]),1024&r[0]&&(o.selection=e[10]),1&r[0]&&(o.readOnly=e[0]),2097152&r[0]&&(o.historyState=e[21]),32&r[0]&&(o.onRenderMenu=e[5]),!n&&131072&r[0]&&(n=!0,o.showSearch=e[17],ve((()=>n=!1))),t.$set(o)},i(e){r||(Pe(t.$$.fragment,e),r=!0)},o(e){Ee(t.$$.fragment,e),r=!1},d(e){Fe(t,e)}}}function iD(e){let t,n;return t=new WR({props:{json:e[8],state:e[15],selection:e[10],onSelect:e[48]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};256&n[0]&&(r.json=e[8]),32768&n[0]&&(r.state=e[15]),1024&n[0]&&(r.selection=e[10]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function sD(t){let n;return{c(){n=E("div"),n.innerHTML='<div class="loading-space svelte-5vqx9v"></div> \n      <div class="loading svelte-5vqx9v">loading...</div>',N(n,"class","contents svelte-5vqx9v")},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}function aD(e){let t,n,r,o,i,s,a,l,c;const u=[cD,lD],h=[];function d(e,t){return void 0===e[8]?0:1}return o=d(e),i=h[o]=u[o](e),{c(){t=E("label"),n=E("input"),r=M(),i.c(),s=T(),N(n,"class","hidden-input svelte-5vqx9v"),N(n,"tabindex","-1"),N(t,"class","hidden-input-label svelte-5vqx9v")},m(i,u){_(i,t,u),w(t,n),e[74](n),_(i,r,u),h[o].m(i,u),_(i,s,u),a=!0,l||(c=I(n,"paste",e[35]),l=!0)},p(e,t){let n=o;o=d(e),o===n?h[o].p(e,t):(_e(),Ee(h[n],1,1,(()=>{h[n]=null})),Oe(),i=h[o],i?i.p(e,t):(i=h[o]=u[o](e),i.c()),Pe(i,1),i.m(s.parentNode,s))},i(e){a||(Pe(i),a=!0)},o(e){Ee(i),a=!1},d(n){n&&O(t),e[74](null),n&&O(r),h[o].d(n),n&&O(s),l=!1,c()}}}function lD(e){let t,n,r,o,i,s,a,l,c,u;n=new tD({props:{show:e[17],resultCount:e[20]?e[20].count:0,activeIndex:e[20]?e[20].activeIndex:0,showReplace:e[18],searching:e[19],readOnly:e[0],onChange:e[27],onNext:e[28],onPrevious:e[29],onReplace:e[30],onReplaceAll:e[31],onClose:e[32]}}),i=new hR({props:{value:e[8],path:e[26],state:e[15],selection:e[24],searchResult:e[20]&&e[20].itemsWithActive,validationErrors:e[23],context:e[11],onDragSelectionStart:mD}});let h=e[16]&&uD(e),d=e[22]&&hD(e);return c=new vb({props:{validationErrors:e[12],selectError:e[33]}}),{c(){t=E("div"),Le(n.$$.fragment),r=M(),o=E("div"),Le(i.$$.fragment),s=M(),h&&h.c(),a=M(),d&&d.c(),l=M(),Le(c.$$.fragment),N(t,"class","search-box-container svelte-5vqx9v"),N(o,"class","contents svelte-5vqx9v"),N(o,"data-jsoneditor-scrollable-contents",!0)},m(f,p){_(f,t,p),Be(n,t,null),_(f,r,p),_(f,o,p),Be(i,o,null),e[75](o),_(f,s,p),h&&h.m(f,p),_(f,a,p),d&&d.m(f,p),_(f,l,p),Be(c,f,p),u=!0},p(e,t){const r={};131072&t[0]&&(r.show=e[17]),1048576&t[0]&&(r.resultCount=e[20]?e[20].count:0),1048576&t[0]&&(r.activeIndex=e[20]?e[20].activeIndex:0),262144&t[0]&&(r.showReplace=e[18]),524288&t[0]&&(r.searching=e[19]),1&t[0]&&(r.readOnly=e[0]),n.$set(r);const o={};256&t[0]&&(o.value=e[8]),32768&t[0]&&(o.state=e[15]),16777216&t[0]&&(o.selection=e[24]),1048576&t[0]&&(o.searchResult=e[20]&&e[20].itemsWithActive),8388608&t[0]&&(o.validationErrors=e[23]),2048&t[0]&&(o.context=e[11]),i.$set(o),e[16]?h?(h.p(e,t),65536&t[0]&&Pe(h,1)):(h=uD(e),h.c(),Pe(h,1),h.m(a.parentNode,a)):h&&(_e(),Ee(h,1,1,(()=>{h=null})),Oe()),e[22]?d?(d.p(e,t),4194304&t[0]&&Pe(d,1)):(d=hD(e),d.c(),Pe(d,1),d.m(l.parentNode,l)):d&&(_e(),Ee(d,1,1,(()=>{d=null})),Oe());const s={};4096&t[0]&&(s.validationErrors=e[12]),c.$set(s)},i(e){u||(Pe(n.$$.fragment,e),Pe(i.$$.fragment,e),Pe(h),Pe(d),Pe(c.$$.fragment,e),u=!0)},o(e){Ee(n.$$.fragment,e),Ee(i.$$.fragment,e),Ee(h),Ee(d),Ee(c.$$.fragment,e),u=!1},d(u){u&&O(t),Fe(n),u&&O(r),u&&O(o),Fe(i),e[75](null),u&&O(s),h&&h.d(u),u&&O(a),d&&d.d(u),u&&O(l),Fe(c,u)}}}function cD(e){let t,n,r,o;const i=[fD,dD],s=[];function a(e,t){return""===e[9]||void 0===e[9]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=T()},m(e,n){s[t].m(e,n),_(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?s[t].p(e,o):(_e(),Ee(s[l],1,1,(()=>{s[l]=null})),Oe(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),Pe(n,1),n.m(r.parentNode,r))},i(e){o||(Pe(n),o=!0)},o(e){Ee(n),o=!1},d(e){s[t].d(e),e&&O(r)}}}function uD(e){let t,n;return t=new ob({props:{type:"info",message:`You pasted a JSON ${Array.isArray(e[16].contents)?"array":"object"} as text`,actions:[{icon:wy,text:"Paste as JSON instead",onClick:e[46]},{text:"Leave as is",onClick:e[47]}]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};65536&n[0]&&(r.message=`You pasted a JSON ${Array.isArray(e[16].contents)?"array":"object"} as text`),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function hD(e){let t,n;return t=new ob({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:e[0]?[]:[{icon:ry,text:"Ok",onClick:e[6]},{icon:ly,text:"Repair manually instead",onClick:e[4]}]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};17&n[0]&&(r.actions=e[0]?[]:[{icon:ry,text:"Ok",onClick:e[6]},{icon:ly,text:"Repair manually instead",onClick:e[4]}]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function dD(e){let t,n,r,o,i;return t=new ob({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:e[0]?[]:[{icon:ly,text:"Repair manually",onClick:e[4]}]}}),{c(){Le(t.$$.fragment),n=M(),r=E("div"),o=j(e[9]),N(r,"class","preview svelte-5vqx9v")},m(e,s){Be(t,e,s),_(e,n,s),_(e,r,s),w(r,o),i=!0},p(e,n){const r={};17&n[0]&&(r.actions=e[0]?[]:[{icon:ly,text:"Repair manually",onClick:e[4]}]),t.$set(r),(!i||512&n[0])&&B(o,e[9])},i(e){i||(Pe(t.$$.fragment,e),i=!0)},o(e){Ee(t.$$.fragment,e),i=!1},d(e){Fe(t,e),e&&O(n),e&&O(r)}}}function fD(e){let t,n;return t=new bR({props:{readOnly:e[0]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.readOnly=e[0]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function pD(e){let t,n,r,o,s,a,l,c,u=e[1]&&oD(e),h=e[2]&&iD(e);const d=[aD,sD],f=[];return o=function(e,t){return e[25]?1:0}(e),s=f[o]=d[o](e),{c(){t=E("div"),u&&u.c(),n=M(),h&&h.c(),r=M(),s.c(),N(t,"class","tree-mode svelte-5vqx9v"),U(t,"visible",e[3])},m(i,s){_(i,t,s),u&&u.m(t,null),w(t,n),h&&h.m(t,null),w(t,r),f[o].m(t,null),e[76](t),a=!0,l||(c=[I(nD,"mousedown",e[49]),I(t,"keydown",e[42]),I(t,"mousedown",e[43]),I(t,"contextmenu",e[44])],l=!0)},p(e,o){e[1]?u?(u.p(e,o),2&o[0]&&Pe(u,1)):(u=oD(e),u.c(),Pe(u,1),u.m(t,n)):u&&(_e(),Ee(u,1,1,(()=>{u=null})),Oe()),e[2]?h?(h.p(e,o),4&o[0]&&Pe(h,1)):(h=iD(e),h.c(),Pe(h,1),h.m(t,r)):h&&(_e(),Ee(h,1,1,(()=>{h=null})),Oe()),s.p(e,o),8&o[0]&&U(t,"visible",e[3])},i(e){a||(Pe(u),Pe(h),Pe(s),a=!0)},o(e){Ee(u),Ee(h),Ee(s),a=!1},d(n){n&&O(t),u&&u.d(),h&&h.d(),f[o].d(),e[76](null),l=!1,i(c)}}}function mD(){}function gD(e){return e.length<1||1===e.length&&0===e[0]}function vD(){return!0}function yD(e,t,n){let r,o,i,s,a,l;const c=He("jsoneditor:TreeMode"),u="undefined"==typeof window;c("isSSR:",u);const{open:h}=ae("simple-modal"),d=Pm(),f=Pm(),{openAbsolutePopup:p,closeAbsolutePopup:m}=ae("absolute-popup");let g,v,y,b=!1;const x=gI();let w,$,{readOnly:k=!1}=t,{externalContent:S}=t,{mainMenuBar:C=!0}=t,{navigationBar:_=!0}=t,{escapeControlCharacters:O=!1}=t,{escapeUnicodeCharacters:P=!1}=t,{validator:E=null}=t,{visible:A=!0}=t,{indentation:j=2}=t,{onError:M}=t,{onChange:T}=t,{onRenderValue:I}=t,{onRequestRepair:z=(()=>{})}=t,{onRenderMenu:N=(()=>{})}=t,{onClassName:R}=t,{onFocus:D}=t,{onBlur:L}=t,{onSortModal:B}=t,{onTransformModal:F}=t,q=!1;Cy({onMount:re,onDestroy:oe,getWindow:()=>Mv(y),hasFocus:()=>q&&document.hasFocus()||Tv(y),onFocus:()=>{b=!0,D&&D()},onBlur:()=>{b=!1,L&&L()}});let V=Pg({},void 0,[],gD);let H,W=null;function U(e){return dn({json:e},10240)?gD:vD}let J,K=!1,G=!1,Q=!1,Y="";async function Z(e){c("search text updated",e),n(70,Y=e),await me(),await X(J&&J.activeItem)}async function X(e){if(e){const t=e.path;n(15,V=Mg(w,V,t)),await me(),De(t)}}const ee=Kp((function(){""!==Y?(n(19,Q=!0),setTimeout((()=>{c("searching...",Y);const e=PI(Y,w,V,1e3);n(20,J=OI(w,e,J)),n(19,Q=!1)}))):n(20,J=void 0)}),300);const te=function(e={}){const t=e.maxItems||1e3;let n=[],r=0;function o(){return r<n.length}function i(){return r>0}function s(){return{canUndo:o(),canRedo:i(),length:n.length}}function a(){e.onChange&&e.onChange(s())}return{add:function(e){n=[e].concat(n.slice(r)).slice(0,t),r=0,a()},clear:function(){n=[],r=0,a()},getState:s,undo:function(){if(o()){const e=n[r];return r+=1,a(),e}},redo:function(){if(i())return r-=1,a(),n[r]}}}({onChange:e=>{n(21,ne=e)}});let ne=te.getState();let ie=!1;function se(e){void 0!==e.json&&function(e){if(void 0===e)return;const t=!oh(w,e),r=void 0===w;if(c("update external json",{isChanged:t,isText:r}),!t)return;const o=V,i=w,s=$,a=ie,l=W;n(8,w=e),n(15,V=Pg(w,o,[],U(w),!0)),n(9,$=void 0),n(22,ie=!1),n(10,W=le(W,w)),ue({previousJson:i,previousState:o,previousText:s,previousTextIsRepaired:a,previousSelection:l}),ee()}(e.json),void 0!==e.text&&function(e){if(void 0===e||void 0!==S.json)return;if(e===$)return;c("update external text");const t=w,r=V,o=$,i=ie,s=W;try{n(8,w=JSON.parse(e)),n(15,V=Pg(w,r,[],U(w),!0)),n(9,$=e),n(22,ie=!1),n(10,W=le(W,w))}catch(t){try{n(8,w=JSON.parse(qt(e))),n(15,V=Pg(w,r,[],U(w),!0)),n(9,$=e),n(22,ie=!0),n(10,W=le(W,w))}catch(e){n(8,w=void 0),n(15,V=Eg(w)),n(9,$=S.text),n(22,ie=!1),n(10,W=le(W,w))}}W||void 0!==w||""!==$&&void 0!==$||n(10,W=he());ue({previousJson:t,previousState:r,previousText:o,previousTextIsRepaired:i,previousSelection:s}),ee()}(e.text)}function le(e,t){return e&&Ct.exports.existsIn(t,e.anchorPath)&&Ct.exports.existsIn(t,e.focusPath)?e:(c("clearing selection: path does not exist anymore"),null)}function ue({previousJson:e,previousState:t,previousText:n,previousTextIsRepaired:r,previousSelection:o}){void 0===e&&void 0===n||(void 0!==w?void 0!==e?te.add({undo:{patch:[{op:"replace",path:"",value:e}],state:t,text:n,textIsRepaired:r,selection:cv(o)},redo:{patch:[{op:"replace",path:"",value:w}],state:V,text:$,textIsRepaired:ie,selection:cv(W)}}):te.add({undo:{state:t,text:n,textIsRepaired:r,selection:cv(o)},redo:{json:w,state:V,text:$,textIsRepaired:ie,selection:cv(W)}}):void 0!==e&&te.add({undo:{json:e,state:t,text:n,textIsRepaired:r,selection:cv(o)},redo:{text:$,textIsRepaired:ie,state:V,selection:cv(W)}}))}function he(){return uv(w||{},V,{type:Qg,anchorPath:[],focusPath:[]})}function de(e,t){if(void 0===w)throw new Error("Cannot apply patch: no JSON");const r=w,o=V,i=$,s=ie,a=W;c("patch",e,t);const l=Ct.exports.revertJSONPatch(w,e),u=Tg(w,V,e);return n(8,w=u.json),n(15,V=u.state),n(9,$=void 0),n(22,ie=!1),"function"==typeof t?n(10,W=t(w,V)):t&&n(10,W=t),n(10,W=le(W,w)),te.add({undo:{patch:l,state:o,text:i,textIsRepaired:s,selection:cv(a)},redo:{patch:e,state:V,text:$,textIsRepaired:ie,selection:cv(W)}}),{json:w,previousJson:r,undo:l,redo:e}}function fe(){return W&&(W.type===Qg||W.type===Kg||W.type===Gg)}function pe(){!k&&W&&n(10,W=uv(w,V,{type:Kg,path:W.focusPath,edit:!0}))}function ge(){!k&&W&&n(10,W=uv(w,V,{type:Gg,path:W.focusPath,edit:!0}))}function ve(){if(k||!W||W.type!==Gg)return;const e=W.focusPath,t=e.concat(ut),r=!Ct.exports.getIn(V,t);n(15,V=Ct.exports.setIn(V,t,r,!0));const o=Ct.exports.getIn(w,e),i=r?String(o):Gt(o);i!==o&&qe([{op:"replace",path:Ct.exports.compileJSONPointer(e),value:i}])}async function ye(e=!0){if(k||!fe())return;const t=hv(w,W,e?j:null);if(null==t)return;c("cut",{selection:W,clipboard:t,indent:e});try{await navigator.clipboard.writeText(t)}catch(e){M(e)}const{operations:n,newSelection:r}=_I(w,V,W);qe(n,r)}async function be(e=!0){const t=hv(w,W,e?j:null);if(null!=t){c("copy",{clipboard:t,indent:e});try{await navigator.clipboard.writeText(t)}catch(e){M(e)}}}function xe(){h(FI,{},{...pt,styleWindow:{...pt.styleWindow,width:"450px"}},{onClose:()=>setTimeout(D)})}function we(e){if(void 0!==w){const t=W||he(),n=$I(w,V,t,e),r=!dn({text:e},10240);c("paste",{clipboardText:e,operations:n,selectionOrDefault:t,expandAllRecursive:r}),qe(n),n.filter((e=>Ht(e.value))).forEach((async(e,t)=>{if(r||0===t){We($g(w,e.path),!0,r)}}))}else c("paste",{clipboardText:e}),function(e){const t=V,r=w,o=$,i={json:w,text:$},s=ie,a=W;try{n(8,w=JSON.parse(e)),n(15,V=Pg(w,t,[],gD)),n(9,$=e),n(22,ie=!1),n(10,W=le(W,w))}catch(r){try{n(8,w=JSON.parse(qt(e))),n(15,V=Pg(w,t,[],gD)),n(9,$=e),n(22,ie=!0),n(10,W=le(W,w))}catch(t){n(8,w=void 0),n(15,V=Pg(w,Eg(w),[],gD)),n(9,$=e),n(22,ie=!1),n(10,W=le(W,w))}}ue({previousJson:r,previousState:t,previousText:o,previousTextIsRepaired:s,previousSelection:a});Fe(i,null)}(e),We([],!0,!1)}function $e(){if(k||!W)return;const e=W.type===Kg||W.type===Gg?uv(w,V,{type:Qg,anchorPath:W.anchorPath,focusPath:W.focusPath}):W;if(rh(W.focusPath)){c("remove",{selection:W});T({text:"",json:void 0},{text:$,json:w},null)}else{const{operations:t,newSelection:n}=_I(w,V,e);c("remove",{operations:t,selection:W,newSelection:n}),qe(t,n)}}function ke(){if(k||!fe()||rh(W.focusPath))return;c("duplicate",{selection:W});qe(function(e,t,n){const r=tc(n);if(rh(r))throw new Error("Cannot duplicate root object");const o=Mu(r),i=tc(r),s=Ct.exports.getIn(e,o);if(Array.isArray(s)){const e=tc(n),t=e?parseInt(tc(e),10)+1:0;return[...n.map(((e,n)=>({op:"copy",from:Ct.exports.compileJSONPointer(e),path:Ct.exports.compileJSONPointer(o.concat(n+t))})))]}{const e=zg(t,o),r=Dg(e,i,!1);return[...n.map((t=>{const n=vI(tc(t),e);return{op:"copy",from:Ct.exports.compileJSONPointer(t),path:Ct.exports.compileJSONPointer(o.concat(n))}})),...r.map((e=>SI(o,e)))]}}(w,V,W.paths||[W.focusPath]))}function Se(){if(k||!W||W.type!==Qg&&W.type!==Gg||rh(W.focusPath))return;c("extract",{selection:W});if(qe(function(e,t,n){if(n.type===Gg)return[{op:"move",from:Ct.exports.compileJSONPointer(n.focusPath),path:""}];if(n.type===Qg){const t=Mu(n.focusPath),r=Ct.exports.getIn(e,t);if(Array.isArray(r))return[{op:"replace",path:"",value:n.paths.map((e=>{const t=tc(e);return r[t]}))}];{const e={};return n.paths.forEach((t=>{const n=tc(t);e[n]=r[n]})),[{op:"replace",path:"",value:e}]}}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(n))}(w,0,W)),Ht(w)){We([],!0,!dn({json:w},10240)),Ze()}}function Ce(e){if(k||!W)return;const t=function(e,t,n){if("object"===n)return{};if("array"===n)return[];if("structure"===n){const n=Yg(t),r=Ct.exports.getIn(e,n);if(Array.isArray(r)&&!rh(r)){const e=Uc(r);return Ht(e)?Ba(e,(e=>Array.isArray(e)?[]:Vt(e)?void 0:"")):""}}return""}(w,W,e);if(void 0!==w){const n=JSON.stringify(t),r=$I(w,V,W,n);c("handleInsert",{type:e,operations:r,newValue:t,data:n});const o=tc(r.filter((e=>"add"===e.op||"replace"===e.op)));qe(r,((e,n)=>{if(o){const r=$g(e,o.path);if(Ht(t))return We(r,!0,!0),uv(e||{},n,{type:Jg,path:r});if(""===t){return uv(e,n,{type:Vt(rh(r)?null:Ct.exports.getIn(e,Mu(r)))?Kg:Gg,path:r,edit:!0})}}else;})),o&&(Ze(),""===t&&me().then((()=>{setTimeout((()=>Ae("",!0)))})))}else{c("handleInsert",{type:e,newValue:t}),Ve(t);const r=[];We(r,!0,!0),n(10,W=uv(w,V,{type:Jg,path:r})),Ze()}}function _e(e){W.type===Kg&&n(10,W=uv(w,V,{type:Gg,path:W.focusPath})),Ce(e)}function Oe(e){if(!k&&W)if(fv(W))try{const t=W.anchorPath,n=Ct.exports.getIn(w,t),r=function(e,t){if("array"===t){if(Array.isArray(e))return e;if(Vt(e))return nn(e);if("string"==typeof e){const t=JSON.parse(e);if(Array.isArray(t))return t;if(Vt(t))return nn(t)}}if("object"===t){if(Array.isArray(e))return tn(e);if(Vt(e))return e;if("string"==typeof e){const t=JSON.parse(e);if(Vt(t))return t;if(Array.isArray(t))return tn(t)}}if("value"===t)return Ht(e)?JSON.stringify(e):e;throw new Error(`Cannot convert ${Ut(e)} to ${t}`)}(n,e);if(r===n)return;const o=[{op:"replace",path:Ct.exports.compileJSONPointer(t),value:r}];if(c("handleConvert",{selection:W,path:t,type:e,operations:o}),qe(o),Ht(r)){const e=!dn({json:r},10240);We(W.focusPath,!0,e),Ze()}}catch(e){M(e)}else M(new Error(`Cannot convert current selection to ${e}`))}function Pe(){const e=ev(w,V,W,!1),t=Mu(W.focusPath);!rh(e.focusPath)&&oh(t,Mu(e.focusPath))?n(10,W=uv(w,V,{type:Ug,path:e.focusPath})):n(10,W=uv(w,V,{type:Jg,path:t})),c("insert before",{selection:W,selectionBefore:e,parentPath:t}),me().then(Ye)}function Ee(){const e=W.paths?tc(W.paths):W.focusPath;c("insert after",e),n(10,W=uv(w,V,{type:Ug,path:e})),me().then(Ye)}function Ae(e,t){const n=Mv(y).document.activeElement;n.isContentEditable&&(n.textContent=t?e:n.textContent+e,jv(n))}async function je(e){if(!k&&W){if(W.type===Kg){const t=!W.edit;return n(10,W={...W,edit:!0}),await me(),void setTimeout((()=>Ae(e,t)))}if("{"===e)Ce("object");else if("["===e)Ce("array");else if(W.type===Gg){if(!Ht(Ct.exports.getIn(w,W.focusPath))){const t=!W.edit;n(10,W={...W,edit:!0}),await me(),setTimeout((()=>Ae(e,t)))}}else await async function(e){if(k||!W)return;Ce("value");const t=!W.edit,r=W.focusPath,o=Ct.exports.getIn(w,Mu(r));n(10,W=uv(w,V,{type:Array.isArray(o)||W.type===Gg?Gg:Kg,path:r,edit:!0})),await me(),setTimeout((()=>Ae(e,t)))}(e)}}function Me(){if(k)return;if(!te.getState().canUndo)return;const e=te.undo();if(!e)return;const t={json:w,text:$};n(10,W=e.undo.selection),n(8,w=e.undo.patch?Ct.exports.immutableJSONPatch(w,e.undo.patch):e.undo.json),n(15,V=e.undo.state),n(9,$=e.undo.text),n(22,ie=e.undo.textIsRepaired),c("undo",{item:e,json:w,state:V,selection:W});Fe(t,{json:w,previousJson:t.json,redo:e.undo.patch,undo:e.redo.patch}),Ze(),W&&De(W.focusPath)}function Te(){if(k)return;if(!te.getState().canRedo)return;const e=te.redo();if(!e)return;const t={json:w,text:$};n(10,W=e.redo.selection),n(8,w=e.redo.patch?Ct.exports.immutableJSONPatch(w,e.redo.patch):e.redo.json),n(15,V=e.redo.state),n(9,$=e.redo.text),n(22,ie=e.redo.textIsRepaired),c("redo",{item:e,json:w,state:V,selection:W});Fe(t,{json:w,previousJson:t.json,redo:e.redo.patch,undo:e.undo.patch}),Ze(),W&&De(W.focusPath)}function Ie(e){k||(q=!0,B({id:d,json:w,selectedPath:e,onSort:async t=>{c("onSort",e,t);qe(t,uv(w,V,{type:Gg,path:e})),We(e,!0)},onClose:()=>{q=!1,Ze()}}))}function ze(){if(!W)return;Ie(av(w,W))}function Ne({id:e,selectedPath:t,onTransform:n,onClose:r}){q=!0,F({id:e||f,json:w,selectedPath:t,onTransform:n?e=>{n({operations:e,json:w,transformedJson:Ct.exports.immutableJSONPatch(w,e)})}:e=>{c("onTransform",t,e);qe(e,uv(w,V,{type:Gg,path:t})),We(t,!0)},onClose:()=>{q=!1,Ze(),r&&r()}})}function Re(){if(!W)return;Ne({selectedPath:av(w,W)})}async function De(e){n(15,V=Mg(w,V,e)),await me();const t=Le(e);if(t){c("scrollTo",{path:e,elem:t,refContents:g});const n=-g.getBoundingClientRect().height/4;x(t,{container:g,offset:n,duration:300})}}function Le(e){return g?g.querySelector(`div[data-path="${Nv(e)}"]`):null}function Be(e){const t=Le(e);if(!t||!g)return;const n=g.getBoundingClientRect(),r=t.getBoundingClientRect(),o=Ht(Ct.exports.getIn(w,e))?20:r.height;r.top<n.top+20?x(t,{container:g,offset:-20,duration:0}):r.top+o>n.bottom-20&&x(t,{container:g,offset:-(n.height-o-20),duration:0})}function Fe(e,t){void 0!==$?T({text:$,json:void 0},e,t):void 0!==w&&T({text:void 0,json:w},e,t)}function qe(e,t=ov(w,0,e)){if(k)return;c("handlePatch",e,t);const r={json:w,text:$},o=de(e,t);return n(16,H=void 0),Fe(r,o),o}function Ve(e){const t=V,r=w,o=$,i={json:w,text:$},s=ie,a=W;n(8,w=e),n(15,V=Pg(w,t,[],gD)),n(9,$=void 0),n(22,ie=!1),n(10,W=le(W,w)),ue({previousJson:r,previousState:t,previousText:o,previousTextIsRepaired:s,previousSelection:a});Fe(i,null)}function We(e,t,r=!1){r?n(15,V=Ct.exports.updateIn(V,e,(n=>Pg(Ct.exports.getIn(w,e),n,[],(()=>t),!0)))):(n(15,V=Ct.exports.setIn(V,e.concat(it),t,!0)),n(15,V=Ct.exports.updateIn(V,e,(t=>Pg(Ct.exports.getIn(w,e),t,[],gD,!1))))),W&&!t&&function(e,t){return lv(e.focusPath,t)&&(e.focusPath.length>t.length||e.type===Jg)}(W,e)&&n(10,W=null),setTimeout((()=>{Tv(y)||Ze()}))}function Ue(e,t){n(10,W=e?uv(w,V,e):null),!1!==t?.ensureFocus&&setTimeout((()=>Ze()))}function Je(e){c("openFind",{findAndReplace:e}),n(17,K=!1),n(18,G=!1),me().then((()=>{n(17,K=!0),n(18,G=e)}))}function Ke(e,t){c("handleExpandSection",e,t),n(15,V=function(e,t,n,r){return Pg(e,Ct.exports.updateIn(t,n.concat(st),(e=>Sg(e.concat(r)))),n,(()=>!1))}(w,V,e,t))}function Ge(e){c("pasted json as text",e),n(16,H=e)}function Qe({anchor:e,left:t,top:n,width:r,height:o,offsetTop:i,offsetLeft:s,showTip:a}){q=!0,p(yz,{json:w,state:V,selection:W,showTip:a,onEditKey:pe,onEditValue:ge,onToggleEnforceString:ve,onCut:ye,onCopy:be,onPaste:xe,onRemove:$e,onDuplicate:ke,onExtract:Se,onInsertBefore:Pe,onInsert:_e,onConvert:Oe,onInsertAfter:Ee,onSort:ze,onTransform:Re,onCloseContextMenu(){m(),Ze()}},{left:t,top:n,offsetTop:i,offsetLeft:s,width:r,height:o,anchor:e,closeOnOuterClick:!0,onClose:()=>{q=!1,Ze()}})}function Ye(e){if(!k&&W&&!W.edit&&g){if(e&&(e.stopPropagation(),e.preventDefault()),e&&"contextmenu"===e.type&&e.target!==v)Qe({left:e.clientX,top:e.clientY,width:260,height:336,showTip:!1});else{const e=g.querySelector(".context-menu-button.selected");if(e)Qe({anchor:e,offsetTop:2,width:260,height:336,showTip:!1});else{const e=g.getBoundingClientRect();Qe({top:e.top+2,left:e.left+2,width:260,height:336,showTip:!1})}}return!1}}function Ze(){v.focus(),v.select()}function Xe(){return w}function et(){return V}function tt(){return W}return e.$$set=e=>{"readOnly"in e&&n(0,k=e.readOnly),"externalContent"in e&&n(50,S=e.externalContent),"mainMenuBar"in e&&n(1,C=e.mainMenuBar),"navigationBar"in e&&n(2,_=e.navigationBar),"escapeControlCharacters"in e&&n(51,O=e.escapeControlCharacters),"escapeUnicodeCharacters"in e&&n(52,P=e.escapeUnicodeCharacters),"validator"in e&&n(53,E=e.validator),"visible"in e&&n(3,A=e.visible),"indentation"in e&&n(54,j=e.indentation),"onError"in e&&n(55,M=e.onError),"onChange"in e&&n(56,T=e.onChange),"onRenderValue"in e&&n(57,I=e.onRenderValue),"onRequestRepair"in e&&n(4,z=e.onRequestRepair),"onRenderMenu"in e&&n(5,N=e.onRenderMenu),"onClassName"in e&&n(58,R=e.onClassName),"onFocus"in e&&n(59,D=e.onFocus),"onBlur"in e&&n(60,L=e.onBlur),"onSortModal"in e&&n(61,B=e.onSortModal),"onTransformModal"in e&&n(62,F=e.onTransformModal)},e.$$.update=()=>{3145728&e.$$.dirty[1]&&n(72,r=mv({escapeControlCharacters:O,escapeUnicodeCharacters:P})),1280&e.$$.dirty[0]&&n(24,o=dv(w,W)),256&e.$$.dirty[0]|256&e.$$.dirty[2]&&ee(Y,w),524288&e.$$.dirty[1]&&se(S),e.$$.dirty[0],256&e.$$.dirty[0]|4194304&e.$$.dirty[1]&&n(12,i=E?E(w):[]),4096&e.$$.dirty[0]&&n(23,s=function(e){let t;return e.forEach((e=>{const n=e.path.concat([dt]);t=Ct.exports.setIn(t,n,e,!0)})),e.forEach((e=>{let n=e.path;for(;n.length>0;){n=Mu(n);const e=n.concat([dt]);if(!Ct.exports.existsIn(t,e)){const r={isChildError:!0,path:n,message:"Contains invalid data"};t=Ct.exports.setIn(t,e,r,!0)}}})),t}(i)),128&e.$$.dirty[0]&&n(71,l=pI(g)),1&e.$$.dirty[0]|201326592&e.$$.dirty[1]|1536&e.$$.dirty[2]&&n(11,a={readOnly:k,normalization:r,getFullJson:Xe,getFullState:et,getFullSelection:tt,findElement:Le,onPatch:qe,onInsert:Ce,onExpand:We,onSelect:Ue,onFind:Je,onPasteJson:Ge,onExpandSection:Ke,onRenderValue:I,onContextMenu:Qe,onClassName:R||mD,onDrag:l.onDrag,onDragEnd:l.onDragEnd}),2048&e.$$.dirty[0]&&c("context changed",a)},[k,C,_,A,z,N,function(){return ie&&void 0!==w&&Ve(w),{json:w,text:$}},g,w,$,W,a,i,v,y,V,H,K,G,Q,J,ne,ie,s,o,u,[],Z,async function(){n(20,J=J?function(e){const t=e.activeIndex<e.flatItems.length-1?e.activeIndex+1:e.flatItems.length>0?0:-1,n=e.flatItems[t],r=n?Ct.exports.setIn(e.items,MI(n),!0,!0):e.items;return{...e,itemsWithActive:r,activeItem:n,activeIndex:t}}(J):J),await X(J&&J.activeItem)},async function(){n(20,J=J?function(e){const t=e.activeIndex>0?e.activeIndex-1:e.flatItems.length-1,n=e.flatItems[t],r=n?Ct.exports.setIn(e.items,MI(n),!0,!0):e.items;return{...e,itemsWithActive:r,activeItem:n,activeIndex:t}}(J):J),await X(J&&J.activeItem)},async function(e,t){const n=J.activeItem;if(c("handleReplace",{replacementText:t,activeItem:n}),!J||!n)return;const{operations:r,newSelection:o}=function(e,t,n,r){const{field:o,path:i,start:s,end:a}=r;if(o===lt){const r=Mu(i),o=tc(i),l=wI(r,zg(t,r),o,AI(o,n,s,a));return{newSelection:ov(e,0,l),operations:l}}if(o===ct){const r=Ct.exports.getIn(e,i);if(void 0===r)throw new Error(`Cannot replace: path not found ${Ct.exports.compileJSONPointer(i)}`);const o="string"==typeof r?r:String(r),l=Ct.exports.getIn(t,i.concat([ut]))||!1,c=AI(o,n,s,a),u=[{op:"replace",path:Ct.exports.compileJSONPointer(i),value:l?c:Gt(c)}];return{newSelection:ov(e,0,u),operations:u}}throw new Error(`Cannot replace: unknown type of search result field ${o}`)}(w,V,t,n);qe(r,o),await me(),await X(J&&J.activeItem)},async function(e,t){c("handleReplaceAll",{text:e,replacementText:t});const{operations:n,newSelection:r}=function(e,t,n,r){const o=PI(n,e,t,1/0),i=[];for(let e=0;e<o.length;e++){const t=o[e-1],n=o[e];0!==e&&n.field===t.field&&oh(n.path,t.path)?tc(i).items.push(n):i.push({path:n.path,field:n.field,items:[n]})}i.sort(((e,t)=>e.field!==t.field?e.field===lt?1:-1:t.path.length-e.path.length));let s,a=[];return i.forEach((n=>{const{field:o,path:i,items:l}=n;if(o===lt){const n=Mu(i),o=tc(i),c=wI(n,zg(t,n),o,jI(o,r,l));a=a.concat(c),s=ov(e,0,c)}else{if(o!==ct)throw new Error(`Cannot replace: unknown type of search result field ${o}`);{const n=Ct.exports.getIn(e,i);if(void 0===n)throw new Error(`Cannot replace: path not found ${Ct.exports.compileJSONPointer(i)}`);const o="string"==typeof n?n:String(n),c=Ct.exports.getIn(t,i.concat([ut]))||!1,u=jI(o,r,l),h=[{op:"replace",path:Ct.exports.compileJSONPointer(i),value:c?u:Gt(u)}];a=a.concat(h),s=ov(e,0,h)}}})),{operations:a,newSelection:s}}(w,V,e,t);qe(n,r),await me(),await X(J&&J.activeItem)},function(){n(17,K=!1),n(18,G=!1),Z(""),Ze()},function(e){c("select validation error",e),n(10,W=uv(w,V,{type:Gg,path:e.path})),De(e.path),Ze()},be,function(e){if(e.preventDefault(),k)return;const t=e.clipboardData.getData("text/plain");try{we(t)}catch(e){!function(e,t){h(YI,{text:e,onParse:sn,onRepair:an,onApply:t,onRenderMenu:N,onFocus:D,onBlur:L},{...pt,styleWindow:{...pt.styleWindow,width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}},{onClose:()=>Ze()})}(t,(e=>{c("repaired pasted text: ",e),we(e)}))}},Me,Te,function(){Ie([])},function(){Ne({selectedPath:[]})},function(){We([],!0,!0)},function(){We([],!1,!0)},function(e){const t=Lv(e).replace(/^Command\+/,"Ctrl+"),r=e.shiftKey;if("Ctrl+X"===t&&(e.preventDefault(),ye(!0)),"Ctrl+Shift+X"===t&&(e.preventDefault(),ye(!1)),"Ctrl+C"===t&&(e.preventDefault(),be(!0)),"Ctrl+Shift+C"===t&&(e.preventDefault(),be(!1)),"Ctrl+D"===t&&(e.preventDefault(),ke()),"Delete"!==t&&"Backspace"!==t||(e.preventDefault(),$e()),"Insert"===t&&(e.preventDefault(),Ce("structure")),"Ctrl+A"===t&&(e.preventDefault(),n(10,W={type:Gg,anchorPath:[],focusPath:[]})),"Ctrl+Q"===t&&Ye(e),"Up"!==t&&"Shift+Up"!==t||(e.preventDefault(),n(10,W=W?ev(w,V,W,r,!0)||W:rv(w,V)),Be(W.focusPath)),"Down"!==t&&"Shift+Down"!==t||(e.preventDefault(),n(10,W=W?tv(w,V,W,r,!0)||W:rv(w,V)),Be(W.focusPath)),"Left"!==t&&"Shift+Left"!==t||(e.preventDefault(),n(10,W=W?function(e,t,n,r=!1,o=!0){const{caret:i,previous:s}=nv(e,t,n,o);if(r)return n.type!==Qg?uv(e,t,{type:Qg,anchorPath:n.anchorPath,focusPath:n.focusPath}):null;if(i&&s)return uv(e,t,{type:s.type,path:s.path});const a=Mu(n.focusPath),l=Ct.exports.getIn(e,a);return n.type===Gg&&Array.isArray(l)?uv(e,t,{type:Qg,anchorPath:n.focusPath,focusPath:n.focusPath}):n.type!==Qg||Array.isArray(l)?null:uv(e,t,{type:Kg,path:n.focusPath})}(w,V,W,r,!k)||W:rv(w,V)),Be(W.focusPath)),"Right"!==t&&"Shift+Right"!==t||(e.preventDefault(),n(10,W=W?function(e,t,n,r=!1,o=!0){const{caret:i,next:s}=nv(e,t,n,o);return r?n.type!==Qg?uv(e,t,{type:Qg,anchorPath:n.anchorPath,focusPath:n.focusPath}):null:i&&s?uv(e,t,{type:s.type,path:s.path}):n.type===Qg?uv(e,t,{type:Gg,path:n.focusPath}):null}(w,V,W,r,!k)||W:rv(w,V)),Be(W.focusPath)),"Enter"===t&&W){if(!k&&W.type===Qg&&1===W.paths.length){const e=W.focusPath,t=Ct.exports.getIn(w,Mu(e));Array.isArray(t)&&n(10,W=uv(w,V,{type:Gg,path:e}))}if(k||W.type!==Kg||(e.preventDefault(),n(10,W={...W,edit:!0})),W.type===Gg){e.preventDefault();Ht(Ct.exports.getIn(w,W.focusPath))?We(W.focusPath,!0):k||n(10,W={...W,edit:!0})}}if(t.length===(t.startsWith("Shift+")?7:1)&&W)return e.preventDefault(),void je(e.key);if("Enter"===t&&(W.type===Ug||W.type===Jg))return e.preventDefault(),void je("");if("Ctrl+Enter"===t&&W&&W.type===Gg){const e=Ct.exports.getIn(w,W.focusPath);Kt(e)&&window.open(e,"_blank")}if("Escape"===t&&W&&(e.preventDefault(),n(10,W=null)),"Ctrl+F"===t&&(e.preventDefault(),Je(!1)),"Ctrl+H"===t&&(e.preventDefault(),Je(!0)),"Ctrl+Z"===t){e.preventDefault();const t=document.activeElement;t&&t.blur&&t.focus?(t.blur(),setTimeout((()=>{Me(),setTimeout((()=>t.select()))}))):Me()}if("Ctrl+Shift+Z"===t){e.preventDefault();const t=document.activeElement;t&&t.blur&&t.focus?(t.blur(),setTimeout((()=>{Te(),setTimeout((()=>t.select()))}))):Te()}},function(e){c("handleMouseDown",e),setTimeout((()=>{setTimeout((()=>{b||Ov(e.target,"BUTTON")||(Ze(),W||void 0!==w||""!==$&&void 0!==$||n(10,W=he()))}))}))},Ye,function(e){k||Qe({anchor:Iv(e.target,"BUTTON"),offsetTop:0,width:260,height:336,showTip:!0})},async function(){const{path:e,contents:t}=H;n(10,W=uv(w,V,{type:Gg,path:e})),await me(),qe([{op:"replace",path:Ct.exports.compileJSONPointer(e),value:t}]),We(e,!0)},function(){n(16,H=void 0)},function(e){n(10,W=e),Ze(),De(e.focusPath)},function(e){!Ev(e.target,(e=>e===y))&&W&&W.edit&&(c("click outside the editor, stop edit mode"),n(10,W={...W,edit:!1}),b&&(v.focus(),v.blur()),me().then((()=>{setTimeout((()=>{v.blur()}))})))},S,O,P,E,j,M,T,I,R,D,L,B,F,function(e=(()=>!0)){n(15,V=Pg(w,V,[],e,!0))},function(){return w},de,Ne,De,Le,Ze,Y,l,r,function(e){K=e,n(17,K)},function(e){ce[e?"unshift":"push"]((()=>{v=e,n(13,v)}))},function(e){ce[e?"unshift":"push"]((()=>{g=e,n(7,g)}))},function(e){ce[e?"unshift":"push"]((()=>{y=e,n(14,y)}))}]}class bD extends Ve{constructor(e){super(),qe(this,e,yD,pD,l,{readOnly:0,externalContent:50,mainMenuBar:1,navigationBar:2,escapeControlCharacters:51,escapeUnicodeCharacters:52,validator:53,visible:3,indentation:54,onError:55,onChange:56,onRenderValue:57,onRequestRepair:4,onRenderMenu:5,onClassName:58,onFocus:59,onBlur:60,onSortModal:61,onTransformModal:62,expand:63,get:64,patch:65,acceptAutoRepair:6,openTransformModal:66,scrollTo:67,findElement:68,focus:69},rD,[-1,-1,-1,-1,-1])}get expand(){return this.$$.ctx[63]}get get(){return this.$$.ctx[64]}get patch(){return this.$$.ctx[65]}get acceptAutoRepair(){return this.$$.ctx[6]}get openTransformModal(){return this.$$.ctx[66]}get scrollTo(){return this.$$.ctx[67]}get findElement(){return this.$$.ctx[68]}get focus(){return this.$$.ctx[69]}}const xD={id:"javascript",name:"JavaScript",description:"\n<p>\n  Enter a JavaScript function to filter, sort, or transform the data.\n</p>\n",createQuery:function(e,t){const{filter:n,sort:r,projection:o}=t,i=[];if(n&&n.path&&n.relation&&n.value){const e=`item => item${sb(n.path)}`;i.push(`  data = data.filter(${e} ${n.relation} '${n.value}')\n`)}r&&r.path&&r.direction&&("desc"===r.direction?i.push(`  data = data.slice().sort((a, b) => {\n    // sort descending\n    const valueA = a${sb(r.path)}\n    const valueB = b${sb(r.path)}\n    return valueA > valueB ? -1 : valueA < valueB ? 1 : 0\n  })\n`):i.push(`  data = data.slice().sort((a, b) => {\n    // sort ascending\n    const valueA = a${sb(r.path)}\n    const valueB = b${sb(r.path)}\n    return valueA > valueB ? 1 : valueA < valueB ? -1 : 0\n  })\n`));if(o&&o.paths)if(o.paths.length>1){const e=o.paths.map((e=>{const t=e[e.length-1]||"item",n=`item${sb(e)}`;return`    ${JSON.stringify(t)}: ${n}`}));i.push(`  data = data.map(item => ({\n${e.join(",\n")}})\n  )\n`)}else{const e=`item${sb(o.paths[0])}`;i.push(`  data = data.map(item => ${e})\n`)}return i.push("  return data\n"),`function query (data) {\n${i.join("")}}`},executeQuery:function(e,t){const n=new Function('"use strict";\n\n'+t+'\n\nif (typeof query !== "function") {\n  throw new Error("Cannot execute query: expecting a function named \'query\' but is undefined")\n}\n\nreturn query;\n')()(e);return void 0!==n?n:null}};function wD(e){$(e,"svelte-ovobas",".boolean-toggle.svelte-ovobas{color:#ff8c00;position:relative;display:flex;top:1px;padding-left:5px}")}function $D(e){let t,n,r,o,i,s;return n=new Qy({props:{data:!0===e[0]?uz:cz}}),{c(){t=E("div"),Le(n.$$.fragment),N(t,"class","boolean-toggle svelte-ovobas"),N(t,"title",r=e[1]?`Boolean value ${e[0]}`:"Click to toggle this boolean value")},m(r,a){_(r,t,a),Be(n,t,null),o=!0,i||(s=I(t,"mousedown",e[2]),i=!0)},p(e,[i]){const s={};1&i&&(s.data=!0===e[0]?uz:cz),n.$set(s),(!o||3&i&&r!==(r=e[1]?`Boolean value ${e[0]}`:"Click to toggle this boolean value"))&&N(t,"title",r)},i(e){o||(Pe(n.$$.fragment,e),o=!0)},o(e){Ee(n.$$.fragment,e),o=!1},d(e){e&&O(t),Fe(n),i=!1,s()}}}function kD(e,t,n){let{path:r}=t,{value:o}=t,{readOnly:i}=t,{onPatch:s}=t;return e.$$set=e=>{"path"in e&&n(3,r=e.path),"value"in e&&n(0,o=e.value),"readOnly"in e&&n(1,i=e.readOnly),"onPatch"in e&&n(4,s=e.onPatch)},[o,i,function(e){e.stopPropagation(),i||s([{op:"replace",path:Ct.exports.compileJSONPointer(r),value:!o}],null)},r,s]}class SD extends Ve{constructor(e){super(),qe(this,e,kD,$D,l,{path:3,value:0,readOnly:1,onPatch:4},wD)}}function CD(t){let n;return{c(){n=E("div"),N(n,"class","jse-color-picker-popup")},m(e,r){_(e,n,r),t[4](n)},p:e,i:e,o:e,d(e){e&&O(n),t[4](null)}}}function _D(e,t,n){let r,o,{color:i}=t,{onChange:s}=t,{showOnTop:a}=t;return re((async()=>{const e=(await Promise.resolve().then((function(){return NF}))).default;o=new e({parent:r,color:i,popup:a?"top":"bottom",onDone(e){const t=1===e.rgba[3]?e.hex.substring(0,7):e.hex;s(t)}}),o.show()})),oe((()=>{o&&o.destroy()})),e.$$set=e=>{"color"in e&&n(1,i=e.color),"onChange"in e&&n(2,s=e.onChange),"showOnTop"in e&&n(3,a=e.showOnTop)},[r,i,s,a,function(e){ce[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class OD extends Ve{constructor(e){super(),qe(this,e,_D,CD,a,{color:1,onChange:2,showOnTop:3})}}function PD(e){$(e,"svelte-tiq4kj",".jse-color.svelte-tiq4kj{width:14px;height:14px;box-sizing:border-box;padding:0;margin:2px;border:1px solid #1a1a1a;border-radius:2px;background:#fff;outline:none;cursor:pointer}")}function ED(t){let n,r,o,i;return{c(){n=E("button"),N(n,"class","jse-color svelte-tiq4kj"),q(n,"background",t[2]),N(n,"title",r=t[1]?`Color ${t[0]}`:"Click to open a color picker")},m(e,r){_(e,n,r),o||(i=I(n,"click",t[3]),o=!0)},p(e,[t]){4&t&&q(n,"background",e[2]),3&t&&r!==(r=e[1]?`Color ${e[0]}`:"Click to open a color picker")&&N(n,"title",r)},i:e,o:e,d(e){e&&O(n),o=!1,i()}}}function AD(e,t,n){let r;const{openAbsolutePopup:o}=ae("absolute-popup");let{path:i}=t,{value:s}=t,{readOnly:a}=t,{onPatch:l}=t;function c(e){l([{op:"replace",path:Ct.exports.compileJSONPointer(i),value:e}],null)}return e.$$set=e=>{"path"in e&&n(4,i=e.path),"value"in e&&n(0,s=e.value),"readOnly"in e&&n(1,a=e.readOnly),"onPatch"in e&&n(5,l=e.onPatch)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=Wt(s))},[s,a,r,function(e){if(a)return;const t=e.target.getBoundingClientRect().top,n=Mv(e.target).innerHeight;o(OD,{color:s,onChange:c,showOnTop:n-t<300&&t>300},{anchor:e.target,closeOnOuterClick:!0,offsetTop:18,offsetLeft:-8,height:300})},i,l]}class jD extends Ve{constructor(e){super(),qe(this,e,AD,ED,l,{path:4,value:0,readOnly:1,onPatch:5},PD)}}function MD(e){const t=Ut(e);return xz(Gg,t,{url:Kt(e),empty:"string"==typeof e&&0===e.length})}function TD(e){let t,n;return t=new Vz({props:{value:e[1].escapeValue(e[0]),onChange:e[3],onCancel:e[4],onPaste:e[5],onFind:e[2],onValueClass:e[6]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.value=e[1].escapeValue(e[0])),4&n&&(r.onFind=e[2]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function ID(e,t,n){let{path:r}=t,{value:o}=t,{normalization:i}=t,{enforceString:s}=t,{onPatch:a}=t,{onPasteJson:l}=t,{onSelect:c}=t,{onFind:u}=t;function h(e){return s?e:Gt(e)}return e.$$set=e=>{"path"in e&&n(7,r=e.path),"value"in e&&n(0,o=e.value),"normalization"in e&&n(1,i=e.normalization),"enforceString"in e&&n(8,s=e.enforceString),"onPatch"in e&&n(9,a=e.onPatch),"onPasteJson"in e&&n(10,l=e.onPasteJson),"onSelect"in e&&n(11,c=e.onSelect),"onFind"in e&&n(2,u=e.onFind)},[o,i,u,function(e,t){a([{op:"replace",path:Ct.exports.compileJSONPointer(r),value:h(i.unescapeValue(e))}],null),t===wt&&c({type:Gg,path:r,nextInside:!0}),t===xt&&c({type:Gg,path:r},{ensureFocus:!1})},function(){c({type:Gg,path:r})},function(e){try{const t=JSON.parse(e);Ht(t)&&l({path:r,contents:t})}catch(e){}},function(e){return MD(h(i.unescapeValue(e)))},r,s,a,l,c]}class zD extends Ve{constructor(e){super(),qe(this,e,ID,TD,l,{path:7,value:0,normalization:1,enforceString:8,onPatch:9,onPasteJson:10,onSelect:11,onFind:2})}}function ND(e){$(e,"svelte-17nsw2n",'.value.string.svelte-17nsw2n{color:#008000}.value.object.svelte-17nsw2n,.value.array.svelte-17nsw2n{min-width:16px;color:rgba(0, 0, 0, 0.38)}.value.number.svelte-17nsw2n{color:#ee422e}.value.boolean.svelte-17nsw2n{color:#ff8c00}.value.null.svelte-17nsw2n{color:#004ed0}.value.invalid.svelte-17nsw2n{color:#1a1a1a}.value.url.svelte-17nsw2n{color:#008000;text-decoration:underline}.value.svelte-17nsw2n{line-height:18px;min-width:16px;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.value.svelte-17nsw2n:hover{background:rgba(0, 0, 0, 0.06)}.value.empty.svelte-17nsw2n{min-width:4em;outline:1px dotted rgba(0, 0, 0, 0.25);-moz-outline-radius:2px}.value.empty.svelte-17nsw2n::after{pointer-events:none;color:rgba(0, 0, 0, 0.25);content:"value"}')}function RD(t){let n,r=_v(t[1].escapeValue(t[0]))+"";return{c(){n=j(r)},m(e,t){_(e,n,t)},p(e,t){3&t&&r!==(r=_v(e[1].escapeValue(e[0]))+"")&&B(n,r)},i:e,o:e,d(e){e&&O(n)}}}function DD(e){let t,n;return t=new Lz({props:{text:e[1].escapeValue(e[0]),searchResult:e[2]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.text=e[1].escapeValue(e[0])),4&n&&(r.searchResult=e[2]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function LD(e){let t,n,r,o,s,a,l,c;const u=[DD,RD],h=[];function d(e,t){return e[2]?0:1}return n=d(e),r=h[n]=u[n](e),{c(){t=E("div"),r.c(),N(t,"data-type","selectable-value"),N(t,"class",o=p(MD(e[0]))+" svelte-17nsw2n"),N(t,"title",s=e[3]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m(r,o){_(r,t,o),h[n].m(t,null),a=!0,l||(c=[I(t,"click",e[4]),I(t,"dblclick",e[5])],l=!0)},p(e,[i]){let l=n;n=d(e),n===l?h[n].p(e,i):(_e(),Ee(h[l],1,1,(()=>{h[l]=null})),Oe(),r=h[n],r?r.p(e,i):(r=h[n]=u[n](e),r.c()),Pe(r,1),r.m(t,null)),(!a||1&i&&o!==(o=p(MD(e[0]))+" svelte-17nsw2n"))&&N(t,"class",o),(!a||8&i&&s!==(s=e[3]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&N(t,"title",s)},i(e){a||(Pe(r),a=!0)},o(e){Ee(r),a=!1},d(e){e&&O(t),h[n].d(),l=!1,i(c)}}}function BD(e,t,n){let r,{path:o}=t,{value:i}=t,{readOnly:s}=t,{normalization:a}=t,{onSelect:l}=t,{searchResult:c}=t;return e.$$set=e=>{"path"in e&&n(6,o=e.path),"value"in e&&n(0,i=e.value),"readOnly"in e&&n(7,s=e.readOnly),"normalization"in e&&n(1,a=e.normalization),"onSelect"in e&&n(8,l=e.onSelect),"searchResult"in e&&n(2,c=e.searchResult)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=Kt(i))},[i,a,c,r,function(e){r&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),window.open(i,"_blank"))},function(e){s||(e.preventDefault(),l({type:Gg,path:o,edit:!0}))},o,s,l]}class FD extends Ve{constructor(e){super(),qe(this,e,BD,LD,l,{path:6,value:0,readOnly:7,normalization:1,onSelect:8,searchResult:2},ND)}}function qD(e){let t,n,r,o,i,a;return n=new Qy({props:{data:az}}),{c(){t=E("div"),Le(n.$$.fragment),N(t,"class","jse-timestamp")},m(s,l){_(s,t,l),Be(n,t,null),o=!0,i||(a=m(r=lN.call(null,t,{text:e[0],...e[1]})),i=!0)},p(e,[t]){r&&s(r.update)&&1&t&&r.update.call(null,{text:e[0],...e[1]})},i(e){o||(Pe(n.$$.fragment,e),o=!0)},o(e){Ee(n.$$.fragment,e),o=!1},d(e){e&&O(t),Fe(n),i=!1,a()}}}function VD(e,t,n){let r;const o=ae("absolute-popup");let{value:i}=t;return e.$$set=e=>{"value"in e&&n(2,i=e.value)},e.$$.update=()=>{4&e.$$.dirty&&n(0,r=`Time: ${new Date(i).toString()}`)},[r,o,i]}class HD extends Ve{constructor(e){super(),qe(this,e,VD,qD,l,{value:2})}}function WD({path:e,value:t,readOnly:n,enforceString:r,searchResult:o,isEditing:i,normalization:s,onPatch:a,onPasteJson:l,onSelect:c,onFind:u}){const h=[];return!i&&function(e){return!0===e||!1===e}(t)&&h.push({component:SD,props:{path:e,value:t,readOnly:n,onPatch:a}}),!i&&function(e){return!!Wt(e)}(t)&&h.push({component:jD,props:{path:e,value:t,readOnly:n,onPatch:a}}),i&&h.push({component:zD,props:{path:e,value:t,enforceString:r,normalization:s,onPatch:a,onPasteJson:l,onSelect:c,onFind:u}}),i||h.push({component:FD,props:{path:e,value:t,readOnly:n,normalization:s,searchResult:o,onSelect:c}}),!i&&function(e){return"number"==typeof e&&e>9466848e5&&isFinite(e)&&Math.floor(e)===e&&!isNaN(new Date(e).valueOf())}(t)&&h.push({component:HD,props:{value:t}}),h}const UD={};function JD(e){$(e,"svelte-3e0qet",".item.svelte-3e0qet{cursor:default;height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--itemPadding, 0 20px);color:var(--itemColor, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.groupHeader.svelte-3e0qet{text-transform:var(--groupTitleTextTransform, uppercase)}.groupItem.svelte-3e0qet{padding-left:var(--groupItemPaddingLeft, 40px)}.item.svelte-3e0qet:active{background:var(--itemActiveBackground, #b9daff)}.item.active.svelte-3e0qet{background:var(--itemIsActiveBG, #007aff);color:var(--itemIsActiveColor, #fff)}.item.notSelectable.svelte-3e0qet{color:var(--itemIsNotSelectableColor, #999)}.item.first.svelte-3e0qet{border-radius:var(--itemFirstBorderRadius, 4px 4px 0 0)}.item.hover.svelte-3e0qet:not(.active){background:var(--itemHoverBG, #e7f2ff);color:var(--itemHoverColor, inherit)}")}function KD(t){let n,r,o=t[0](t[1],t[2])+"";return{c(){n=E("div"),N(n,"class",r="item "+t[3]+" svelte-3e0qet")},m(e,t){_(e,n,t),n.innerHTML=o},p(e,[t]){7&t&&o!==(o=e[0](e[1],e[2])+"")&&(n.innerHTML=o),8&t&&r!==(r="item "+e[3]+" svelte-3e0qet")&&N(n,"class",r)},i:e,o:e,d(e){e&&O(n)}}}function GD(e,t,n){let{isActive:r=!1}=t,{isFirst:o=!1}=t,{isHover:i=!1}=t,{isSelectable:s=!1}=t,{getOptionLabel:a}=t,{item:l}=t,{filterText:c=""}=t,u="";return e.$$set=e=>{"isActive"in e&&n(4,r=e.isActive),"isFirst"in e&&n(5,o=e.isFirst),"isHover"in e&&n(6,i=e.isHover),"isSelectable"in e&&n(7,s=e.isSelectable),"getOptionLabel"in e&&n(0,a=e.getOptionLabel),"item"in e&&n(1,l=e.item),"filterText"in e&&n(2,c=e.filterText)},e.$$.update=()=>{if(242&e.$$.dirty){const e=[];r&&e.push("active"),o&&e.push("first"),i&&e.push("hover"),l.isGroupHeader&&e.push("groupHeader"),l.isGroupItem&&e.push("groupItem"),s||e.push("notSelectable"),n(3,u=e.join(" "))}},[a,l,c,u,r,o,i,s]}class QD extends Ve{constructor(e){super(),qe(this,e,GD,KD,a,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2},JD)}}function YD(e){$(e,"svelte-1uyqfml",".listContainer.svelte-1uyqfml{box-shadow:var(--listShadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));border-radius:var(--listBorderRadius, 4px);max-height:var(--listMaxHeight, 250px);overflow-y:auto;background:var(--listBackground, #fff);border:var(--listBorder, none);position:var(--listPosition, absolute);z-index:var(--listZIndex, 2);width:100%;left:var(--listLeft, 0);right:var(--listRight, 0)}.virtualList.svelte-1uyqfml{height:var(--virtualListHeight, 200px)}.listGroupTitle.svelte-1uyqfml{color:var(--groupTitleColor, #8f8f8f);cursor:default;font-size:var(--groupTitleFontSize, 12px);font-weight:var(--groupTitleFontWeight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--groupTitlePadding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--groupTitleTextTransform, uppercase)}.empty.svelte-1uyqfml{text-align:var(--listEmptyTextAlign, center);padding:var(--listEmptyPadding, 20px 0);color:var(--listEmptyColor, #78848f)}")}function ZD(e,t,n){const r=e.slice();return r[41]=t[n],r[42]=n,r}function XD(e){let t,n,r=e[1],o=[];for(let t=0;t<r.length;t+=1)o[t]=iL(ZD(e,r,t));const i=e=>Ee(o[e],1,1,(()=>{o[e]=null}));let s=null;return r.length||(s=tL(e)),{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T(),s&&s.c()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);_(e,t,r),s&&s.m(e,r),n=!0},p(e,n){if(114390&n[0]){let a;for(r=e[1],a=0;a<r.length;a+=1){const i=ZD(e,r,a);o[a]?(o[a].p(i,n),Pe(o[a],1)):(o[a]=iL(i),o[a].c(),Pe(o[a],1),o[a].m(t.parentNode,t))}for(_e(),a=r.length;a<o.length;a+=1)i(a);Oe(),!r.length&&s?s.p(e,n):r.length?s&&(s.d(1),s=null):(s=tL(e),s.c(),s.m(t.parentNode,t))}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Pe(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Ee(o[e]);n=!1},d(e){P(o,e),e&&O(t),s&&s.d(e)}}}function eL(e){let t,n,r;var o=e[3];function i(e){return{props:{items:e[1],itemHeight:e[8],$$slots:{default:[sL,({item:e,i:t})=>({41:e,42:t}),({item:e,i:t})=>[0,(e?1024:0)|(t?2048:0)]]},$$scope:{ctx:e}}}}return o&&(t=new o(i(e))),{c(){t&&Le(t.$$.fragment),n=T()},m(e,o){t&&Be(t,e,o),_(e,n,o),r=!0},p(e,r){const s={};if(2&r[0]&&(s.items=e[1]),256&r[0]&&(s.itemHeight=e[8]),9814&r[0]|11264&r[1]&&(s.$$scope={dirty:r,ctx:e}),o!==(o=e[3])){if(t){_e();const e=t;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}o?(t=new o(i(e)),Le(t.$$.fragment),Pe(t.$$.fragment,1),Be(t,n.parentNode,n)):t=null}else o&&t.$set(s)},i(e){r||(t&&Pe(t.$$.fragment,e),r=!0)},o(e){t&&Ee(t.$$.fragment,e),r=!1},d(e){e&&O(n),t&&Fe(t,e)}}}function tL(e){let t,n=!e[11]&&nL(e);return{c(){n&&n.c(),t=T()},m(e,r){n&&n.m(e,r),_(e,t,r)},p(e,r){e[11]?n&&(n.d(1),n=null):n?n.p(e,r):(n=nL(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&O(t)}}}function nL(e){let t,n;return{c(){t=E("div"),n=j(e[12]),N(t,"class","empty svelte-1uyqfml")},m(e,r){_(e,t,r),w(t,n)},p(e,t){4096&t[0]&&B(n,e[12])},d(e){e&&O(t)}}}function rL(e){let t,n,r,o,s,a;var l=e[4];function c(e){return{props:{item:e[41],filterText:e[13],getOptionLabel:e[6],isFirst:cL(e[42]),isActive:lL(e[41],e[9],e[10]),isHover:uL(e[2],e[41],e[42],e[1]),isSelectable:hL(e[41])}}}function u(){return e[29](e[42])}function h(){return e[30](e[42])}function d(...t){return e[31](e[41],e[42],...t)}return l&&(n=new l(c(e))),{c(){t=E("div"),n&&Le(n.$$.fragment),r=M(),N(t,"class","listItem"),N(t,"tabindex","-1")},m(e,i){_(e,t,i),n&&Be(n,t,null),w(t,r),o=!0,s||(a=[I(t,"mouseover",u),I(t,"focus",h),I(t,"click",d)],s=!0)},p(o,i){e=o;const s={};if(2&i[0]&&(s.item=e[41]),8192&i[0]&&(s.filterText=e[13]),64&i[0]&&(s.getOptionLabel=e[6]),1538&i[0]&&(s.isActive=lL(e[41],e[9],e[10])),6&i[0]&&(s.isHover=uL(e[2],e[41],e[42],e[1])),2&i[0]&&(s.isSelectable=hL(e[41])),l!==(l=e[4])){if(n){_e();const e=n;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}l?(n=new l(c(e)),Le(n.$$.fragment),Pe(n.$$.fragment,1),Be(n,t,r)):n=null}else l&&n.$set(s)},i(e){o||(n&&Pe(n.$$.fragment,e),o=!0)},o(e){n&&Ee(n.$$.fragment,e),o=!1},d(e){e&&O(t),n&&Fe(n),s=!1,i(a)}}}function oL(t){let n,r,o=t[7](t[41])+"";return{c(){n=E("div"),r=j(o),N(n,"class","listGroupTitle svelte-1uyqfml")},m(e,t){_(e,n,t),w(n,r)},p(e,t){130&t[0]&&o!==(o=e[7](e[41])+"")&&B(r,o)},i:e,o:e,d(e){e&&O(n)}}}function iL(e){let t,n,r,o;const i=[oL,rL],s=[];function a(e,t){return e[41].isGroupHeader&&!e[41].isSelectable?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=T()},m(e,n){s[t].m(e,n),_(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?s[t].p(e,o):(_e(),Ee(s[l],1,1,(()=>{s[l]=null})),Oe(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),Pe(n,1),n.m(r.parentNode,r))},i(e){o||(Pe(n),o=!0)},o(e){Ee(n),o=!1},d(e){s[t].d(e),e&&O(r)}}}function sL(e){let t,n,r,o,s;var a=e[4];function l(e){return{props:{item:e[41],filterText:e[13],getOptionLabel:e[6],isFirst:cL(e[42]),isActive:lL(e[41],e[9],e[10]),isHover:uL(e[2],e[41],e[42],e[1]),isSelectable:hL(e[41])}}}function c(){return e[26](e[42])}function u(){return e[27](e[42])}function h(...t){return e[28](e[41],e[42],...t)}return a&&(n=new a(l(e))),{c(){t=E("div"),n&&Le(n.$$.fragment),N(t,"class","listItem")},m(e,i){_(e,t,i),n&&Be(n,t,null),r=!0,o||(s=[I(t,"mouseover",c),I(t,"focus",u),I(t,"click",h)],o=!0)},p(r,o){e=r;const i={};if(1024&o[1]&&(i.item=e[41]),8192&o[0]&&(i.filterText=e[13]),64&o[0]&&(i.getOptionLabel=e[6]),2048&o[1]&&(i.isFirst=cL(e[42])),1536&o[0]|1024&o[1]&&(i.isActive=lL(e[41],e[9],e[10])),6&o[0]|3072&o[1]&&(i.isHover=uL(e[2],e[41],e[42],e[1])),1024&o[1]&&(i.isSelectable=hL(e[41])),a!==(a=e[4])){if(n){_e();const e=n;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}a?(n=new a(l(e)),Le(n.$$.fragment),Pe(n.$$.fragment,1),Be(n,t,null)):n=null}else a&&n.$set(i)},i(e){r||(n&&Pe(n.$$.fragment,e),r=!0)},o(e){n&&Ee(n.$$.fragment,e),r=!1},d(e){e&&O(t),n&&Fe(n),o=!1,i(s)}}}function aL(e){let t,n,r,o,s,a;const l=[eL,XD],c=[];function u(e,t){return e[5]?0:1}return n=u(e),r=c[n]=l[n](e),{c(){t=E("div"),r.c(),N(t,"class","listContainer svelte-1uyqfml"),N(t,"style",e[14]),U(t,"virtualList",e[5])},m(r,i){_(r,t,i),c[n].m(t,null),e[32](t),o=!0,s||(a=[I(window,"keydown",e[17]),I(window,"resize",e[18])],s=!0)},p(e,i){let s=n;n=u(e),n===s?c[n].p(e,i):(_e(),Ee(c[s],1,1,(()=>{c[s]=null})),Oe(),r=c[n],r?r.p(e,i):(r=c[n]=l[n](e),r.c()),Pe(r,1),r.m(t,null)),(!o||16384&i[0])&&N(t,"style",e[14]),32&i[0]&&U(t,"virtualList",e[5])},i(e){o||(Pe(r),o=!0)},o(e){Ee(r),o=!1},d(r){r&&O(t),c[n].d(),e[32](null),s=!1,i(a)}}}function lL(e,t,n){return t&&t[n]===e[n]}function cL(e){return 0===e}function uL(e,t,n,r){return hL(t)&&(e===n||1===r.length)}function hL(e){return e.isGroupHeader&&e.isSelectable||e.selectable||!e.hasOwnProperty("selectable")}function dL(e,t,n){const r=ie();let o,i,{container:s}=t,{VirtualList:a=null}=t,{Item:l=QD}=t,{isVirtualList:c=!1}=t,{items:u=[]}=t,{labelIdentifier:h="label"}=t,{getOptionLabel:d=((e,t)=>{if(e)return e.isCreator?`Create "${t}"`:e[h]})}=t,{getGroupHeaderLabel:f=null}=t,{itemHeight:p=40}=t,{hoverItemIndex:m=0}=t,{value:g}=t,{optionIdentifier:v="value"}=t,{hideEmptyState:y=!1}=t,{noOptionsMessage:b="No options"}=t,{isMulti:x=!1}=t,{activeItemIndex:w=0}=t,{filterText:$=""}=t,{parent:k=null}=t,{listPlacement:S=null}=t,{listAutoWidth:C=null}=t,{listOffset:_=5}=t,O=0,P=!1;function E(e){e.isCreator||r("itemSelected",e)}function A(e){P||n(2,m=e)}function j(e){const{item:t,i:o,event:i}=e;if(i.stopPropagation(),g&&!x&&g[v]===t[v])return M();t.isCreator?r("itemCreated",$):hL(t)&&(n(19,w=o),n(2,m=o),E(t))}function M(){r("closeList")}async function T(e){if(c)return;let t=!0;for(;t;)e>0&&m===u.length-1?n(2,m=0):n(2,e<0&&0===m?m=u.length-1:m+=e),t=!hL(u[m]);await me(),I("hover")}function I(e){if(c||!s)return;let t;const r=s.querySelector(`.listItem .${e}`);r&&(t=s.getBoundingClientRect().bottom-r.getBoundingClientRect().bottom),n(0,s.scrollTop-=t,s)}function z(){const{height:e,width:t}=k.getBoundingClientRect();n(14,i=""),n(14,i+=`min-width:${t}px;width:${C?"auto":"100%"};`),"top"===S||"auto"===S&&function(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o={};return o.top=n.top<0,o.left=n.left<0,o.bottom=n.bottom+r.height>(window.innerHeight||document.documentElement.clientHeight),o.right=n.right>(window.innerWidth||document.documentElement.clientWidth),o.any=o.top||o.left||o.bottom||o.right,o}(k,s).bottom?n(14,i+=`bottom:${e+_}px;`):n(14,i+=`top:${e+_}px;`)}re((()=>{if(u.length>0&&!x&&g){const e=u.findIndex((e=>e[v]===g[v]));e&&n(2,m=e)}I("active"),s.addEventListener("scroll",(()=>{clearTimeout(O),O=setTimeout((()=>{P=!1}),100)}),!1)})),ne((()=>{u||n(1,u=[]),u!==o&&u.length>0&&n(2,m=0),o=u}));return e.$$set=e=>{"container"in e&&n(0,s=e.container),"VirtualList"in e&&n(3,a=e.VirtualList),"Item"in e&&n(4,l=e.Item),"isVirtualList"in e&&n(5,c=e.isVirtualList),"items"in e&&n(1,u=e.items),"labelIdentifier"in e&&n(20,h=e.labelIdentifier),"getOptionLabel"in e&&n(6,d=e.getOptionLabel),"getGroupHeaderLabel"in e&&n(7,f=e.getGroupHeaderLabel),"itemHeight"in e&&n(8,p=e.itemHeight),"hoverItemIndex"in e&&n(2,m=e.hoverItemIndex),"value"in e&&n(9,g=e.value),"optionIdentifier"in e&&n(10,v=e.optionIdentifier),"hideEmptyState"in e&&n(11,y=e.hideEmptyState),"noOptionsMessage"in e&&n(12,b=e.noOptionsMessage),"isMulti"in e&&n(21,x=e.isMulti),"activeItemIndex"in e&&n(19,w=e.activeItemIndex),"filterText"in e&&n(13,$=e.filterText),"parent"in e&&n(22,k=e.parent),"listPlacement"in e&&n(23,S=e.listPlacement),"listAutoWidth"in e&&n(24,C=e.listAutoWidth),"listOffset"in e&&n(25,_=e.listOffset)},e.$$.update=()=>{4194305&e.$$.dirty[0]&&k&&s&&z()},[s,u,m,a,l,c,d,f,p,g,v,y,b,$,i,A,j,function(e){switch(e.key){case"Escape":e.preventDefault(),M();break;case"ArrowDown":e.preventDefault(),u.length&&T(1);break;case"ArrowUp":e.preventDefault(),u.length&&T(-1);break;case"Enter":if(e.preventDefault(),0===u.length)break;const t=u[m];if(g&&!x&&g[v]===t[v]){M();break}t.isCreator?r("itemCreated",$):(n(19,w=m),E(u[m]));break;case"Tab":if(e.preventDefault(),0===u.length)return M();if(g&&g[v]===u[m][v])return M();n(19,w=m),E(u[m])}},z,w,h,x,k,S,C,_,e=>A(e),e=>A(e),(e,t,n)=>j({item:e,i:t,event:n}),e=>A(e),e=>A(e),(e,t,n)=>j({item:e,i:t,event:n}),function(e){ce[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class fL extends Ve{constructor(e){super(),qe(this,e,dL,aL,a,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},YD,[-1,-1])}}function pL(e){$(e,"svelte-pu1q1n",".selection.svelte-pu1q1n{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}")}function mL(t){let n,r=t[0](t[1])+"";return{c(){n=E("div"),N(n,"class","selection svelte-pu1q1n")},m(e,t){_(e,n,t),n.innerHTML=r},p(e,[t]){3&t&&r!==(r=e[0](e[1])+"")&&(n.innerHTML=r)},i:e,o:e,d(e){e&&O(n)}}}function gL(e,t,n){let{getSelectionLabel:r}=t,{item:o}=t;return e.$$set=e=>{"getSelectionLabel"in e&&n(0,r=e.getSelectionLabel),"item"in e&&n(1,o=e.item)},[r,o]}class vL extends Ve{constructor(e){super(),qe(this,e,gL,mL,a,{getSelectionLabel:0,item:1},pL)}}function yL(e){$(e,"svelte-liu9pa",".multiSelectItem.svelte-liu9pa.svelte-liu9pa{background:var(--multiItemBG, #ebedef);margin:var(--multiItemMargin, 5px 5px 0 0);border-radius:var(--multiItemBorderRadius, 16px);height:var(--multiItemHeight, 32px);line-height:var(--multiItemHeight, 32px);display:flex;cursor:default;padding:var(--multiItemPadding, 0 10px 0 15px);max-width:100%}.multiSelectItem_label.svelte-liu9pa.svelte-liu9pa{margin:var(--multiLabelMargin, 0 5px 0 0);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multiSelectItem.svelte-liu9pa.svelte-liu9pa:hover,.multiSelectItem.active.svelte-liu9pa.svelte-liu9pa{background-color:var(--multiItemActiveBG, #006fff);color:var(--multiItemActiveColor, #fff)}.multiSelectItem.disabled.svelte-liu9pa.svelte-liu9pa:hover{background:var(--multiItemDisabledHoverBg, #ebedef);color:var(--multiItemDisabledHoverColor, #c1c6cc)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa{border-radius:var(--multiClearRadius, 50%);background:var(--multiClearBG, #52616f);min-width:var(--multiClearWidth, 16px);max-width:var(--multiClearWidth, 16px);height:var(--multiClearHeight, 16px);position:relative;top:var(--multiClearTop, 8px);text-align:var(--multiClearTextAlign, center);padding:var(--multiClearPadding, 1px)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa:hover,.active.svelte-liu9pa .multiSelectItem_clear.svelte-liu9pa{background:var(--multiClearHoverBG, #fff)}.multiSelectItem_clear.svelte-liu9pa:hover svg.svelte-liu9pa,.active.svelte-liu9pa .multiSelectItem_clear svg.svelte-liu9pa{fill:var(--multiClearHoverFill, #006fff)}.multiSelectItem_clear.svelte-liu9pa svg.svelte-liu9pa{fill:var(--multiClearFill, #ebedef);vertical-align:top}")}function bL(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function xL(e){let t,n,r;function o(...t){return e[6](e[11],...t)}return{c(){t=E("div"),t.innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-liu9pa"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',N(t,"class","multiSelectItem_clear svelte-liu9pa")},m(e,i){_(e,t,i),n||(r=I(t,"click",o),n=!0)},p(t,n){e=t},d(e){e&&O(t),n=!1,r()}}}function wL(e){let t,n,r,o,i,s,a,l=e[4](e[9])+"",c=!e[2]&&!e[3]&&xL(e);function u(...t){return e[7](e[11],...t)}return{c(){t=E("div"),n=E("div"),r=M(),c&&c.c(),o=M(),N(n,"class","multiSelectItem_label svelte-liu9pa"),N(t,"class",i="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")},m(e,i){_(e,t,i),w(t,n),n.innerHTML=l,w(t,r),c&&c.m(t,null),w(t,o),s||(a=I(t,"click",u),s=!0)},p(r,s){e=r,17&s&&l!==(l=e[4](e[9])+"")&&(n.innerHTML=l),e[2]||e[3]?c&&(c.d(1),c=null):c?c.p(e,s):(c=xL(e),c.c(),c.m(t,o)),6&s&&i!==(i="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")&&N(t,"class",i)},d(e){e&&O(t),c&&c.d(),s=!1,a()}}}function $L(t){let n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=wL(bL(t,r,e));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=T()},m(e,t){for(let n=0;n<o.length;n+=1)o[n].m(e,t);_(e,n,t)},p(e,[t]){if(63&t){let i;for(r=e[0],i=0;i<r.length;i+=1){const s=bL(e,r,i);o[i]?o[i].p(s,t):(o[i]=wL(s),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(e){P(o,e),e&&O(n)}}}function kL(e,t,n){const r=ie();let{value:o=[]}=t,{activeValue:i}=t,{isDisabled:s=!1}=t,{multiFullItemClearable:a=!1}=t,{getSelectionLabel:l}=t;function c(e,t){t.stopPropagation(),r("multiItemClear",{i:e})}return e.$$set=e=>{"value"in e&&n(0,o=e.value),"activeValue"in e&&n(1,i=e.activeValue),"isDisabled"in e&&n(2,s=e.isDisabled),"multiFullItemClearable"in e&&n(3,a=e.multiFullItemClearable),"getSelectionLabel"in e&&n(4,l=e.getSelectionLabel)},[o,i,s,a,l,c,(e,t)=>c(e,t),(e,t)=>a?c(e,t):{}]}class SL extends Ve{constructor(e){super(),qe(this,e,kL,$L,a,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4},yL)}}function CL(e){$(e,"svelte-g2cagw","svelte-virtual-list-viewport.svelte-g2cagw{position:relative;overflow-y:auto;-webkit-overflow-scrolling:touch;display:block}svelte-virtual-list-contents.svelte-g2cagw,svelte-virtual-list-row.svelte-g2cagw{display:block}svelte-virtual-list-row.svelte-g2cagw{overflow:hidden}")}function _L(e,t,n){const r=e.slice();return r[23]=t[n],r}const OL=e=>({item:32&e,i:32&e,hoverItemIndex:2&e}),PL=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function EL(e,t){let n,r,o;const i=t[15].default,s=c(i,t,t[14],PL),a=s||function(e){let t;return{c(){t=j("Missing template")},m(e,n){_(e,t,n)},d(e){e&&O(t)}}}();return{key:e,first:null,c(){n=E("svelte-virtual-list-row"),a&&a.c(),r=M(),L(n,"class","svelte-g2cagw"),this.first=n},m(e,t){_(e,n,t),a&&a.m(n,null),w(n,r),o=!0},p(e,n){t=e,s&&s.p&&(!o||16418&n)&&d(s,i,t,t[14],o?h(i,t[14],n,OL):f(t[14]),PL)},i(e){o||(Pe(a,e),o=!0)},o(e){Ee(a,e),o=!1},d(e){e&&O(n),a&&a.d(e)}}}function AL(e){let t,n,r,o,i,s,a=[],l=new Map,c=e[5];const u=e=>e[23].index;for(let t=0;t<c.length;t+=1){let n=_L(e,c,t),r=u(n);l.set(r,a[t]=EL(r,n))}return{c(){t=E("svelte-virtual-list-viewport"),n=E("svelte-virtual-list-contents");for(let e=0;e<a.length;e+=1)a[e].c();q(n,"padding-top",e[6]+"px"),q(n,"padding-bottom",e[7]+"px"),L(n,"class","svelte-g2cagw"),q(t,"height",e[0]),L(t,"class","svelte-g2cagw"),ge((()=>e[18].call(t)))},m(l,c){_(l,t,c),w(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);e[16](n),e[17](t),r=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=E("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=W();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=I(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{o=I(n.contentWindow,"resize",t)}),w(e,n),()=>{(r||o&&n.contentWindow)&&o(),O(n)}}(t,e[18].bind(t)),o=!0,i||(s=I(t,"scroll",e[8]),i=!0)},p(e,[r]){16418&r&&(c=e[5],_e(),a=ze(a,r,u,1,e,c,l,n,Ie,EL,null,_L),Oe()),(!o||64&r)&&q(n,"padding-top",e[6]+"px"),(!o||128&r)&&q(n,"padding-bottom",e[7]+"px"),(!o||1&r)&&q(t,"height",e[0])},i(e){if(!o){for(let e=0;e<c.length;e+=1)Pe(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)Ee(a[e]);o=!1},d(n){n&&O(t);for(let e=0;e<a.length;e+=1)a[e].d();e[16](null),e[17](null),r(),i=!1,s()}}}function jL(e,t,n){let r,o,i,s,a,l,{$$slots:c={},$$scope:u}=t,{items:h}=t,{height:d="100%"}=t,{itemHeight:f=40}=t,{hoverItemIndex:p=0}=t,{start:m=0}=t,{end:g=0}=t,v=[],y=0,b=0,x=0;return re((()=>{r=i.getElementsByTagName("svelte-virtual-list-row"),n(13,a=!0)})),e.$$set=e=>{"items"in e&&n(11,h=e.items),"height"in e&&n(0,d=e.height),"itemHeight"in e&&n(12,f=e.itemHeight),"hoverItemIndex"in e&&n(1,p=e.hoverItemIndex),"start"in e&&n(9,m=e.start),"end"in e&&n(10,g=e.end),"$$scope"in e&&n(14,u=e.$$scope)},e.$$.update=()=>{3584&e.$$.dirty&&n(5,s=h.slice(m,g).map(((e,t)=>({index:t+m,data:e})))),14340&e.$$.dirty&&a&&async function(e,t,i){const{scrollTop:s}=o;await me();let a=b-s,c=m;for(;a<t&&c<e.length;){let e=r[c-m];e||(n(10,g=c+1),await me(),e=r[c-m]),a+=v[c]=i||e.offsetHeight,c+=1}n(10,g=c);const u=e.length-g;l=(b+a)/g,n(7,x=u*l),v.length=e.length,o&&n(3,o.scrollTop=0,o)}(h,y,f)},[d,p,y,o,i,s,b,x,async function(){const{scrollTop:e}=o,t=m;for(let e=0;e<r.length;e+=1)v[m+e]=f||r[e].offsetHeight;let i=0,s=0;for(;i<h.length;){const t=v[i]||l;if(s+t>e){n(9,m=i),n(6,b=s);break}s+=t,i+=1}for(;i<h.length&&(s+=v[i]||l,i+=1,!(s>e+y)););n(10,g=i);const a=h.length-g;for(l=s/g;i<h.length;)v[i++]=l;if(n(7,x=a*l),m<t){await me();let n=0,i=0;for(let e=m;e<t;e+=1)r[e-m]&&(n+=v[e],i+=f||r[e-m].offsetHeight);const s=i-n;o.scrollTo(0,e+s)}},m,g,h,f,a,u,c,function(e){ce[e?"unshift":"push"]((()=>{i=e,n(4,i)}))},function(e){ce[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(){y=this.offsetHeight,n(2,y)}]}class ML extends Ve{constructor(e){super(),qe(this,e,jL,AL,a,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10},CL)}}function TL(t){let n,r;return{c(){n=A("svg"),r=A("path"),N(r,"fill","currentColor"),N(r,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),N(n,"width","100%"),N(n,"height","100%"),N(n,"viewBox","-2 -2 50 50"),N(n,"focusable","false"),N(n,"aria-hidden","true"),N(n,"role","presentation")},m(e,t){_(e,n,t),w(n,r)},p:e,i:e,o:e,d(e){e&&O(n)}}}class IL extends Ve{constructor(e){super(),qe(this,e,null,TL,a,{})}}function zL(e){$(e,"svelte-17l1npl",".selectContainer.svelte-17l1npl.svelte-17l1npl{--internalPadding:0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--borderRadius, 3px);box-sizing:border-box;height:var(--height, 42px);position:relative;display:flex;align-items:center;padding:var(--padding, var(--internalPadding));background:var(--background, #fff);margin:var(--margin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl{cursor:default;border:none;color:var(--inputColor, #3f4f5f);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--inputPadding, var(--padding, var(--internalPadding)));width:100%;background:transparent;font-size:var(--inputFontSize, 14px);letter-spacing:var(--inputLetterSpacing, -0.08px);position:absolute;left:var(--inputLeft, 0);margin:var(--inputMargin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--placeholderColor, #78848f);opacity:var(--placeholderOpacity, 1)}.selectContainer.svelte-17l1npl input.svelte-17l1npl:focus{outline:none}.selectContainer.svelte-17l1npl.svelte-17l1npl:hover{border-color:var(--borderHoverColor, #b2b8bf)}.selectContainer.focused.svelte-17l1npl.svelte-17l1npl{border-color:var(--borderFocusColor, #006fe8)}.selectContainer.disabled.svelte-17l1npl.svelte-17l1npl{background:var(--disabledBackground, #ebedef);border-color:var(--disabledBorderColor, #ebedef);color:var(--disabledColor, #c1c6cc)}.selectContainer.disabled.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--disabledPlaceholderColor, #c1c6cc);opacity:var(--disabledPlaceholderOpacity, 1)}.selectedItem.svelte-17l1npl.svelte-17l1npl{line-height:var(--height, 42px);height:var(--height, 42px);overflow-x:hidden;padding:var(--selectedItemPadding, 0 20px 0 0)}.selectedItem.svelte-17l1npl.svelte-17l1npl:focus{outline:none}.clearSelect.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--clearSelectRight, 10px);top:var(--clearSelectTop, 11px);bottom:var(--clearSelectBottom, 11px);width:var(--clearSelectWidth, 20px);color:var(--clearSelectColor, #c5cacf);flex:none !important}.clearSelect.svelte-17l1npl.svelte-17l1npl:hover{color:var(--clearSelectHoverColor, #2c3e50)}.selectContainer.focused.svelte-17l1npl .clearSelect.svelte-17l1npl{color:var(--clearSelectFocusColor, #3f4f5f)}.indicator.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--indicatorRight, 10px);top:var(--indicatorTop, 11px);width:var(--indicatorWidth, 20px);height:var(--indicatorHeight, 20px);color:var(--indicatorColor, #c5cacf)}.indicator.svelte-17l1npl svg.svelte-17l1npl{display:inline-block;fill:var(--indicatorFill, currentcolor);line-height:1;stroke:var(--indicatorStroke, currentcolor);stroke-width:0}.spinner.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--spinnerRight, 10px);top:var(--spinnerLeft, 11px);width:var(--spinnerWidth, 20px);height:var(--spinnerHeight, 20px);color:var(--spinnerColor, #51ce6c);animation:svelte-17l1npl-rotate 0.75s linear infinite}.spinner_icon.svelte-17l1npl.svelte-17l1npl{display:block;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;-webkit-transform:none}.spinner_path.svelte-17l1npl.svelte-17l1npl{stroke-dasharray:90;stroke-linecap:round}.multiSelect.svelte-17l1npl.svelte-17l1npl{display:flex;padding:var(--multiSelectPadding, 0 35px 0 16px);height:auto;flex-wrap:wrap;align-items:stretch}.multiSelect.svelte-17l1npl>.svelte-17l1npl{flex:1 1 50px}.selectContainer.multiSelect.svelte-17l1npl input.svelte-17l1npl{padding:var(--multiSelectInputPadding, 0);position:relative;margin:var(--multiSelectInputMargin, 0)}.hasError.svelte-17l1npl.svelte-17l1npl{border:var(--errorBorder, 1px solid #ff2d55);background:var(--errorBackground, #fff)}.a11yText.svelte-17l1npl.svelte-17l1npl{z-index:9999;border:0px;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0px;white-space:nowrap}@keyframes svelte-17l1npl-rotate{100%{transform:rotate(360deg)}}")}function NL(e,t,n){const r=e.slice();return r[103]=t[n],r}function RL(e){let t,n,r,o,i;return{c(){t=E("span"),n=j(e[33]),r=M(),o=E("span"),i=j(e[32]),N(t,"id","aria-selection"),N(o,"id","aria-context")},m(e,s){_(e,t,s),w(t,n),_(e,r,s),_(e,o,s),w(o,i)},p(e,t){4&t[1]&&B(n,e[33]),2&t[1]&&B(i,e[32])},d(e){e&&O(t),e&&O(r),e&&O(o)}}}function DL(e){let t,r,o;const i=[e[18]];var s=e[17];function a(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return{props:t}}return s&&(t=new s(a())),{c(){t&&Le(t.$$.fragment),r=T()},m(e,n){t&&Be(t,e,n),_(e,r,n),o=!0},p(e,n){const o=262144&n[0]?Ne(i,[Re(e[18])]):{};if(s!==(s=e[17])){if(t){_e();const e=t;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}s?(t=new s(a()),Le(t.$$.fragment),Pe(t.$$.fragment,1),Be(t,r.parentNode,r)):t=null}else s&&t.$set(o)},i(e){o||(t&&Pe(t.$$.fragment,e),o=!0)},o(e){t&&Ee(t.$$.fragment,e),o=!1},d(e){e&&O(r),t&&Fe(t,e)}}}function LL(e){let t,n,r;var o=e[26];function i(e){return{props:{value:e[2],getSelectionLabel:e[12],activeValue:e[30],isDisabled:e[9],multiFullItemClearable:e[8]}}}return o&&(t=new o(i(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40])),{c(){t&&Le(t.$$.fragment),n=T()},m(e,o){t&&Be(t,e,o),_(e,n,o),r=!0},p(e,r){const s={};if(4&r[0]&&(s.value=e[2]),4096&r[0]&&(s.getSelectionLabel=e[12]),1073741824&r[0]&&(s.activeValue=e[30]),512&r[0]&&(s.isDisabled=e[9]),256&r[0]&&(s.multiFullItemClearable=e[8]),o!==(o=e[26])){if(t){_e();const e=t;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}o?(t=new o(i(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40]),Le(t.$$.fragment),Pe(t.$$.fragment,1),Be(t,n.parentNode,n)):t=null}else o&&t.$set(s)},i(e){r||(t&&Pe(t.$$.fragment,e),r=!0)},o(e){t&&Ee(t.$$.fragment,e),r=!1},d(e){e&&O(n),t&&Fe(t,e)}}}function BL(e){let t,n,r,o,i;var s=e[25];function a(e){return{props:{item:e[2],getSelectionLabel:e[12]}}}return s&&(n=new s(a(e))),{c(){t=E("div"),n&&Le(n.$$.fragment),N(t,"class","selectedItem svelte-17l1npl")},m(s,a){_(s,t,a),n&&Be(n,t,null),r=!0,o||(i=I(t,"focus",e[40]),o=!0)},p(e,r){const o={};if(4&r[0]&&(o.item=e[2]),4096&r[0]&&(o.getSelectionLabel=e[12]),s!==(s=e[25])){if(n){_e();const e=n;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}s?(n=new s(a(e)),Le(n.$$.fragment),Pe(n.$$.fragment,1),Be(n,t,null)):n=null}else s&&n.$set(o)},i(e){r||(n&&Pe(n.$$.fragment,e),r=!0)},o(e){n&&Ee(n.$$.fragment,e),r=!1},d(e){e&&O(t),n&&Fe(n),o=!1,i()}}}function FL(e){let t,n,r,o,i;var s=e[23];return s&&(n=new s({})),{c(){t=E("div"),n&&Le(n.$$.fragment),N(t,"class","clearSelect svelte-17l1npl"),N(t,"aria-hidden","true")},m(s,a){var l;_(s,t,a),n&&Be(n,t,null),r=!0,o||(i=I(t,"click",(l=e[27],function(e){return e.preventDefault(),l.call(this,e)})),o=!0)},p(e,r){if(s!==(s=e[23])){if(n){_e();const e=n;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}s?(n=new s({}),Le(n.$$.fragment),Pe(n.$$.fragment,1),Be(n,t,null)):n=null}},i(e){r||(n&&Pe(n.$$.fragment,e),r=!0)},o(e){n&&Ee(n.$$.fragment,e),r=!1},d(e){e&&O(t),n&&Fe(n),o=!1,i()}}}function qL(e){let t;function n(e,t){return e[22]?HL:VL}let r=n(e),o=r(e);return{c(){t=E("div"),o.c(),N(t,"class","indicator svelte-17l1npl"),N(t,"aria-hidden","true")},m(e,n){_(e,t,n),o.m(t,null)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&O(t),o.d()}}}function VL(t){let n,r;return{c(){n=A("svg"),r=A("path"),N(r,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),N(n,"width","100%"),N(n,"height","100%"),N(n,"viewBox","0 0 20 20"),N(n,"focusable","false"),N(n,"aria-hidden","true"),N(n,"class","svelte-17l1npl")},m(e,t){_(e,n,t),w(n,r)},p:e,d(e){e&&O(n)}}}function HL(e){let t,n;return{c(){t=new K,n=T(),t.a=n},m(r,o){t.m(e[22],r,o),_(r,n,o)},p(e,n){4194304&n[0]&&t.p(e[22])},d(e){e&&O(n),e&&t.d()}}}function WL(e){let t;return{c(){t=E("div"),t.innerHTML='<svg class="spinner_icon svelte-17l1npl" viewBox="25 25 50 50"><circle class="spinner_path svelte-17l1npl" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',N(t,"class","spinner svelte-17l1npl")},m(e,n){_(e,t,n)},d(e){e&&O(t)}}}function UL(e){let t,r,o,i;const s=[e[34]];function a(t){e[84](t)}var l=e[24];function c(e){let t={};for(let e=0;e<s.length;e+=1)t=n(t,s[e]);return void 0!==e[28]&&(t.hoverItemIndex=e[28]),{props:t}}return l&&(t=new l(c(e)),ce.push((()=>De(t,"hoverItemIndex",a))),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45])),{c(){t&&Le(t.$$.fragment),o=T()},m(e,n){t&&Be(t,e,n),_(e,o,n),i=!0},p(e,n){const i=8&n[1]?Ne(s,[Re(e[34])]):{};if(!r&&268435456&n[0]&&(r=!0,i.hoverItemIndex=e[28],ve((()=>r=!1))),l!==(l=e[24])){if(t){_e();const e=t;Ee(e.$$.fragment,1,0,(()=>{Fe(e,1)})),Oe()}l?(t=new l(c(e)),ce.push((()=>De(t,"hoverItemIndex",a))),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45]),Le(t.$$.fragment),Pe(t.$$.fragment,1),Be(t,o.parentNode,o)):t=null}else l&&t.$set(i)},i(e){i||(t&&Pe(t.$$.fragment,e),i=!0)},o(e){t&&Ee(t.$$.fragment,e),i=!1},d(e){e&&O(o),t&&Fe(t,e)}}}function JL(e){let t,n,r;return{c(){t=E("input"),N(t,"name",n=e[16].name),N(t,"type","hidden"),t.value=r=e[2]?e[12](e[2]):null,N(t,"class","svelte-17l1npl")},m(e,n){_(e,t,n)},p(e,o){65536&o[0]&&n!==(n=e[16].name)&&N(t,"name",n),4100&o[0]&&r!==(r=e[2]?e[12](e[2]):null)&&(t.value=r)},d(e){e&&O(t)}}}function KL(e){let t,n=e[2],r=[];for(let t=0;t<n.length;t+=1)r[t]=GL(NL(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=T()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);_(e,t,n)},p(e,o){if(69636&o[0]){let i;for(n=e[2],i=0;i<n.length;i+=1){const s=NL(e,n,i);r[i]?r[i].p(s,o):(r[i]=GL(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){P(r,e),e&&O(t)}}}function GL(e){let t,n,r;return{c(){t=E("input"),N(t,"name",n=e[16].name),N(t,"type","hidden"),t.value=r=e[103]?e[12](e[103]):null,N(t,"class","svelte-17l1npl")},m(e,n){_(e,t,n)},p(e,o){65536&o[0]&&n!==(n=e[16].name)&&N(t,"name",n),4100&o[0]&&r!==(r=e[103]?e[12](e[103]):null)&&(t.value=r)},d(e){e&&O(t)}}}function QL(e){let t,r,o,s,a,l,c,u,h,d,f,p,m,g,v,y,b,x,$=e[1]&&RL(e),k=e[17]&&DL(e),S=e[35]&&LL(e),C=[{readOnly:c=!e[13]},e[31],{placeholder:e[36]},{style:e[14]},{disabled:e[9]}],P={};for(let e=0;e<C.length;e+=1)P=n(P,C[e]);let A=!e[7]&&e[29]&&BL(e),j=e[37]&&FL(e),T=!e[37]&&(e[20]||e[19]&&!e[2]||!e[13]&&!e[9]&&!e[4]&&(e[29]&&!e[15]||!e[29]))&&qL(e),z=e[4]&&WL(),D=e[5]&&UL(e),L=(!e[7]||e[7]&&!e[35])&&JL(e),B=e[7]&&e[35]&&KL(e);return{c(){t=E("div"),r=E("span"),$&&$.c(),o=M(),k&&k.c(),s=M(),S&&S.c(),a=M(),l=E("input"),u=M(),A&&A.c(),h=M(),j&&j.c(),d=M(),T&&T.c(),f=M(),z&&z.c(),p=M(),D&&D.c(),m=M(),L&&L.c(),g=M(),B&&B.c(),N(r,"aria-live","polite"),N(r,"aria-atomic","false"),N(r,"aria-relevant","additions text"),N(r,"class","a11yText svelte-17l1npl"),R(l,P),U(l,"svelte-17l1npl",!0),N(t,"class",v="selectContainer "+e[21]+" svelte-17l1npl"),N(t,"style",e[11]),U(t,"hasError",e[10]),U(t,"multiSelect",e[7]),U(t,"disabled",e[9]),U(t,"focused",e[1])},m(n,i){_(n,t,i),w(t,r),$&&$.m(r,null),w(t,o),k&&k.m(t,null),w(t,s),S&&S.m(t,null),w(t,a),w(t,l),l.autofocus&&l.focus(),e[82](l),F(l,e[3]),w(t,u),A&&A.m(t,null),w(t,h),j&&j.m(t,null),w(t,d),T&&T.m(t,null),w(t,f),z&&z.m(t,null),w(t,p),D&&D.m(t,null),w(t,m),L&&L.m(t,null),w(t,g),B&&B.m(t,null),e[85](t),y=!0,b||(x=[I(window,"click",e[41]),I(window,"focusin",e[41]),I(window,"keydown",e[39]),I(l,"focus",e[40]),I(l,"input",e[83]),I(t,"click",e[42])],b=!0)},p(e,n){e[1]?$?$.p(e,n):($=RL(e),$.c(),$.m(r,null)):$&&($.d(1),$=null),e[17]?k?(k.p(e,n),131072&n[0]&&Pe(k,1)):(k=DL(e),k.c(),Pe(k,1),k.m(t,s)):k&&(_e(),Ee(k,1,1,(()=>{k=null})),Oe()),e[35]?S?(S.p(e,n),16&n[1]&&Pe(S,1)):(S=LL(e),S.c(),Pe(S,1),S.m(t,a)):S&&(_e(),Ee(S,1,1,(()=>{S=null})),Oe()),R(l,P=Ne(C,[(!y||8192&n[0]&&c!==(c=!e[13]))&&{readOnly:c},1&n[1]&&e[31],(!y||32&n[1])&&{placeholder:e[36]},(!y||16384&n[0])&&{style:e[14]},(!y||512&n[0])&&{disabled:e[9]}])),8&n[0]&&l.value!==e[3]&&F(l,e[3]),U(l,"svelte-17l1npl",!0),!e[7]&&e[29]?A?(A.p(e,n),536871040&n[0]&&Pe(A,1)):(A=BL(e),A.c(),Pe(A,1),A.m(t,h)):A&&(_e(),Ee(A,1,1,(()=>{A=null})),Oe()),e[37]?j?(j.p(e,n),64&n[1]&&Pe(j,1)):(j=FL(e),j.c(),Pe(j,1),j.m(t,d)):j&&(_e(),Ee(j,1,1,(()=>{j=null})),Oe()),e[37]||!(e[20]||e[19]&&!e[2])&&(e[13]||e[9]||e[4]||(!e[29]||e[15])&&e[29])?T&&(T.d(1),T=null):T?T.p(e,n):(T=qL(e),T.c(),T.m(t,f)),e[4]?z||(z=WL(),z.c(),z.m(t,p)):z&&(z.d(1),z=null),e[5]?D?(D.p(e,n),32&n[0]&&Pe(D,1)):(D=UL(e),D.c(),Pe(D,1),D.m(t,m)):D&&(_e(),Ee(D,1,1,(()=>{D=null})),Oe()),!e[7]||e[7]&&!e[35]?L?L.p(e,n):(L=JL(e),L.c(),L.m(t,g)):L&&(L.d(1),L=null),e[7]&&e[35]?B?B.p(e,n):(B=KL(e),B.c(),B.m(t,null)):B&&(B.d(1),B=null),(!y||2097152&n[0]&&v!==(v="selectContainer "+e[21]+" svelte-17l1npl"))&&N(t,"class",v),(!y||2048&n[0])&&N(t,"style",e[11]),2098176&n[0]&&U(t,"hasError",e[10]),2097280&n[0]&&U(t,"multiSelect",e[7]),2097664&n[0]&&U(t,"disabled",e[9]),2097154&n[0]&&U(t,"focused",e[1])},i(e){y||(Pe(k),Pe(S),Pe(A),Pe(j),Pe(D),y=!0)},o(e){Ee(k),Ee(S),Ee(A),Ee(j),Ee(D),y=!1},d(n){n&&O(t),$&&$.d(),k&&k.d(),S&&S.d(),e[82](null),A&&A.d(),j&&j.d(),T&&T.d(),z&&z.d(),D&&D.d(),L&&L.d(),B&&B.d(),e[85](null),b=!1,i(x)}}}function YL(e){return e.map(((e,t)=>({index:t,value:e,label:`${e}`})))}function ZL(e,t,n){let r,o,i,s,a,l,c,u;const h=ie();let{id:d=null}=t,{container:f}=t,{input:p}=t,{isMulti:m=!1}=t,{multiFullItemClearable:g=!1}=t,{isDisabled:v=!1}=t,{isCreatable:y=!1}=t,{isFocused:b=!1}=t,{value:x=null}=t,{filterText:w=""}=t,{placeholder:$="Select..."}=t,{placeholderAlwaysShow:k=!1}=t,{items:S=null}=t,{itemFilter:C=((e,t,n)=>`${e}`.toLowerCase().includes(t.toLowerCase()))}=t,{groupBy:_}=t,{groupFilter:O=(e=>e)}=t,{isGroupHeaderSelectable:P=!1}=t,{getGroupHeaderLabel:E=(e=>e[A]||e.id)}=t,{labelIdentifier:A="label"}=t,{getOptionLabel:j=((e,t)=>e.isCreator?`Create "${t}"`:e[A])}=t,{optionIdentifier:M="value"}=t,{loadOptions:T}=t,{hasError:I=!1}=t,{containerStyles:z=""}=t,{getSelectionLabel:N=(e=>e?e[A]:null)}=t,{createGroupHeaderItem:R=(e=>({value:e,label:e}))}=t,{createItem:D=(e=>({value:e,label:e}))}=t;let{isSearchable:L=!0}=t,{inputStyles:B=""}=t,{isClearable:F=!0}=t,{isWaiting:q=!1}=t,{listPlacement:V="auto"}=t,{listOpen:H=!1}=t,{isVirtualList:W=!1}=t,{loadOptionsInterval:U=300}=t,{noOptionsMessage:J="No options"}=t,{hideEmptyState:K=!1}=t,{inputAttributes:G={}}=t,{listAutoWidth:Q=!0}=t,{itemHeight:Y=40}=t,{Icon:Z}=t,{iconProps:X={}}=t,{showChevron:ee=!1}=t,{showIndicator:te=!1}=t,{containerClasses:oe=""}=t,{indicatorSvg:se}=t,{listOffset:ae=5}=t,{ClearIcon:le=IL}=t,{Item:ue=QD}=t,{List:he=fL}=t,{Selection:de=vL}=t,{MultiSelection:fe=SL}=t,{VirtualList:pe=ML}=t;function me(e){if(e.loadOptions&&e.filterText.length>0)return;if(!e.items)return[];e.items&&e.items.length>0&&"object"!=typeof e.items[0]&&(e.items=YL(e.items));let t=e.items.filter((t=>{let n=C(j(t,e.filterText),e.filterText,t);return n&&e.isMulti&&e.value&&Array.isArray(e.value)&&(n=!e.value.some((n=>n[e.optionIdentifier]===t[e.optionIdentifier]))),n}));return e.groupBy&&(t=function(e){const t=[],n={};e.forEach((e=>{const r=_(e);t.includes(r)||(t.push(r),n[r]=[],r&&n[r].push(Object.assign(R(r,e),{id:r,isGroupHeader:!0,isSelectable:P}))),n[r].push(Object.assign({isGroupItem:!!r},e))}));const r=[];return O(t).forEach((e=>{r.push(...n[e])})),r}(t)),e.isCreatable&&(t=ge(t,e.filterText)),t}function ge(e,t){if(0===t.length)return e;const n=D(t);return e[0]&&t===e[0][A]?e:(n.isCreator=!0,[...e,n])}let ve,ye,be,xe,we,$e,{selectedValue:ke=null}=t;const Se=function(e,t,n){let r;return function(){let o=this,i=arguments,s=function(){r=null,n||e.apply(o,i)},a=n&&!r;clearTimeout(r),r=setTimeout(s,t),a&&e.apply(o,i)}}((async()=>{n(4,q=!0);let e=await T(w).catch((e=>{console.warn("svelte-select loadOptions error :>> ",e),h("error",{type:"loadOptions",details:e})}));e&&!e.cancelled&&(e?(e&&e.length>0&&"object"!=typeof e[0]&&(e=YL(e)),n(81,r=[...e]),h("loaded",{items:r})):n(81,r=[]),y&&n(81,r=ge(r,w)),n(4,q=!1),n(1,b=!0),n(5,H=!0))}),U);let Ce;function _e(){let e=!0;if(x){const t=[],r=[];x.forEach((n=>{t.includes(n[M])?e=!1:(t.push(n[M]),r.push(n))})),e||n(2,x=r)}return e}function Oe(e){let t=e?e[M]:x[M];return S.find((e=>e[M]===t))}function Pe(e){const{detail:t}=e,r=x[t?t.i:x.length-1];1===x.length?n(2,x=void 0):n(2,x=x.filter((e=>e!==r))),h("clear",r)}function Ee(){n(1,b=!0),p&&p.focus()}ne((async()=>{n(77,ye=x),n(78,be=w),n(79,xe=b),n(80,we=m)})),re((()=>{b&&p&&p.focus()}));let{ariaValues:Ae=(e=>`Option ${e}, selected.`)}=t,{ariaListOpen:je=((e,t)=>`You are currently focused on option ${e}. There are ${t} results available.`)}=t,{ariaFocused:Me=(()=>"Select is focused, type to refine list, press down to open the menu.")}=t;return e.$$set=e=>{"id"in e&&n(46,d=e.id),"container"in e&&n(0,f=e.container),"input"in e&&n(6,p=e.input),"isMulti"in e&&n(7,m=e.isMulti),"multiFullItemClearable"in e&&n(8,g=e.multiFullItemClearable),"isDisabled"in e&&n(9,v=e.isDisabled),"isCreatable"in e&&n(47,y=e.isCreatable),"isFocused"in e&&n(1,b=e.isFocused),"value"in e&&n(2,x=e.value),"filterText"in e&&n(3,w=e.filterText),"placeholder"in e&&n(48,$=e.placeholder),"placeholderAlwaysShow"in e&&n(49,k=e.placeholderAlwaysShow),"items"in e&&n(50,S=e.items),"itemFilter"in e&&n(51,C=e.itemFilter),"groupBy"in e&&n(52,_=e.groupBy),"groupFilter"in e&&n(53,O=e.groupFilter),"isGroupHeaderSelectable"in e&&n(54,P=e.isGroupHeaderSelectable),"getGroupHeaderLabel"in e&&n(55,E=e.getGroupHeaderLabel),"labelIdentifier"in e&&n(56,A=e.labelIdentifier),"getOptionLabel"in e&&n(57,j=e.getOptionLabel),"optionIdentifier"in e&&n(58,M=e.optionIdentifier),"loadOptions"in e&&n(59,T=e.loadOptions),"hasError"in e&&n(10,I=e.hasError),"containerStyles"in e&&n(11,z=e.containerStyles),"getSelectionLabel"in e&&n(12,N=e.getSelectionLabel),"createGroupHeaderItem"in e&&n(60,R=e.createGroupHeaderItem),"createItem"in e&&n(61,D=e.createItem),"isSearchable"in e&&n(13,L=e.isSearchable),"inputStyles"in e&&n(14,B=e.inputStyles),"isClearable"in e&&n(15,F=e.isClearable),"isWaiting"in e&&n(4,q=e.isWaiting),"listPlacement"in e&&n(63,V=e.listPlacement),"listOpen"in e&&n(5,H=e.listOpen),"isVirtualList"in e&&n(64,W=e.isVirtualList),"loadOptionsInterval"in e&&n(65,U=e.loadOptionsInterval),"noOptionsMessage"in e&&n(66,J=e.noOptionsMessage),"hideEmptyState"in e&&n(67,K=e.hideEmptyState),"inputAttributes"in e&&n(16,G=e.inputAttributes),"listAutoWidth"in e&&n(68,Q=e.listAutoWidth),"itemHeight"in e&&n(69,Y=e.itemHeight),"Icon"in e&&n(17,Z=e.Icon),"iconProps"in e&&n(18,X=e.iconProps),"showChevron"in e&&n(19,ee=e.showChevron),"showIndicator"in e&&n(20,te=e.showIndicator),"containerClasses"in e&&n(21,oe=e.containerClasses),"indicatorSvg"in e&&n(22,se=e.indicatorSvg),"listOffset"in e&&n(70,ae=e.listOffset),"ClearIcon"in e&&n(23,le=e.ClearIcon),"Item"in e&&n(71,ue=e.Item),"List"in e&&n(24,he=e.List),"Selection"in e&&n(25,de=e.Selection),"MultiSelection"in e&&n(26,fe=e.MultiSelection),"VirtualList"in e&&n(72,pe=e.VirtualList),"selectedValue"in e&&n(73,ke=e.selectedValue),"ariaValues"in e&&n(74,Ae=e.ariaValues),"ariaListOpen"in e&&n(75,je=e.ariaListOpen),"ariaFocused"in e&&n(76,Me=e.ariaFocused)},e.$$.update=()=>{140&e.$$.dirty[0]|405340160&e.$$.dirty[1]&&n(81,r=me({loadOptions:T,filterText:w,items:S,value:x,isMulti:m,optionIdentifier:M,groupBy:_,isCreatable:y})),2048&e.$$.dirty[2]&&ke&&console.warn("selectedValue is no longer used. Please use value instead."),524288&e.$$.dirty[1]&&function(e){e&&0!==e.length&&!e.some((e=>"object"!=typeof e))&&x&&(m?!x.some((e=>!e||!e[M])):x[M])&&(Array.isArray(x)?n(2,x=x.map((e=>Oe(e)||e))):n(2,x=Oe()||x))}(S),4&e.$$.dirty[0]&&x&&("string"==typeof x?n(2,x={[M]:x,label:x}):m&&Array.isArray(x)&&x.length>0&&n(2,x=x.map((e=>"string"==typeof e?{value:e,label:e}:e)))),73728&e.$$.dirty[0]&&(!G&&L||(n(31,Ce=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},G)),d&&n(31,Ce.id=d,Ce),L||n(31,Ce.readonly=!0,Ce))),128&e.$$.dirty[0]|262144&e.$$.dirty[2]&&(m&&x&&(Array.isArray(x)?n(2,x=[...x]):n(2,x=[x])),we&&!m&&x&&n(2,x=null)),132&e.$$.dirty[0]&&m&&x&&x.length>1&&_e(),4&e.$$.dirty[0]&&x&&(m?JSON.stringify(x)!==JSON.stringify(ye)&&_e()&&h("select",x):ye&&JSON.stringify(x[M])===JSON.stringify(ye[M])||h("select",x)),132&e.$$.dirty[0]|32768&e.$$.dirty[2]&&!x&&m&&ye&&h("select",x),2&e.$$.dirty[0]|131072&e.$$.dirty[2]&&b!==xe&&(b||H?Ee():p&&p.blur()),8&e.$$.dirty[0]|65536&e.$$.dirty[2]&&w!==be&&0!==w.length&&(n(1,b=!0),n(5,H=!0),T?Se():(n(5,H=!0),m&&n(30,ve=void 0))),12&e.$$.dirty[0]&&n(29,o=x&&0===w.length),536904208&e.$$.dirty[0]&&n(37,i=o&&F&&!v&&!q),132&e.$$.dirty[0]|393216&e.$$.dirty[1]&&n(36,s=k&&m?$:x?"":$),132&e.$$.dirty[0]&&n(35,a=m&&x&&x.length>0),141&e.$$.dirty[0]|218103808&e.$$.dirty[1]|526326&e.$$.dirty[2]&&n(34,l={Item:ue,filterText:w,optionIdentifier:M,noOptionsMessage:J,hideEmptyState:K,isVirtualList:W,VirtualList:pe,value:x,isMulti:m,getGroupHeaderLabel:E,items:r,itemHeight:Y,getOptionLabel:j,listPlacement:V,parent:f,listAutoWidth:Q,listOffset:ae}),132&e.$$.dirty[0]&&n(33,c=x?function(){let e;return e=m&&x.length>0?x.map((e=>N(e))).join(", "):N(x),Ae(e)}():""),268435490&e.$$.dirty[0]|524288&e.$$.dirty[2]&&n(32,u=function(){if(!b||!r||0===r.length)return"";let e=r[$e];if(H&&e){let t=N(e),n=r?r.length:0;return je(t,n)}return Me()}())},[f,b,x,w,q,H,p,m,g,v,I,z,N,L,B,F,G,Z,X,ee,te,oe,se,le,he,de,fe,function(){n(2,x=void 0),n(5,H=!1),h("clear",x),Ee()},$e,o,ve,Ce,u,c,l,a,s,i,Pe,function(e){if(b)switch(e.key){case"ArrowDown":case"ArrowUp":e.preventDefault(),n(5,H=!0),n(30,ve=void 0);break;case"Tab":H||n(1,b=!1);break;case"Backspace":if(!m||w.length>0)return;if(m&&x&&x.length>0){if(Pe(void 0!==ve?ve:x.length-1),0===ve||void 0===ve)break;n(30,ve=x.length>ve?ve-1:void 0)}break;case"ArrowLeft":if(!m||w.length>0)return;void 0===ve?n(30,ve=x.length-1):x.length>ve&&0!==ve&&n(30,ve-=1);break;case"ArrowRight":if(!m||w.length>0||void 0===ve)return;ve===x.length-1?n(30,ve=void 0):ve<x.length-1&&n(30,ve+=1)}},Ee,function(e){if(!f)return;const t=e.path&&e.path.length>0?e.path[0]:e.target;f.contains(t)||f.contains(e.relatedTarget)||(n(1,b=!1),n(5,H=!1),n(30,ve=void 0),p&&p.blur())},function(){v||(n(1,b=!0),n(5,H=!H))},function(e){const{detail:t}=e;if(t){n(3,w="");const e=Object.assign({},t);e.isGroupHeader&&!e.isSelectable||(n(2,x=m?x?x.concat([e]):[e]:e),n(2,x),setTimeout((()=>{n(5,H=!1),n(30,ve=void 0)})))}},function(e){const{detail:t}=e;m?(n(2,x=x||[]),n(2,x=[...x,D(t)])):n(2,x=D(t)),h("itemCreated",t),n(3,w=""),n(5,H=!1),n(30,ve=void 0)},function(){n(3,w=""),n(5,H=!1)},d,y,$,k,S,C,_,O,P,E,A,j,M,T,R,D,()=>r,V,W,U,J,K,Q,Y,ae,ue,pe,ke,Ae,je,Me,ye,be,xe,we,r,function(e){ce[e?"unshift":"push"]((()=>{p=e,n(6,p)}))},function(){w=this.value,n(3,w)},function(e){$e=e,n(28,$e)},function(e){ce[e?"unshift":"push"]((()=>{f=e,n(0,f)}))}]}class XL extends Ve{constructor(e){super(),qe(this,e,ZL,QL,a,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},zL,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function eB(e){$(e,"svelte-50cg64","table.transform-wizard.svelte-50cg64.svelte-50cg64{border-collapse:collapse;border-spacing:0;width:100%}table.transform-wizard.svelte-50cg64 input.svelte-50cg64{font-family:inherit;font-size:inherit}table.transform-wizard.svelte-50cg64 tr th.svelte-50cg64{font-weight:normal;text-align:left;width:60px}table.transform-wizard.svelte-50cg64 tr td .horizontal.svelte-50cg64{width:100%;display:flex;flex-direction:row;margin-bottom:5px}table.transform-wizard.svelte-50cg64 tr td .horizontal.svelte-50cg64 .selectContainer.filter-path{flex:4;margin-right:5px}table.transform-wizard.svelte-50cg64 tr td .horizontal.svelte-50cg64 .selectContainer.filter-relation{flex:1.5;margin-right:5px}table.transform-wizard.svelte-50cg64 tr td .horizontal.svelte-50cg64 .selectContainer.sort-path{flex:3;margin-right:5px}table.transform-wizard.svelte-50cg64 tr td .horizontal.svelte-50cg64 .selectContainer.sort-direction{flex:1}table.transform-wizard.svelte-50cg64 tr td .horizontal.svelte-50cg64 .selectContainer.projection-paths{flex:1}table.transform-wizard.svelte-50cg64 tr td .horizontal.svelte-50cg64 .selectContainer input{box-sizing:border-box}table.transform-wizard.svelte-50cg64 tr td .horizontal .filter-value.svelte-50cg64{flex:4;padding:4px 8px;border:1px solid #d8dbdf;border-radius:3px;outline:none}table.transform-wizard.svelte-50cg64 tr td .horizontal .filter-value.svelte-50cg64:focus{border-color:#3883fa}")}function tB(e){let t,n,r,o,i,s,a,l,c,u,h,d,f,p,m,g,v,y,b,x,$,k,S,C,P,A,j,T,z,R,D,L,B,q,V;function H(t){e[16](t)}let W={containerClasses:"filter-path",showIndicator:!0,items:e[6]};function U(t){e[17](t)}void 0!==e[0]&&(W.value=e[0]),a=new XL({props:W}),ce.push((()=>De(a,"value",H)));let J={containerClasses:"filter-relation",showIndicator:!0,items:e[8]};function K(t){e[19](t)}void 0!==e[1]&&(J.value=e[1]),u=new XL({props:J}),ce.push((()=>De(u,"value",U)));let G={containerClasses:"sort-path",showIndicator:!0,items:e[6]};function Q(t){e[20](t)}void 0!==e[3]&&(G.value=e[3]),x=new XL({props:G}),ce.push((()=>De(x,"value",K)));let Y={containerClasses:"sort-direction",showIndicator:!0,items:e[9]};function Z(t){e[21](t)}void 0!==e[4]&&(Y.value=e[4]),S=new XL({props:Y}),ce.push((()=>De(S,"value",Q)));let X={containerClasses:"projection-paths",isMulti:!0,showIndicator:!0,items:e[7]};return void 0!==e[5]&&(X.value=e[5]),D=new XL({props:X}),ce.push((()=>De(D,"value",Z))),{c(){t=E("table"),n=E("tr"),r=E("th"),r.textContent="Filter",o=M(),i=E("td"),s=E("div"),Le(a.$$.fragment),c=M(),Le(u.$$.fragment),d=M(),f=E("input"),p=M(),m=E("tr"),g=E("th"),g.textContent="Sort",v=M(),y=E("td"),b=E("div"),Le(x.$$.fragment),k=M(),Le(S.$$.fragment),P=M(),A=E("tr"),j=E("th"),j.textContent="Pick",T=M(),z=E("td"),R=E("div"),Le(D.$$.fragment),N(r,"class","svelte-50cg64"),N(f,"class","filter-value svelte-50cg64"),N(s,"class","horizontal svelte-50cg64"),N(g,"class","svelte-50cg64"),N(b,"class","horizontal svelte-50cg64"),N(j,"class","svelte-50cg64"),N(R,"class","horizontal svelte-50cg64"),N(t,"class","transform-wizard svelte-50cg64")},m(l,h){_(l,t,h),w(t,n),w(n,r),w(n,o),w(n,i),w(i,s),Be(a,s,null),w(s,c),Be(u,s,null),w(s,d),w(s,f),F(f,e[2]),w(t,p),w(t,m),w(m,g),w(m,v),w(m,y),w(y,b),Be(x,b,null),w(b,k),Be(S,b,null),w(t,P),w(t,A),w(A,j),w(A,T),w(A,z),w(z,R),Be(D,R,null),B=!0,q||(V=I(f,"input",e[18]),q=!0)},p(e,[t]){const n={};64&t&&(n.items=e[6]),!l&&1&t&&(l=!0,n.value=e[0],ve((()=>l=!1))),a.$set(n);const r={};!h&&2&t&&(h=!0,r.value=e[1],ve((()=>h=!1))),u.$set(r),4&t&&f.value!==e[2]&&F(f,e[2]);const o={};64&t&&(o.items=e[6]),!$&&8&t&&($=!0,o.value=e[3],ve((()=>$=!1))),x.$set(o);const i={};!C&&16&t&&(C=!0,i.value=e[4],ve((()=>C=!1))),S.$set(i);const s={};128&t&&(s.items=e[7]),!L&&32&t&&(L=!0,s.value=e[5],ve((()=>L=!1))),D.$set(s)},i(e){B||(Pe(a.$$.fragment,e),Pe(u.$$.fragment,e),Pe(x.$$.fragment,e),Pe(S.$$.fragment,e),Pe(D.$$.fragment,e),B=!0)},o(e){Ee(a.$$.fragment,e),Ee(u.$$.fragment,e),Ee(x.$$.fragment,e),Ee(S.$$.fragment,e),Ee(D.$$.fragment,e),B=!1},d(e){e&&O(t),Fe(a),Fe(u),Fe(x),Fe(S),Fe(D),q=!1,V()}}}function nB(e,t,n){let r,o,i,s,a;const l=He("jsoneditor:TransformWizard");let{json:c}=t,{queryOptions:u={}}=t,{onChange:h}=t;const d=["==","!=","<","<=",">",">="].map((e=>({value:e,label:e}))),f=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}];let p=u?.filter?.path?x(u.filter.path):null,m=u?.filter?.relation?d.find((e=>e.value===u.filter.relation)):null,g=u?.filter?.value||"",v=u?.sort?.path?x(u.sort.path):null,y=u?.sort?.direction?f.find((e=>e.value===u.sort.direction)):null,b=u?.projection?.paths?u.projection.paths.map(x):null;function x(e){return{value:e,label:rh(e)?"(whole item)":ib(e)}}return e.$$set=e=>{"json"in e&&n(11,c=e.json),"queryOptions"in e&&n(10,u=e.queryOptions),"onChange"in e&&n(12,h=e.onChange)},e.$$.update=()=>{var t,d,f,w;2048&e.$$.dirty&&n(15,r=Array.isArray(c)),34816&e.$$.dirty&&n(14,o=r?Zt(c):[]),34816&e.$$.dirty&&n(13,i=r?Zt(c,!0):[]),16384&e.$$.dirty&&n(6,s=o.map(x)),8192&e.$$.dirty&&n(7,a=i?i.map(x):[]),1088&e.$$.dirty&&u?.filter?.path&&s.find((e=>oh(e.value,u?.filter?.path))),1&e.$$.dirty&&(t=p?.value||null,oh(u?.filter?.path,t)||(l("changeFilterPath",t),n(10,u=Ct.exports.setIn(u,["filter","path"],t,!0)),h(u))),2&e.$$.dirty&&(d=m?.value||null,oh(u?.filter?.relation,d)||(l("changeFilterRelation",d),n(10,u=Ct.exports.setIn(u,["filter","relation"],d,!0)),h(u))),4&e.$$.dirty&&(f=g||null,oh(u?.filter?.value,f)||(l("changeFilterValue",f),n(10,u=Ct.exports.setIn(u,["filter","value"],f,!0)),h(u))),8&e.$$.dirty&&function(e){oh(u?.sort?.path,e)||(l("changeSortPath",e),n(10,u=Ct.exports.setIn(u,["sort","path"],e,!0)),h(u))}(v?.value||null),16&e.$$.dirty&&(w=y?.value||null,oh(u?.sort?.direction,w)||(l("changeSortDirection",w),n(10,u=Ct.exports.setIn(u,["sort","direction"],w,!0)),h(u))),32&e.$$.dirty&&function(e){oh(u?.projection?.paths,e)||(l("changeProjectionPaths",e),n(10,u=Ct.exports.setIn(u,["projection","paths"],e,!0)),h(u))}(b?b.map((e=>e.value)):null)},[p,m,g,v,y,b,s,a,d,f,u,c,h,i,o,r,function(e){p=e,n(0,p)},function(e){m=e,n(1,m)},function(){g=this.value,n(2,g)},function(e){v=e,n(3,v)},function(e){y=e,n(4,y)},function(e){b=e,n(5,b)}]}class rB extends Ve{constructor(e){super(),qe(this,e,nB,tB,l,{json:11,queryOptions:10,onChange:12},eB)}}function oB(e){$(e,"svelte-acxq9y",'.jse-select-query-language.svelte-acxq9y.svelte-acxq9y{position:relative;width:32px}.jse-select-query-language.svelte-acxq9y .jse-select-query-language-container.svelte-acxq9y{position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24)}.jse-select-query-language.svelte-acxq9y .jse-select-query-language-container .jse-query-language.svelte-acxq9y{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;text-align:left;padding:10px 20px;white-space:nowrap;color:white;background:#656565}.jse-select-query-language.svelte-acxq9y .jse-select-query-language-container .jse-query-language.svelte-acxq9y:hover{background:#727272}')}function iB(e,t,n){const r=e.slice();return r[5]=t[n],r}function sB(t){let n,r;return n=new Qy({props:{data:cz}}),{c(){Le(n.$$.fragment)},m(e,t){Be(n,e,t),r=!0},p:e,i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){Fe(n,e)}}}function aB(t){let n,r;return n=new Qy({props:{data:uz}}),{c(){Le(n.$$.fragment)},m(e,t){Be(n,e,t),r=!0},p:e,i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){Fe(n,e)}}}function lB(e){let t,n,r,o,i,s,a,l,c,u,h=e[5].name+"";const d=[aB,sB],f=[];function p(e,t){return e[5].id===e[0]?0:1}function m(){return e[4](e[5])}return n=p(e),r=f[n]=d[n](e),{c(){t=E("button"),r.c(),o=M(),i=j(h),s=M(),N(t,"type","button"),N(t,"class","jse-query-language svelte-acxq9y"),N(t,"title",a=`Select ${e[5].name} as query language`),U(t,"selected",e[5].id===e[0])},m(e,r){_(e,t,r),f[n].m(t,null),w(t,o),w(t,i),w(t,s),l=!0,c||(u=I(t,"click",m),c=!0)},p(s,c){let u=n;n=p(e=s),n===u?f[n].p(e,c):(_e(),Ee(f[u],1,1,(()=>{f[u]=null})),Oe(),r=f[n],r?r.p(e,c):(r=f[n]=d[n](e),r.c()),Pe(r,1),r.m(t,o)),(!l||2&c)&&h!==(h=e[5].name+"")&&B(i,h),(!l||2&c&&a!==(a=`Select ${e[5].name} as query language`))&&N(t,"title",a),3&c&&U(t,"selected",e[5].id===e[0])},i(e){l||(Pe(r),l=!0)},o(e){Ee(r),l=!1},d(e){e&&O(t),f[n].d(),c=!1,u()}}}function cB(e){let t,n,r,o=e[1],i=[];for(let t=0;t<o.length;t+=1)i[t]=lB(iB(e,o,t));const s=e=>Ee(i[e],1,1,(()=>{i[e]=null}));return{c(){t=E("div"),n=E("div");for(let e=0;e<i.length;e+=1)i[e].c();N(n,"class","jse-select-query-language-container svelte-acxq9y"),N(t,"class","jse-select-query-language svelte-acxq9y")},m(e,o){_(e,t,o),w(t,n);for(let e=0;e<i.length;e+=1)i[e].m(n,null);r=!0},p(e,[t]){if(7&t){let r;for(o=e[1],r=0;r<o.length;r+=1){const s=iB(e,o,r);i[r]?(i[r].p(s,t),Pe(i[r],1)):(i[r]=lB(s),i[r].c(),Pe(i[r],1),i[r].m(n,null))}for(_e(),r=o.length;r<i.length;r+=1)s(r);Oe()}},i(e){if(!r){for(let e=0;e<o.length;e+=1)Pe(i[e]);r=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Ee(i[e]);r=!1},d(e){e&&O(t),P(i,e)}}}function uB(e,t,n){let{queryLanguages:r}=t,{queryLanguageId:o}=t,{onChangeQueryLanguage:i}=t;function s(e){n(0,o=e),i(e)}return e.$$set=e=>{"queryLanguages"in e&&n(1,r=e.queryLanguages),"queryLanguageId"in e&&n(0,o=e.queryLanguageId),"onChangeQueryLanguage"in e&&n(3,i=e.onChangeQueryLanguage)},[o,r,s,i,e=>s(e.id)]}class hB extends Ve{constructor(e){super(),qe(this,e,uB,cB,a,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3},oB)}}function dB(e){$(e,"svelte-46oub0",".header.svelte-46oub0.svelte-46oub0{display:flex;background:#3883fa;color:#fff}.header.svelte-46oub0 .title.svelte-46oub0{flex:1;padding:5px;vertical-align:middle}.header.svelte-46oub0 button.svelte-46oub0{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.header.svelte-46oub0 button.svelte-46oub0:hover{background:rgba(255, 255, 255, 0.1)}")}function fB(t){let n,r,o,i,s;return r=new Qy({props:{data:fy}}),{c(){n=E("button"),Le(r.$$.fragment),N(n,"type","button"),N(n,"class","config svelte-46oub0"),N(n,"title","Select a query language")},m(e,a){_(e,n,a),Be(r,n,null),t[6](n),o=!0,i||(s=I(n,"click",t[3]),i=!0)},p:e,i(e){o||(Pe(r.$$.fragment,e),o=!0)},o(e){Ee(r.$$.fragment,e),o=!1},d(e){e&&O(n),Fe(r),t[6](null),i=!1,s()}}}function pB(e){let t,n,r,o,i,s,a,l,c,u=e[0].length>1&&fB(e);return s=new Qy({props:{data:$y}}),{c(){t=E("div"),n=E("div"),n.textContent="Transform",r=M(),u&&u.c(),o=M(),i=E("button"),Le(s.$$.fragment),N(n,"class","title svelte-46oub0"),N(i,"type","button"),N(i,"class","close svelte-46oub0"),N(t,"class","header svelte-46oub0")},m(h,d){_(h,t,d),w(t,n),w(t,r),u&&u.m(t,null),w(t,o),w(t,i),Be(s,i,null),a=!0,l||(c=I(i,"click",e[2]),l=!0)},p(e,[n]){e[0].length>1?u?(u.p(e,n),1&n&&Pe(u,1)):(u=fB(e),u.c(),Pe(u,1),u.m(t,o)):u&&(_e(),Ee(u,1,1,(()=>{u=null})),Oe())},i(e){a||(Pe(u),Pe(s.$$.fragment,e),a=!0)},o(e){Ee(u),Ee(s.$$.fragment,e),a=!1},d(e){e&&O(t),u&&u.d(),Fe(s),l=!1,c()}}}function mB(e,t,n){let r,{queryLanguages:o}=t,{queryLanguageId:i}=t,{onChangeQueryLanguage:s}=t;const{close:a}=ae("simple-modal"),{openAbsolutePopup:l,closeAbsolutePopup:c}=ae("absolute-popup");return e.$$set=e=>{"queryLanguages"in e&&n(0,o=e.queryLanguages),"queryLanguageId"in e&&n(4,i=e.queryLanguageId),"onChangeQueryLanguage"in e&&n(5,s=e.onChangeQueryLanguage)},[o,r,a,function(){l(hB,{queryLanguages:o,queryLanguageId:i,onChangeQueryLanguage:e=>{c(),s(e)}},{position:"bottom",offsetTop:-2,offsetLeft:0,anchor:r,closeOnOuterClick:!0})},i,s,function(e){ce[e?"unshift":"push"]((()=>{r=e,n(1,r)}))}]}class gB extends Ve{constructor(e){super(),qe(this,e,mB,pB,l,{queryLanguages:0,queryLanguageId:4,onChangeQueryLanguage:5},dB)}}function vB(e){$(e,"svelte-c7x8op",'.jsoneditor-modal.svelte-c7x8op.svelte-c7x8op{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--itemIsActiveBG:#3883fa;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;color:#1a1a1a}.jsoneditor-modal.svelte-c7x8op .contents.svelte-c7x8op{padding:20px;overflow:auto}.jsoneditor-modal.svelte-c7x8op .contents .actions.svelte-c7x8op{display:flex;flex-direction:row;justify-content:flex-end;padding-top:10px}.jsoneditor-modal.svelte-c7x8op .contents .actions button.svelte-c7x8op{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;background:#3883fa;color:#fff;padding:10px 20px;border-radius:3px}.jsoneditor-modal.svelte-c7x8op .contents .actions button.svelte-c7x8op:hover{background:#5b99fb}.jsoneditor-modal.svelte-c7x8op .contents .actions button.svelte-c7x8op:disabled{background:rgb(157, 157, 157)}.bg{width:100%;height:100%}.bg .window-wrap{margin:0}.bg .window{max-width:90%;margin:4rem auto 2rem auto}.bg .content{max-height:calc(100vh - 6rem)}.jsoneditor-modal.transform.svelte-c7x8op .contents.svelte-c7x8op{flex:1;display:flex;flex-direction:column;color:#656565;min-height:0;padding:0}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents.svelte-c7x8op{flex:1;display:flex;gap:20px;min-height:0;box-sizing:border-box;padding:20px;padding-top:0;padding-bottom:10px}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .query-contents.svelte-c7x8op{flex:1;display:flex;flex-direction:column}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .query-contents .description.svelte-c7x8op{color:#656565}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .query-contents .description.svelte-c7x8op p{margin:10px 0}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .query-contents .description.svelte-c7x8op p:first-child{margin-top:0}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .query-contents .description.svelte-c7x8op p:last-child{margin-bottom:0}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .query-contents .description.svelte-c7x8op code{background:#f5f5f5;font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .query-contents textarea.query.svelte-c7x8op{flex:1;outline:none;resize:vertical}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .data-contents.svelte-c7x8op{flex:1;display:flex;flex-direction:column;gap:20px}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .data-contents .original-data.svelte-c7x8op{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .data-contents .original-data.hide.svelte-c7x8op{flex:none}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .data-contents .preview-data.svelte-c7x8op{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .data-contents.hide-original-data.svelte-c7x8op{flex-direction:column;gap:0;margin-bottom:0}.jsoneditor-modal.transform.svelte-c7x8op .contents .actions.svelte-c7x8op{padding:20px;padding-top:10px}@media screen and (max-width: 1200px){.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents.svelte-c7x8op{flex-direction:column;overflow:auto}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .query-contents textarea.query.svelte-c7x8op{min-height:150px;flex:none}.jsoneditor-modal.transform.svelte-c7x8op .contents .main-contents .data-contents.svelte-c7x8op .tree-mode{height:300px;flex:none}}.jsoneditor-modal.transform.svelte-c7x8op .label.svelte-c7x8op{font-weight:bold;display:block;box-sizing:border-box}.jsoneditor-modal.transform.svelte-c7x8op .label .label-inner.svelte-c7x8op{margin-top:20px;margin-bottom:5px;box-sizing:border-box}.jsoneditor-modal.transform.svelte-c7x8op .label .label-inner button.svelte-c7x8op{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;font-weight:bold;padding:0}.jsoneditor-modal.transform.svelte-c7x8op .tree-mode{flex:1;border:1px solid #f5f5f5;box-shadow:none;box-sizing:border-box}.jsoneditor-modal.transform.svelte-c7x8op .tree-mode.focus{border:1px solid #3883fa}.jsoneditor-modal.transform.svelte-c7x8op input.svelte-c7x8op,.jsoneditor-modal.transform.svelte-c7x8op textarea.svelte-c7x8op{border:1px solid #d8dbdf;outline:none;box-sizing:border-box;padding:5px;font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;color:#1a1a1a}.jsoneditor-modal.transform.svelte-c7x8op input.svelte-c7x8op:focus,.jsoneditor-modal.transform.svelte-c7x8op textarea.svelte-c7x8op:focus{border-color:#3883fa}.jsoneditor-modal.transform.svelte-c7x8op input.svelte-c7x8op:read-only,.jsoneditor-modal.transform.svelte-c7x8op textarea.svelte-c7x8op:read-only{border-color:#f5f5f5}.jsoneditor-modal.transform.svelte-c7x8op .preview.error.svelte-c7x8op{flex:1;border:1px solid #f5f5f5;color:#ee5341;padding:5px}')}function yB(e){let t,n,r,o,i;const s=[xB,bB],a=[];function l(e,n){return 512&n[0]&&(t=null),null==t&&(t=!!Array.isArray(e[9])),t?0:1}return n=l(e,[-1,-1]),r=a[n]=s[n](e),{c(){r.c(),o=T()},m(e,t){a[n].m(e,t),_(e,o,t),i=!0},p(e,t){let i=n;n=l(e,t),n===i?a[n].p(e,t):(_e(),Ee(a[i],1,1,(()=>{a[i]=null})),Oe(),r=a[n],r?r.p(e,t):(r=a[n]=s[n](e),r.c()),Pe(r,1),r.m(o.parentNode,o))},i(e){i||(Pe(r),i=!0)},o(e){Ee(r),i=!1},d(e){a[n].d(e),e&&O(o)}}}function bB(t){let n;return{c(){n=j("(Only available for arrays, not for objects)")},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}function xB(e){let t,n;return t=new rB({props:{queryOptions:e[7],json:e[9],onChange:e[16]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.queryOptions=e[7]),512&n[0]&&(r.json=e[9]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function wB(e){let t,n;return t=new bD({props:{externalContent:e[14],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:e[2],escapeUnicodeCharacters:e[3],onRenderValue:e[5],onError:console.error,onChange:_r,onFocus:_r,onBlur:_r,onSortModal:_r,onTransformModal:_r,onClassName:e[6]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};16384&n[0]&&(r.externalContent=e[14]),4&n[0]&&(r.escapeControlCharacters=e[2]),8&n[0]&&(r.escapeUnicodeCharacters=e[3]),32&n[0]&&(r.onRenderValue=e[5]),64&n[0]&&(r.onClassName=e[6]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function $B(t){let n,r,o=t[12].toString()+"";return{c(){n=E("div"),r=j(o),N(n,"class","preview error svelte-c7x8op")},m(e,t){_(e,n,t),w(n,r)},p(e,t){4096&t[0]&&o!==(o=e[12].toString()+"")&&B(r,o)},i:e,o:e,d(e){e&&O(n)}}}function kB(e){let t,n;return t=new bD({props:{externalContent:e[13],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:e[2],escapeUnicodeCharacters:e[3],onRenderValue:e[5],onError:console.error,onChange:_r,onFocus:_r,onBlur:_r,onSortModal:_r,onTransformModal:_r,onClassName:e[6]}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.externalContent=e[13]),4&n[0]&&(r.escapeControlCharacters=e[2]),8&n[0]&&(r.escapeUnicodeCharacters=e[3]),32&n[0]&&(r.onRenderValue=e[5]),64&n[0]&&(r.onClassName=e[6]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function SB(e){let t,n,r,o,s,a,l,c,u,h,d,f,p,g,v,y,b,x,$,k,S,C,P,A,T,z,R,D,L,B,F,q,V,H,W,J,K,G,Q,Y,Z,X,ee,te,ne,re,oe,ie=e[15](e[0]).description+"";t=new gB({props:{queryLanguages:e[4],queryLanguageId:e[0],onChangeQueryLanguage:e[21]}}),x=new Qy({props:{data:e[10]?ty:ny}});let se=e[10]&&yB(e);F=new Qy({props:{data:e[11]?ty:ny}});let ae=e[11]&&wB(e);const le=[kB,$B],ce=[];function ue(e,t){return e[12]?1:0}return G=ue(e),Q=ce[G]=le[G](e),{c(){Le(t.$$.fragment),n=M(),r=E("div"),o=E("div"),s=E("div"),a=E("div"),a.innerHTML='<div class="label-inner svelte-c7x8op">Language</div>',l=M(),c=E("div"),u=M(),h=E("div"),h.innerHTML='<div class="label-inner svelte-c7x8op">Path</div>',d=M(),f=E("input"),g=M(),v=E("div"),y=E("div"),b=E("button"),Le(x.$$.fragment),$=j("\n                Wizard"),k=M(),se&&se.c(),S=M(),C=E("div"),C.innerHTML='<div class="label-inner svelte-c7x8op">Query</div>',P=M(),A=E("textarea"),T=M(),z=E("div"),R=E("div"),D=E("div"),L=E("div"),B=E("button"),Le(F.$$.fragment),q=j("\n                  Original"),V=M(),ae&&ae.c(),H=M(),W=E("div"),J=E("div"),J.innerHTML='<div class="label-inner svelte-c7x8op">Preview</div>',K=M(),Q.c(),Y=M(),Z=E("div"),X=E("button"),ee=j("Transform"),N(a,"class","label svelte-c7x8op"),N(c,"class","description svelte-c7x8op"),N(h,"class","label svelte-c7x8op"),N(f,"class","path svelte-c7x8op"),N(f,"type","text"),f.readOnly=!0,N(f,"title","Selected path"),f.value=p=rh(e[1])?"(whole document)":ib(e[1]),N(b,"type","button"),N(b,"class","svelte-c7x8op"),N(y,"class","label-inner svelte-c7x8op"),N(v,"class","label svelte-c7x8op"),N(C,"class","label svelte-c7x8op"),N(A,"class","query svelte-c7x8op"),N(A,"spellcheck","false"),A.value=e[8],N(s,"class","query-contents svelte-c7x8op"),N(B,"type","button"),N(B,"class","svelte-c7x8op"),N(L,"class","label-inner svelte-c7x8op"),N(D,"class","label svelte-c7x8op"),N(R,"class","original-data svelte-c7x8op"),U(R,"hide",!e[11]),N(J,"class","label svelte-c7x8op"),N(W,"class","preview-data svelte-c7x8op"),N(z,"class","data-contents svelte-c7x8op"),U(z,"hide-original-data",!e[11]),N(o,"class","main-contents svelte-c7x8op"),N(X,"type","button"),N(X,"class","primary svelte-c7x8op"),X.disabled=te=!!e[12],N(Z,"class","actions svelte-c7x8op"),N(r,"class","contents svelte-c7x8op")},m(i,p){Be(t,i,p),_(i,n,p),_(i,r,p),w(r,o),w(o,s),w(s,a),w(s,l),w(s,c),c.innerHTML=ie,w(s,u),w(s,h),w(s,d),w(s,f),w(s,g),w(s,v),w(v,y),w(y,b),Be(x,b,null),w(b,$),w(s,k),se&&se.m(s,null),w(s,S),w(s,C),w(s,P),w(s,A),w(o,T),w(o,z),w(z,R),w(R,D),w(D,L),w(L,B),Be(F,B,null),w(B,q),w(R,V),ae&&ae.m(R,null),w(z,H),w(z,W),w(W,J),w(W,K),ce[G].m(W,null),w(r,Y),w(r,Z),w(Z,X),w(X,ee),ne=!0,re||(oe=[I(b,"click",e[19]),I(A,"input",e[17]),I(B,"click",e[20]),I(X,"click",e[18]),m(_B.call(null,X))],re=!0)},p(e,n){const r={};16&n[0]&&(r.queryLanguages=e[4]),1&n[0]&&(r.queryLanguageId=e[0]),t.$set(r),(!ne||1&n[0])&&ie!==(ie=e[15](e[0]).description+"")&&(c.innerHTML=ie),(!ne||2&n[0]&&p!==(p=rh(e[1])?"(whole document)":ib(e[1]))&&f.value!==p)&&(f.value=p);const o={};1024&n[0]&&(o.data=e[10]?ty:ny),x.$set(o),e[10]?se?(se.p(e,n),1024&n[0]&&Pe(se,1)):(se=yB(e),se.c(),Pe(se,1),se.m(s,S)):se&&(_e(),Ee(se,1,1,(()=>{se=null})),Oe()),(!ne||256&n[0])&&(A.value=e[8]);const i={};2048&n[0]&&(i.data=e[11]?ty:ny),F.$set(i),e[11]?ae?(ae.p(e,n),2048&n[0]&&Pe(ae,1)):(ae=wB(e),ae.c(),Pe(ae,1),ae.m(R,null)):ae&&(_e(),Ee(ae,1,1,(()=>{ae=null})),Oe()),2048&n[0]&&U(R,"hide",!e[11]);let a=G;G=ue(e),G===a?ce[G].p(e,n):(_e(),Ee(ce[a],1,1,(()=>{ce[a]=null})),Oe(),Q=ce[G],Q?Q.p(e,n):(Q=ce[G]=le[G](e),Q.c()),Pe(Q,1),Q.m(W,null)),2048&n[0]&&U(z,"hide-original-data",!e[11]),(!ne||4096&n[0]&&te!==(te=!!e[12]))&&(X.disabled=te)},i(e){ne||(Pe(t.$$.fragment,e),Pe(x.$$.fragment,e),Pe(se),Pe(F.$$.fragment,e),Pe(ae),Pe(Q),ne=!0)},o(e){Ee(t.$$.fragment,e),Ee(x.$$.fragment,e),Ee(se),Ee(F.$$.fragment,e),Ee(ae),Ee(Q),ne=!1},d(e){Fe(t,e),e&&O(n),e&&O(r),Fe(x),se&&se.d(),Fe(F),ae&&ae.d(),ce[G].d(),re=!1,i(oe)}}}function CB(e){let t,n,r;return n=new Kv({props:{$$slots:{default:[SB]},$$scope:{ctx:e}}}),{c(){t=E("div"),Le(n.$$.fragment),N(t,"class","jsoneditor-modal transform svelte-c7x8op")},m(e,o){_(e,t,o),Be(n,t,null),r=!0},p(e,t){const r={};32767&t[0]|8&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(Pe(n.$$.fragment,e),r=!0)},o(e){Ee(n.$$.fragment,e),r=!1},d(e){e&&O(t),Fe(n)}}}function _B(e){e.focus()}function OB(e,t,n){let r,o;const i=He("jsoneditor:TransformModal");let{id:s="transform-modal-"+kt()}=t,{json:a}=t,{selectedPath:l=[]}=t,{escapeControlCharacters:c}=t,{escapeUnicodeCharacters:u}=t,{queryLanguages:h}=t,{queryLanguageId:d}=t,{onChangeQueryLanguage:f}=t,{onRenderValue:p}=t,{onClassName:m}=t,{onTransform:g}=t;const{close:v}=ae("simple-modal"),y=`${s}:${Ct.exports.compileJSONPointer(l)}`,b=UD[y]||{};let x,w=!1!==UD.showWizard,$=!1!==UD.showOriginal,k=b.queryOptions||{},S=d===b.queryLanguageId&&b.query?b.query:O(d).createQuery(a,b.queryOptions||{}),C=b.isManual||!1,_={text:""};function O(e){return h.find((t=>t.id===e))||h[0]}const P=Nl((function(e,t){try{i("previewTransform",{query:t});const r=O(d).executeQuery(e,t);n(13,_={json:r}),n(12,x=void 0)}catch(e){n(13,_={text:""}),n(12,x=e)}}),300);return e.$$set=e=>{"id"in e&&n(22,s=e.id),"json"in e&&n(23,a=e.json),"selectedPath"in e&&n(1,l=e.selectedPath),"escapeControlCharacters"in e&&n(2,c=e.escapeControlCharacters),"escapeUnicodeCharacters"in e&&n(3,u=e.escapeUnicodeCharacters),"queryLanguages"in e&&n(4,h=e.queryLanguages),"queryLanguageId"in e&&n(0,d=e.queryLanguageId),"onChangeQueryLanguage"in e&&n(24,f=e.onChangeQueryLanguage),"onRenderValue"in e&&n(5,p=e.onRenderValue),"onClassName"in e&&n(6,m=e.onClassName),"onTransform"in e&&n(25,g=e.onTransform)},e.$$.update=()=>{8388610&e.$$.dirty[0]&&n(9,r=Ct.exports.getIn(a,l)),512&e.$$.dirty[0]&&n(14,o={json:r}),768&e.$$.dirty[0]&&P(r,S),201326977&e.$$.dirty[0]&&(n(26,UD[y]={queryOptions:k,query:S,queryLanguageId:d,isManual:C},UD),i("store state in memory",y,UD[y]))},[d,l,c,u,h,p,m,k,S,r,w,$,x,_,o,O,function(e){n(7,k=e),n(8,S=O(d).createQuery(a,e)),n(27,C=!1),i("updateQueryByWizard",{queryOptions:k,query:S,isManual:C})},function(e){n(8,S=e.target.value),n(27,C=!0),i("handleChangeQuery",{query:S,isManual:C})},function(){try{i("handleTransform",{query:S});const e=O(d).executeQuery(r,S);g([{op:"replace",path:Ct.exports.compileJSONPointer(l),value:e}]),v()}catch(e){console.error(e),n(13,_={text:""}),n(12,x=e.toString())}},function(){n(10,w=!w),n(26,UD.showWizard=w,UD)},function(){n(11,$=!$),n(26,UD.showOriginal=$,UD)},function(e){i("handleChangeQueryLanguage",e),n(0,d=e),f(e);const t=O(d);n(8,S=t.createQuery(a,k)),n(27,C=!1)},s,a,f,g,UD,C]}class PB extends Ve{constructor(e){super(),qe(this,e,OB,CB,l,{id:22,json:23,selectedPath:1,escapeControlCharacters:2,escapeUnicodeCharacters:3,queryLanguages:4,queryLanguageId:0,onChangeQueryLanguage:24,onRenderValue:5,onClassName:6,onTransform:25},vB,[-1,-1])}}const EB={};function AB(e){$(e,"svelte-1ernsgm",'.jsoneditor-modal.svelte-1ernsgm.svelte-1ernsgm{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--itemIsActiveBG:#3883fa;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;color:#1a1a1a}.jsoneditor-modal.svelte-1ernsgm .contents.svelte-1ernsgm{padding:20px;overflow:auto}.jsoneditor-modal.svelte-1ernsgm .contents .actions.svelte-1ernsgm{display:flex;flex-direction:row;justify-content:flex-end;padding-top:10px}.jsoneditor-modal.svelte-1ernsgm .contents .actions button.svelte-1ernsgm{border:none;background:transparent;color:inherit;cursor:pointer;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;padding:5px;margin:0;background:#3883fa;color:#fff;padding:10px 20px;border-radius:3px}.jsoneditor-modal.svelte-1ernsgm .contents .actions button.svelte-1ernsgm:hover{background:#5b99fb}.jsoneditor-modal.svelte-1ernsgm .contents .actions button.svelte-1ernsgm:disabled{background:rgb(157, 157, 157)}.bg{width:100%;height:100%}.bg .window-wrap{margin:0}.bg .window{max-width:90%;margin:4rem auto 2rem auto}.bg .content{max-height:calc(100vh - 6rem)}.jsoneditor-modal.sort.svelte-1ernsgm table.svelte-1ernsgm{width:100%;border-collapse:collapse;border-spacing:0}.jsoneditor-modal.sort.svelte-1ernsgm table th.svelte-1ernsgm,.jsoneditor-modal.sort.svelte-1ernsgm table td.svelte-1ernsgm{text-align:left;vertical-align:middle;font-weight:normal;padding-bottom:10px}.jsoneditor-modal.sort.svelte-1ernsgm table th input.path.svelte-1ernsgm,.jsoneditor-modal.sort.svelte-1ernsgm table td input.path.svelte-1ernsgm{width:100%;box-sizing:border-box;padding:6px 16px;border:1px solid #d8dbdf;border-radius:3px;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;font-size:16px;color:#1a1a1a;outline:none}.jsoneditor-modal.sort.svelte-1ernsgm table th input.path.svelte-1ernsgm:read-only,.jsoneditor-modal.sort.svelte-1ernsgm table td input.path.svelte-1ernsgm:read-only{border:1px solid #f5f5f5}.jsoneditor-modal.sort.svelte-1ernsgm table th.svelte-1ernsgm .selectContainer input,.jsoneditor-modal.sort.svelte-1ernsgm table td.svelte-1ernsgm .selectContainer input{box-sizing:border-box}.jsoneditor-modal.sort.svelte-1ernsgm .space.svelte-1ernsgm{height:200px}')}function jB(e){let t,n,r,o,i,s,a;function l(t){e[12](t)}let c={showIndicator:!0,items:e[4]};return void 0!==e[1]&&(c.value=e[1]),i=new XL({props:c}),ce.push((()=>De(i,"value",l))),{c(){t=E("tr"),n=E("th"),n.textContent="Property",r=M(),o=E("td"),Le(i.$$.fragment),N(n,"class","svelte-1ernsgm"),N(o,"class","svelte-1ernsgm")},m(e,s){_(e,t,s),w(t,n),w(t,r),w(t,o),Be(i,o,null),a=!0},p(e,t){const n={};16&t&&(n.items=e[4]),!s&&2&t&&(s=!0,n.value=e[1],ve((()=>s=!1))),i.$set(n)},i(e){a||(Pe(i.$$.fragment,e),a=!0)},o(e){Ee(i.$$.fragment,e),a=!1},d(e){e&&O(t),Fe(i)}}}function MB(e){let t,n,r,o,s,a,l,c,u,h,d,f,p,g,v,y,b,x,$,k,S,C,P,A,T,z,R,D,L,B,F,q;n=new RI({props:{title:e[3]?"Sort array items":"Sort object keys"}});let V=e[3]&&(e[4].length>1||void 0===e[1])&&jB(e);function H(t){e[13](t)}let W={containerClasses:"test-class",showIndicator:!0,items:e[5],isClearable:!1};return void 0!==e[2]&&(W.value=e[2]),S=new XL({props:W}),ce.push((()=>De(S,"value",H))),{c(){t=E("div"),Le(n.$$.fragment),r=M(),o=E("div"),s=E("table"),a=E("colgroup"),a.innerHTML='<col width="25%"/> \n        <col width="75%"/>',l=M(),c=E("tbody"),u=E("tr"),h=E("th"),h.textContent="Path",d=M(),f=E("td"),p=E("input"),v=M(),V&&V.c(),y=M(),b=E("tr"),x=E("th"),x.textContent="Direction",$=M(),k=E("td"),Le(S.$$.fragment),P=M(),A=E("div"),T=M(),z=E("div"),R=E("button"),D=j("Sort"),N(h,"class","svelte-1ernsgm"),N(p,"class","path svelte-1ernsgm"),N(p,"type","text"),p.readOnly=!0,N(p,"title","Selected path"),p.value=g=rh(e[0])?"(whole document)":ib(e[0]),N(f,"class","svelte-1ernsgm"),N(x,"class","svelte-1ernsgm"),N(k,"class","svelte-1ernsgm"),N(s,"class","svelte-1ernsgm"),N(A,"class","space svelte-1ernsgm"),N(R,"type","button"),N(R,"class","primary svelte-1ernsgm"),R.disabled=L=!!e[3]&&!e[1],N(z,"class","actions svelte-1ernsgm"),N(o,"class","contents svelte-1ernsgm"),N(t,"class","jsoneditor-modal sort svelte-1ernsgm")},m(i,g){_(i,t,g),Be(n,t,null),w(t,r),w(t,o),w(o,s),w(s,a),w(s,l),w(s,c),w(c,u),w(u,h),w(u,d),w(u,f),w(f,p),w(c,v),V&&V.m(c,null),w(c,y),w(c,b),w(b,x),w(b,$),w(b,k),Be(S,k,null),w(o,P),w(o,A),w(o,T),w(o,z),w(z,R),w(R,D),B=!0,F||(q=[I(R,"click",e[6]),m(TB.call(null,R))],F=!0)},p(e,[t]){const r={};8&t&&(r.title=e[3]?"Sort array items":"Sort object keys"),n.$set(r),(!B||1&t&&g!==(g=rh(e[0])?"(whole document)":ib(e[0]))&&p.value!==g)&&(p.value=g),e[3]&&(e[4].length>1||void 0===e[1])?V?(V.p(e,t),26&t&&Pe(V,1)):(V=jB(e),V.c(),Pe(V,1),V.m(c,y)):V&&(_e(),Ee(V,1,1,(()=>{V=null})),Oe());const o={};!C&&4&t&&(C=!0,o.value=e[2],ve((()=>C=!1))),S.$set(o),(!B||10&t&&L!==(L=!!e[3]&&!e[1]))&&(R.disabled=L)},i(e){B||(Pe(n.$$.fragment,e),Pe(V),Pe(S.$$.fragment,e),B=!0)},o(e){Ee(n.$$.fragment,e),Ee(V),Ee(S.$$.fragment,e),B=!1},d(e){e&&O(t),Fe(n),V&&V.d(),Fe(S),F=!1,i(q)}}}function TB(e){e.focus()}function IB(e,t,n){let r,o,i;const s=He("jsoneditor:SortModal");let{id:a}=t,{json:l}=t,{selectedPath:c}=t,{onSort:u}=t;const{close:h}=ae("simple-modal"),d=`${a}:${Ct.exports.compileJSONPointer(c)}`,f=Ct.exports.getIn(l,c),p={value:1,label:"ascending"},m=[p,{value:-1,label:"descending"}];let g=EB[d]&&EB[d].selectedProperty||void 0,v=EB[d]&&EB[d].selectedDirection||p;function y(e){return{value:e,label:rh(e)?"(whole item)":ib(e)}}return e.$$set=e=>{"id"in e&&n(7,a=e.id),"json"in e&&n(8,l=e.json),"selectedPath"in e&&n(0,c=e.selectedPath),"onSort"in e&&n(9,u=e.onSort)},e.$$.update=()=>{8&e.$$.dirty&&n(11,o=r?Zt(f):void 0),2048&e.$$.dirty&&n(4,i=o?o.map(y):void 0),18&e.$$.dirty&&void 0===g&&i&&1===i.length&&n(1,g=i[0]),1030&e.$$.dirty&&(n(10,EB[d]={selectedProperty:g,selectedDirection:v},EB),s("store state in memory",d,EB[d]))},n(3,r=Array.isArray(f)),[c,g,v,r,i,m,function(){if(r){if(!g)return;const e=g.value,t=v.value,n=RR(l,c,e,t);u(n)}else if(Vt(f)){const e=v.value,t=function(e,t=[],n=1){const r=Ct.exports.getIn(e,t),o=Object.keys(r).slice();o.sort(((e,t)=>n*NR(e,t)));const i=[];for(let e=0;e<o.length;e++){const n=o[e],r=Ct.exports.compileJSONPointer(t.concat(n));i.push({op:"move",from:r,path:r})}return i}(l,c,e);u(t)}else console.error("Cannot sort: no array or object");h()},a,l,u,EB,o,function(e){g=e,n(1,g),n(4,i),n(11,o),n(3,r)},function(e){v=e,n(2,v)}]}class zB extends Ve{constructor(e){super(),qe(this,e,IB,MB,l,{id:7,json:8,selectedPath:0,onSort:9},AB)}}function NB(e,t,n){const r=ae("simple-modal");return[r.open,r.close]}class RB extends Ve{constructor(e){super(),qe(this,e,NB,null,l,{open:0,close:1})}get open(){return this.$$.ctx[0]}get close(){return this.$$.ctx[1]}}function DB(e){$(e,"svelte-9i9wy0",".jsoneditor-main.svelte-9i9wy0{width:100%;height:100%;min-width:0;min-height:150px;border:1px solid #3883fa;position:relative;display:flex;flex-direction:row}.jsoneditor-main.focus.svelte-9i9wy0{box-shadow:0 0 10px 0 rgba(56, 131, 250, 0.8)}")}function LB(e){let t,n,r={readOnly:e[2],indentation:e[3],externalContent:e[0],mainMenuBar:e[4],navigationBar:e[5],escapeControlCharacters:e[6],escapeUnicodeCharacters:e[7],validator:e[8],onError:e[11],onChange:e[21],onRequestRepair:e[23],onRenderValue:e[9],onClassName:e[10],onFocus:e[25],onBlur:e[26],onRenderMenu:e[27],onSortModal:e[13],onTransformModal:e[12]};return t=new bD({props:r}),e[51](t),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.readOnly=e[2]),8&n[0]&&(r.indentation=e[3]),1&n[0]&&(r.externalContent=e[0]),16&n[0]&&(r.mainMenuBar=e[4]),32&n[0]&&(r.navigationBar=e[5]),64&n[0]&&(r.escapeControlCharacters=e[6]),128&n[0]&&(r.escapeUnicodeCharacters=e[7]),256&n[0]&&(r.validator=e[8]),2048&n[0]&&(r.onError=e[11]),512&n[0]&&(r.onRenderValue=e[9]),1024&n[0]&&(r.onClassName=e[10]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(n){e[51](null),Fe(t,n)}}}function BB(e){let t,n,r={text:e[20],readOnly:e[2],indentation:e[3],mainMenuBar:e[4],escapeUnicodeCharacters:e[7],validator:e[8],onChange:e[22],onSwitchToTreeMode:e[24],onError:e[11],onFocus:e[25],onBlur:e[26],onRenderMenu:e[27],onSortModal:e[13],onTransformModal:e[12]};return t=new dI({props:r}),e[50](t),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};1048576&n[0]&&(r.text=e[20]),4&n[0]&&(r.readOnly=e[2]),8&n[0]&&(r.indentation=e[3]),16&n[0]&&(r.mainMenuBar=e[4]),128&n[0]&&(r.escapeUnicodeCharacters=e[7]),256&n[0]&&(r.validator=e[8]),2048&n[0]&&(r.onError=e[11]),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(n){e[50](null),Fe(t,n)}}}function FB(e){let t,n,r,o;const i=[BB,LB],s=[];function a(e,t){return e[1]===rt.CODE?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=T()},m(e,n){s[t].m(e,n),_(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?s[t].p(e,o):(_e(),Ee(s[l],1,1,(()=>{s[l]=null})),Oe(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),Pe(n,1),n.m(r.parentNode,r))},i(e){o||(Pe(n),o=!0)},o(e){Ee(n),o=!1},d(e){s[t].d(e),e&&O(r)}}}function qB(t){let n,r,o=t[14],i=FB(t);return{c(){n=E("div"),i.c(),N(n,"class","jsoneditor-main svelte-9i9wy0"),U(n,"focus",t[15])},m(e,o){_(e,n,o),i.m(n,null),t[52](n),r=!0},p(t,r){16384&r[0]&&l(o,o=t[14])?(_e(),Ee(i,1,1,e),Oe(),i=FB(t),i.c(),Pe(i),i.m(n,null)):i.p(t,r),32768&r[0]&&U(n,"focus",t[15])},i(e){r||(Pe(i),r=!0)},o(e){Ee(i),r=!1},d(e){e&&O(n),i.d(e),t[52](null)}}}function VB(e){let t,n,r,o,i;function s(t){e[49](t)}let a={};return void 0!==e[19]&&(a.open=e[19]),t=new RB({props:a}),ce.push((()=>De(t,"open",s))),o=new Kv({props:{$$slots:{default:[qB]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment),r=M(),Le(o.$$.fragment)},m(e,n){Be(t,e,n),_(e,r,n),Be(o,e,n),i=!0},p(e,r){const i={};!n&&524288&r[0]&&(n=!0,i.open=e[19],ve((()=>n=!1))),t.$set(i);const s={};1560575&r[0]|268435456&r[1]&&(s.$$scope={dirty:r,ctx:e}),o.$set(s)},i(e){i||(Pe(t.$$.fragment,e),Pe(o.$$.fragment,e),i=!0)},o(e){Ee(t.$$.fragment,e),Ee(o.$$.fragment,e),i=!1},d(e){Fe(t,e),e&&O(r),Fe(o,e)}}}function HB(e){let t,n;return t=new nt({props:{$$slots:{default:[VB]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment)},m(e,r){Be(t,e,r),n=!0},p(e,n){const r={};2084863&n[0]|268435456&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Pe(t.$$.fragment,e),n=!0)},o(e){Ee(t.$$.fragment,e),n=!1},d(e){Fe(t,e)}}}function WB(e){this.$set(e)}function UB(){this.$destroy()}function JB(e,t,n){let r,o,i;const s=He("jsoneditor:Main");let a,l,c,u,{content:h={text:""}}=t,{readOnly:d=!1}=t,{indentation:f=2}=t,{mode:p=rt.TREE}=t,{mainMenuBar:m=!0}=t,{navigationBar:g=!0}=t,{escapeControlCharacters:v=!1}=t,{escapeUnicodeCharacters:y=!1}=t,{validator:b=null}=t,{queryLanguages:x=[xD]}=t,{queryLanguageId:w=x[0].id}=t,{onChangeQueryLanguage:$=(()=>{})}=t,{onChange:k=null}=t,{onRenderValue:S=WD}=t,{onClassName:C=(()=>{})}=t,{onRenderMenu:_=(()=>{})}=t,{onChangeMode:O=(()=>{})}=t,{onError:P=(e=>{console.error(e),alert(e.toString())})}=t,{onFocus:E=(()=>{})}=t,{onBlur:A=(()=>{})}=t,j=kt(),M=!1;function T(){c?c.focus():l&&l.focus()}function I(e,t,r){n(0,h=e),k&&k(e,t,r)}async function z(e){p!==e&&(n(1,p=e),await me(),T(),O(e))}const N={separator:!0};function R(e){s("handleChangeQueryLanguage",e),n(28,w=e),$(e)}return e.$$set=e=>{"content"in e&&n(0,h=e.content),"readOnly"in e&&n(2,d=e.readOnly),"indentation"in e&&n(3,f=e.indentation),"mode"in e&&n(1,p=e.mode),"mainMenuBar"in e&&n(4,m=e.mainMenuBar),"navigationBar"in e&&n(5,g=e.navigationBar),"escapeControlCharacters"in e&&n(6,v=e.escapeControlCharacters),"escapeUnicodeCharacters"in e&&n(7,y=e.escapeUnicodeCharacters),"validator"in e&&n(8,b=e.validator),"queryLanguages"in e&&n(29,x=e.queryLanguages),"queryLanguageId"in e&&n(28,w=e.queryLanguageId),"onChangeQueryLanguage"in e&&n(30,$=e.onChangeQueryLanguage),"onChange"in e&&n(31,k=e.onChange),"onRenderValue"in e&&n(9,S=e.onRenderValue),"onClassName"in e&&n(10,C=e.onClassName),"onRenderMenu"in e&&n(32,_=e.onRenderMenu),"onChangeMode"in e&&n(33,O=e.onChangeMode),"onError"in e&&n(11,P=e.onError),"onFocus"in e&&n(34,E=e.onFocus),"onBlur"in e&&n(35,A=e.onBlur)},e.$$.update=()=>{if(1&e.$$.dirty[0]){const e=un(h);e&&console.error("Error: "+e)}3&e.$$.dirty[0]&&n(20,r=p===rt.CODE?(h.json,h.text,hn(h)?h.text:JSON.stringify(h.json,null,f)):void 0),2&e.$$.dirty[0]&&n(48,o=p===rt.CODE),2&e.$$.dirty[0]|131072&e.$$.dirty[1]&&(i=[{text:"code",title:`Switch to code mode (current mode: ${p})`,className:"group-button first"+(o?" selected":""),onClick:()=>z(rt.CODE)},{text:"tree",title:`Switch to tree mode (current mode: ${p})`,className:"group-button last"+(o?"":" selected"),onClick:()=>z(rt.TREE)}])},[h,p,d,f,m,g,v,y,b,S,C,P,function({id:e,json:t,selectedPath:n,onTransform:r,onClose:o}){d||u(PB,{id:e,json:t,selectedPath:n,escapeControlCharacters:v,escapeUnicodeCharacters:y,queryLanguages:x,queryLanguageId:w,onChangeQueryLanguage:R,onRenderValue:S,onClassName:C,onTransform:r},gt,{onClose:o})},function({id:e,json:t,selectedPath:n,onSort:r,onClose:o}){d||u(zB,{id:e,json:t,selectedPath:n,onSort:r},mt,{onClose:o})},j,M,a,l,c,u,r,I,function(e,t){I({text:e,json:void 0},{text:t,json:void 0},null)},async function(){n(1,p=rt.CODE),await me(),O(rt.CODE)},async function(){n(1,p=rt.TREE),await me(),O(rt.TREE)},function(){n(15,M=!0),E&&E()},function(){n(15,M=!1),A&&A()},function(e,t){const n=e===rt.TREE||e===rt.CODE?!0===t[0].space?i.concat(t):i.concat([N],t):t;return _(e,n)||n},w,x,$,k,_,O,E,A,function(){return h},function(e){s("set");const t=un(e);if(t)throw new Error(t);n(14,j=kt()),n(0,h=e)},function(e){s("update");const t=un(e);if(t)throw new Error(t);n(0,h=e)},function(e,t){if(void 0===h.json)try{n(0,h={json:JSON.parse(h.text),text:void 0})}catch(e){throw new Error("Cannot apply patch: current document contains invalid JSON")}return l?l.patch(e,t):c?c.patch(e):void 0},function(e){if(l)return l.expand(e);throw new Error(`Method expand is not available in mode "${p}"`)},function(e){if(c)c.openTransformModal(e);else{if(!l)throw new Error(`Method transform is not available in mode "${p}"`);l.openTransformModal(e)}},function(){return l?l.acceptAutoRepair():h},function(e){if(l)return l.scrollTo(e);throw new Error(`Method scrollTo is not available in mode "${p}"`)},function(e){if(l)return l.findElement(e);throw new Error(`Method findElement is not available in mode "${p}"`)},T,WB,UB,o,function(e){u=e,n(19,u)},function(e){ce[e?"unshift":"push"]((()=>{c=e,n(18,c)}))},function(e){ce[e?"unshift":"push"]((()=>{l=e,n(17,l)}))},function(e){ce[e?"unshift":"push"]((()=>{a=e,n(16,a)}))}]}function KB(e){$(e,"svelte-12i05ft",'.value.string.svelte-12i05ft{color:#008000}.value.object.svelte-12i05ft,.value.array.svelte-12i05ft{min-width:16px;color:rgba(0, 0, 0, 0.38)}.value.number.svelte-12i05ft{color:#ee422e}.value.boolean.svelte-12i05ft{color:#ff8c00}.value.null.svelte-12i05ft{color:#004ed0}.value.invalid.svelte-12i05ft{color:#1a1a1a}.value.url.svelte-12i05ft{color:#008000;text-decoration:underline}.jse-enum-value.svelte-12i05ft{background:rgba(0, 0, 0, 0.06);border:none;padding:0;font-family:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;font-size:14px;cursor:pointer;outline:none}.jse-enum-value.selected.svelte-12i05ft{background:#d3d3d3;color:#1a1a1a}.jse-enum-value.value.svelte-12i05ft:focus{color:#1a1a1a}.json-node.selected .jse-enum-value.svelte-12i05ft{background:transparent}')}function GB(e,t,n){const r=e.slice();return r[13]=t[n],r}function QB(e){let t,n,r,o=e[13].text+"";return{c(){t=E("option"),n=j(o),t.__value=r=e[13].value,t.value=t.__value},m(e,r){_(e,t,r),w(t,n)},p(e,i){2&i&&o!==(o=e[13].text+"")&&B(n,o),2&i&&r!==(r=e[13].value)&&(t.__value=r,t.value=t.__value)},d(e){e&&O(t)}}}function YB(t){let n,r,o,s,a=t[1],l=[];for(let e=0;e<a.length;e+=1)l[e]=QB(GB(t,a,e));return{c(){n=E("select");for(let e=0;e<l.length;e+=1)l[e].c();N(n,"class",r=p(`jse-enum-value ${MD(t[3])}`)+" svelte-12i05ft"),void 0===t[3]&&ge((()=>t[10].call(n))),U(n,"selected",t[0])},m(e,r){_(e,n,r);for(let e=0;e<l.length;e+=1)l[e].m(n,null);V(n,t[3]),t[11](n),o||(s=[I(n,"change",t[10]),I(n,"change",t[4]),I(n,"mousedown",ZB)],o=!0)},p(e,[t]){if(2&t){let r;for(a=e[1],r=0;r<a.length;r+=1){const o=GB(e,a,r);l[r]?l[r].p(o,t):(l[r]=QB(o),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}8&t&&r!==(r=p(`jse-enum-value ${MD(e[3])}`)+" svelte-12i05ft")&&N(n,"class",r),8&t&&V(n,e[3]),9&t&&U(n,"selected",e[0])},i:e,o:e,d(e){e&&O(n),P(l,e),t[11](null),o=!1,i(s)}}}function ZB(e){e.stopPropagation()}function XB(e,t,n){let r,{path:o}=t,{value:i}=t,{readOnly:s}=t,{isSelected:a}=t,{onPatch:l}=t,{onSelect:c}=t,{options:u}=t,h=i;return e.$$set=e=>{"path"in e&&n(5,o=e.path),"value"in e&&n(6,i=e.value),"readOnly"in e&&n(7,s=e.readOnly),"isSelected"in e&&n(0,a=e.isSelected),"onPatch"in e&&n(8,l=e.onPatch),"onSelect"in e&&n(9,c=e.onSelect),"options"in e&&n(1,u=e.options)},e.$$.update=()=>{64&e.$$.dirty&&n(3,h=i),1&e.$$.dirty&&function(e){e&&r&&r.focus()}(a)},[a,u,r,h,function(e){e.stopPropagation(),s||(l([{op:"replace",path:Ct.exports.compileJSONPointer(o),value:h}]),c({type:Gg,path:o}))},o,i,s,l,c,function(){h=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(3,h),n(6,i)},function(e){ce[e?"unshift":"push"]((()=>{r=e,n(2,r),n(1,u)}))}]}class eF extends Ve{constructor(e){super(),qe(this,e,XB,YB,l,{path:5,value:6,readOnly:7,isSelected:0,onPatch:8,onSelect:9,options:1},KB)}}function tF(e,t,n){const r=rF(e,t||{},n);return r?nF(r):null}function nF(e){if(e.enum)return e.enum;const t=e.oneOf||e.anyOf||e.allOf;if(t){const e=t.filter((e=>e.enum));if(e.length>0)return e[0].enum}return null}function rF(e,t,n,r=e){const o=n.slice(1,n.length),i=n[0];let s=[r];for(const e of[r.oneOf,r.anyOf,r.allOf])Array.isArray(e)&&(s=s.concat(e));for(const n of s){if("$ref"in(r=n)&&"string"==typeof r.$ref){const n=r.$ref;if(n in t)r=t[n];else{if(!n.startsWith("#/")){if(1===n.match(/#\//g)?.length){const[e,r]=n.split("#/");if(e in t){const n=t[e],s={$ref:"#/".concat(r)},a=[];return a.push(i),o.length>0&&a.push(...o),rF(n,t,a,s)}throw Error(`Unable to resolve reference ${n}`)}throw Error(`Unable to resolve reference ${n}`)}{const t=n.substring(2).split("/");r=e;for(const e of t){if(!(e in r))throw Error(`Unable to resovle reference ${n}`);r=r[e]}}}}if(void 0===i)return r;if("string"!=typeof i){if("number"==typeof i&&"object"==typeof r.items&&null!==r.items)return rF(e,t,o,r=r.items)}else{if("object"==typeof r.properties&&null!==r.properties&&i in r.properties)return rF(e,t,o,r=r.properties[i]);if("object"==typeof r.patternProperties&&null!==r.patternProperties)for(const n in r.patternProperties)if(i.match(n))return rF(e,t,o,r=r.patternProperties[n]);if("object"==typeof r.additionalProperties)return rF(e,t,o,r=r.additionalProperties)}}return null}function oF(e,t,n){const r=tF(t,n,e.path);if(r){const{value:t,path:n,readOnly:o,onPatch:i,onSelect:s,isSelected:a}=e,l=r.map((e=>({value:e,text:e}))),c=r.includes(e.value)?l:[{value:t,text:t}].concat(l);return[{component:eF,props:{value:t,path:n,readOnly:o,onPatch:i,onSelect:s,isSelected:a,options:c}}]}return null}function iF(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sF={exports:{}},aF=St(sF.exports=function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){if(!a&&iF)return iF(s);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return o(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var i=iF,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.regexpCode=n.getEsmExportName=n.getProperty=n.safeStringify=n.stringify=n.strConcat=n.addCodeArg=n.str=n._=n.nil=n._Code=n.Name=n.IDENTIFIER=n._CodeOrName=void 0;class r{}n._CodeOrName=r,n.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class o extends r{constructor(e){if(super(),!n.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}n.Name=o;class i extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof o&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function s(e,...t){const n=[e[0]];let r=0;for(;r<t.length;)c(n,t[r]),n.push(e[++r]);return new i(n)}n._Code=i,n.nil=new i(""),n._=s;const a=new i("+");function l(e,...t){const n=[h(e[0])];let r=0;for(;r<t.length;)n.push(a),c(n,t[r]),n.push(a,h(e[++r]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===a){const n=u(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new i(n)}function c(e,t){var n;t instanceof i?e.push(...t._items):e.push(t instanceof o?t:"number"==typeof(n=t)||"boolean"==typeof n||null===n?n:h(Array.isArray(n)?n.join(","):n))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof o||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof o?void 0:`"${e}${t.slice(1)}`}function h(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}n.str=l,n.addCodeArg=c,n.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:l`${e}${t}`},n.stringify=function(e){return new i(h(e))},n.safeStringify=h,n.getProperty=function(e){return"string"==typeof e&&n.IDENTIFIER.test(e)?new i(`.${e}`):s`[${e}]`},n.getEsmExportName=function(e){if("string"==typeof e&&n.IDENTIFIER.test(e))return new i(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},n.regexpCode=function(e){return new i(e.toString())}},{}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.or=n.and=n.not=n.CodeGen=n.operators=n.varKinds=n.ValueScopeName=n.ValueScope=n.Scope=n.Name=n.regexpCode=n.stringify=n.getProperty=n.nil=n.strConcat=n.str=n._=void 0;const r=e("./code"),o=e("./scope");var i=e("./code");Object.defineProperty(n,"_",{enumerable:!0,get:()=>i._}),Object.defineProperty(n,"str",{enumerable:!0,get:()=>i.str}),Object.defineProperty(n,"strConcat",{enumerable:!0,get:()=>i.strConcat}),Object.defineProperty(n,"nil",{enumerable:!0,get:()=>i.nil}),Object.defineProperty(n,"getProperty",{enumerable:!0,get:()=>i.getProperty}),Object.defineProperty(n,"stringify",{enumerable:!0,get:()=>i.stringify}),Object.defineProperty(n,"regexpCode",{enumerable:!0,get:()=>i.regexpCode}),Object.defineProperty(n,"Name",{enumerable:!0,get:()=>i.Name});var s=e("./scope");Object.defineProperty(n,"Scope",{enumerable:!0,get:()=>s.Scope}),Object.defineProperty(n,"ValueScope",{enumerable:!0,get:()=>s.ValueScope}),Object.defineProperty(n,"ValueScopeName",{enumerable:!0,get:()=>s.ValueScopeName}),Object.defineProperty(n,"varKinds",{enumerable:!0,get:()=>s.varKinds}),n.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){return`${e?o.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=j(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=j(this.rhs,e,t),this}get names(){return A(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class f extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=j(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const o=n[r];o.optimizeNames(e,t)||(M(e,o.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>E(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends m{}class y extends g{}y.kind="else";class b extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(T(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=j(this.condition,e,t),this}get names(){const e=super.names;return A(e,this.condition),this.else&&E(e,this.else.names),e}}b.kind="if";class x extends g{}x.kind="for";class w extends x{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=j(this.iteration,e,t),this}get names(){return E(super.names,this.iteration.names)}}class $ extends x{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?o.varKinds.var:this.varKind,{name:n,from:r,to:i}=this;return`for(${t} ${n}=${r}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){const e=A(super.names,this.from);return A(e,this.to)}}class k extends x{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=j(this.iterable,e,t),this}get names(){return E(super.names,this.iterable.names)}}class S extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}S.kind="func";class C extends m{render(e){return"return "+super.render(e)}}C.kind="return";class _ extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&E(e,this.catch.names),this.finally&&E(e,this.finally.names),e}}class O extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}O.kind="catch";class P extends g{render(e){return"finally"+super.render(e)}}function E(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function A(e,t){return t instanceof r._CodeOrName?E(e,t.names):e}function j(e,t,n){return e instanceof r.Name?i(e):(o=e)instanceof r._Code&&o._items.some((e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str]))?new r._Code(e._items.reduce(((e,t)=>(t instanceof r.Name&&(t=i(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e)),[])):e;var o;function i(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function M(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function T(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${R(e)}`}P.kind="finally",n.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new o.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const o=this._scope.toName(t);return void 0!==n&&r&&(this._constants[o.str]=n),this._leafNode(new l(e,o,n)),o}const(e,t,n){return this._def(o.varKinds.const,e,t,n)}let(e,t,n){return this._def(o.varKinds.let,e,t,n)}var(e,t,n){return this._def(o.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new c(e,t,n))}add(e,t){return this._leafNode(new u(e,n.operators.ADD,t))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[n,o]of e)t.length>1&&t.push(","),t.push(n),(n!==o||this.opts.es5)&&(t.push(":"),(0,r.addCodeArg)(t,o));return t.push("}"),new r._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(b,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new w(e),t)}forRange(e,t,n,r,i=(this.opts.es5?o.varKinds.var:o.varKinds.let)){const s=this._scope.toName(e);return this._for(new $(i,s,t,n),(()=>r(s)))}forOf(e,t,n,i=o.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,(t=>{this.var(s,r._`${e}[${t}]`),n(s)}))}return this._for(new k("of",i,s,t),(()=>n(s)))}forIn(e,t,n,i=(this.opts.es5?o.varKinds.var:o.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new k("in",i,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(x)}label(e){return this._leafNode(new h(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new C;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(C)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new _;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new O(e),t(e)}return n&&(this._currNode=r.finally=new P,this.code(n)),this._endBlockNode(O,P)}throw(e){return this._leafNode(new f(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=r.nil,n,o){return this._blockNode(new S(e,t,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},n.not=T;const I=N(n.operators.AND);n.and=function(...e){return e.reduce(I)};const z=N(n.operators.OR);function N(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${R(t)} ${e} ${R(n)}`}function R(e){return e instanceof r.Name?e:r._`(${e})`}n.or=function(...e){return e.reduce(z)}},{"./code":1,"./scope":3}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValueScope=n.ValueScopeName=n.Scope=n.varKinds=n.UsedValueState=void 0;const r=e("./code");class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i=n.UsedValueState||(n.UsedValueState={})),n.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}n.Scope=s;class a extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=r._`.${new r.Name(t)}[${n}]`}}n.ValueScopeName=a;const l=r._`\n`;n.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:r.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:o}=r,i=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[o];if(s){const e=s.get(i);if(e)return e}else s=this._values[o]=new Map;s.set(i,r);const a=this._scope[o]||(this._scope[o]=[]),l=a.length;return a[l]=t.ref,r.setValue(t,{property:o,itemIndex:l}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,t,s={},a){let l=r.nil;for(const c in e){const u=e[c];if(!u)continue;const h=s[c]=s[c]||new Map;u.forEach((e=>{if(h.has(e))return;h.set(e,i.Started);let s=t(e);if(s)l=r._`${l}${this.opts.es5?n.varKinds.var:n.varKinds.const} ${e} = ${s};${this.opts._n}`;else{if(!(s=null==a?void 0:a(e)))throw new o(e);l=r._`${l}${s}${this.opts._n}`}h.set(e,i.Completed)}))}return l}}},{"./code":1}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extendErrors=n.resetErrorsCount=n.reportExtraError=n.reportError=n.keyword$DataError=n.keywordError=void 0;const r=e("./codegen"),o=e("./util"),i=e("./names");function s(e,t){const n=e.const("err",t);e.if(r._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,r._`[${n}]`)),r._`${i.default.vErrors}.push(${n})`),e.code(r._`${i.default.errors}++`)}function a(e,t){const{gen:n,validateName:o,schemaEnv:i}=e;i.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${o}.errors`,t),n.return(!1))}n.keywordError={message:({keyword:e})=>r.str`must pass "${e}" keyword validation`},n.keyword$DataError={message:({keyword:e,schemaType:t})=>t?r.str`"${e}" keyword must be ${t} ($data)`:r.str`"${e}" keyword is invalid ($data)`},n.reportError=function(e,t=n.keywordError,o,i){const{it:l}=e,{gen:u,compositeRule:h,allErrors:d}=l,f=c(e,t,o);(null!=i?i:h||d)?s(u,f):a(l,r._`[${f}]`)},n.reportExtraError=function(e,t=n.keywordError,r){const{it:o}=e,{gen:l,compositeRule:u,allErrors:h}=o;s(l,c(e,t,r)),u||h||a(o,i.default.vErrors)},n.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(r._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(r._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},n.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:o,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",s,i.default.errors,(s=>{e.const(l,r._`${i.default.vErrors}[${s}]`),e.if(r._`${l}.instancePath === undefined`,(()=>e.assign(r._`${l}.instancePath`,(0,r.strConcat)(i.default.instancePath,a.errorPath)))),e.assign(r._`${l}.schemaPath`,r.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(r._`${l}.schema`,n),e.assign(r._`${l}.data`,o))}))};const l={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function c(e,t,n){const{createErrors:o}=e.it;return!1===o?r._`{}`:function(e,t,n={}){const{gen:o,it:s}=e,a=[u(s,n),h(e,n)];return function(e,{params:t,message:n},o){const{keyword:s,data:a,schemaValue:c,it:u}=e,{opts:h,propertyName:d,topSchemaRef:f,schemaPath:p}=u;o.push([l.keyword,s],[l.params,"function"==typeof t?t(e):t||r._`{}`]),h.messages&&o.push([l.message,"function"==typeof n?n(e):n]),h.verbose&&o.push([l.schema,c],[l.parentSchema,r._`${f}${p}`],[i.default.data,a]),d&&o.push([l.propertyName,d])}(e,t,a),o.object(...a)}(e,t,n)}function u({errorPath:e},{instancePath:t}){const n=t?r.str`${e}${(0,o.getErrorPath)(t,o.Type.Str)}`:e;return[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,n)]}function h({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:i}){let s=i?t:r.str`${t}/${e}`;return n&&(s=r.str`${s}${(0,o.getErrorPath)(n,o.Type.Str)}`),[l.schemaPath,s]}},{"./codegen":2,"./names":6,"./util":10}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resolveSchema=n.getCompilingSchema=n.resolveRef=n.compileSchema=n.SchemaEnv=void 0;const r=e("./codegen"),o=e("../runtime/validation_error"),i=e("./names"),s=e("./resolve"),a=e("./util"),l=e("./validate");class c{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function u(e){const t=d.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:c}=this.opts.code,{ownProperties:u}=this.opts,h=new r.CodeGen(this.scope,{es5:a,lines:c,ownProperties:u});let f;e.$async&&(f=h.scopeValue("Error",{ref:o.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const p=h.scopeName("validate");e.validateName=p;const m={gen:h,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:h.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,l.validateFunctionCode)(m),h.optimize(this.opts.code.optimize);const t=h.toString();g=`${h.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const n=new Function(`${i.default.self}`,`${i.default.scope}`,g)(this,this.scope.get());if(this.scope.value(p,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:p,validateCode:t,scopeValues:h._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=(0,r.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),t}finally{this._compilations.delete(e)}}function h(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function d(e){for(const r of this._compilations)if((t=r).schema===(n=e).schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function f(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||p.call(this,e,t)}function p(e,t){const n=this.opts.uriResolver.parse(t),r=(0,s._getFullPath)(this.opts.uriResolver,n);let o=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===o)return g.call(this,n,e);const i=(0,s.normalizeId)(r),a=this.refs[i]||this.schemas[i];if("string"==typeof a){const t=p.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,n,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||u.call(this,a),i===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,r=t[n];return r&&(o=(0,s.resolveUrl)(this.opts.uriResolver,o,r)),new c({schema:t,schemaId:n,root:e,baseId:o})}return g.call(this,n,a)}}n.SchemaEnv=c,n.compileSchema=u,n.resolveRef=function(e,t,n){var r;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const o=e.refs[n];if(o)return o;let i=f.call(this,e,n);if(void 0===i){const o=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:s}=this.opts;o&&(i=new c({schema:o,schemaId:s,root:e,baseId:t}))}return void 0!==i?e.refs[n]=h.call(this,i):void 0},n.getCompilingSchema=d,n.resolveSchema=p;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:n,root:r}){var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const r of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,a.unescapeFragment)(r)];if(void 0===e)return;const o="object"==typeof(n=e)&&n[this.opts.schemaId];!m.has(r)&&o&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,o))}let i;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);i=p.call(this,r,e)}const{schemaId:l}=this.opts;return i=i||new c({schema:n,schemaId:l,root:r,baseId:t}),i.schema!==i.root.schema?i:void 0}},{"../runtime/validation_error":24,"./codegen":2,"./names":6,"./resolve":8,"./util":10,"./validate":15}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./codegen"),o={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};n.default=o},{"./codegen":2}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./resolve");class o extends Error{constructor(e,t,n,o){super(o||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,n),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}n.default=o},{"./resolve":8}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSchemaRefs=n.resolveUrl=n.normalizeId=n._getFullPath=n.getFullPath=n.inlineRef=void 0;const r=e("./util"),o=e("fast-deep-equal"),i=e("json-schema-traverse"),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);n.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(l))return!0;if("object"==typeof n&&l(n))return!0}return!1}function c(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(e=>t+=c(e))),1/0===t))return 1/0}return t}function u(e,t="",n){!1!==n&&(t=f(t));const r=e.parse(t);return h(e,r)}function h(e,t){return e.serialize(t).split("#")[0]+"#"}n.getFullPath=u,n._getFullPath=h;const d=/#\/?$/;function f(e){return e?e.replace(d,""):""}n.normalizeId=f,n.resolveUrl=function(e,t,n){return n=f(n),e.resolve(t,n)};const p=/^[a-z_][-a-z0-9._]*$/i;n.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,s=f(e[n]||t),a={"":s},l=u(r,s,!1),c={},h=new Set;return i(e,{allKeys:!0},((e,t,r,o)=>{if(void 0===o)return;const i=l+t;let s=a[o];function u(t){if(t=f(s?(0,this.opts.uriResolver.resolve)(s,t):t),h.has(t))throw m(t);h.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?d(e,n.schema,t):t!==f(i)&&("#"===t[0]?(d(e,c[t],t),c[t]=e):this.refs[t]=i),t}function g(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=u.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),a[t]=s})),c;function d(e,t,n){if(void 0!==t&&!o(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},{"./util":10,"fast-deep-equal":63,"json-schema-traverse":64}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRules=n.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);n.isJSONType=function(e){return"string"==typeof e&&r.has(e)},n.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},{}],10:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.checkStrictMode=n.getErrorPath=n.Type=n.useFunc=n.setEvaluated=n.evaluatedPropsToName=n.mergeEvaluated=n.eachItem=n.unescapeJsonPointer=n.escapeJsonPointer=n.escapeFragment=n.unescapeFragment=n.schemaRefOrVal=n.schemaHasRulesButRef=n.schemaHasRules=n.checkUnknownRules=n.alwaysValidSchema=n.toHash=void 0;const r=e("./codegen"),o=e("./codegen/code");function i(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const o=r.RULES.keywords;for(const n in t)o[n]||p(e,`unknown keyword: "${n}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:o}){return(i,s,a,l)=>{const c=void 0===a?s:a instanceof r.Name?(s instanceof r.Name?e(i,s,a):t(i,s,a),a):s instanceof r.Name?(t(i,a,s),s):n(s,a);return l!==r.Name||c instanceof r.Name?c:o(i,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&h(e,n,t),n}function h(e,t,n){Object.keys(n).forEach((n=>e.assign(r._`${t}${(0,r.getProperty)(n)}`,!0)))}n.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},n.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!s(t,e.self.RULES.all))},n.checkUnknownRules=i,n.schemaHasRules=s,n.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},n.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,o,i){if(!i){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return r._`${n}`}return r._`${e}${t}${(0,r.getProperty)(o)}`},n.unescapeFragment=function(e){return l(decodeURIComponent(e))},n.escapeFragment=function(e){return encodeURIComponent(a(e))},n.escapeJsonPointer=a,n.unescapeJsonPointer=l,n.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},n.mergeEvaluated={props:c({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>{e.if(r._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),h(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},n.evaluatedPropsToName=u,n.setEvaluated=h;const d={};var f;function p(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}n.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:d[t.code]||(d[t.code]=new o._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(f=n.Type||(n.Type={})),n.getErrorPath=function(e,t,n){if(e instanceof r.Name){const o=t===f.Num;return n?o?r._`"[" + ${e} + "]"`:r._`"['" + ${e} + "']"`:o?r._`"/" + ${e}`:r._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,r.getProperty)(e).toString():"/"+a(e)},n.checkStrictMode=p},{"./codegen":2,"./codegen/code":1}],11:[function(e,t,n){function r(e,t){return t.rules.some((t=>o(e,t)))}function o(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(n,"__esModule",{value:!0}),n.shouldUseRule=n.shouldUseGroup=n.schemaHasRulesForType=void 0,n.schemaHasRulesForType=function({schema:e,self:t},n){const o=t.RULES.types[n];return o&&!0!==o&&r(e,o)},n.shouldUseGroup=r,n.shouldUseRule=o},{}],12:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.boolOrEmptySchema=n.topBoolOrEmptySchema=void 0;const r=e("../errors"),o=e("../codegen"),i=e("../names"),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:o}=e;(0,r.reportError)({gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e},s,void 0,t)}n.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(i.default.data):(t.assign(o._`${r}.errors`,null),t.return(!0))},n.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),a(e)):n.var(t,!0)}},{"../codegen":2,"../errors":4,"../names":6}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.reportTypeError=n.checkDataTypes=n.checkDataType=n.coerceAndCheckDataType=n.getJSONTypes=n.getSchemaTypes=n.DataType=void 0;const r=e("../rules"),o=e("./applicability"),i=e("../errors"),s=e("../codegen"),a=e("../util");var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l=n.DataType||(n.DataType={})),n.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},n.getJSONTypes=c,n.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:i}=e,a=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,i.coerceTypes),c=t.length>0&&!(0===a.length&&1===t.length&&(0,o.schemaHasRulesForType)(e,t[0]));if(c){const o=d(t,r,i.strictNumbers,l.Wrong);n.if(o,(()=>{a.length?function(e,t,n){const{gen:r,data:o,opts:i}=e,a=r.let("dataType",s._`typeof ${o}`),l=r.let("coerced",s._`undefined`);"array"===i.coerceTypes&&r.if(s._`${a} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>r.assign(o,s._`${o}[0]`).assign(a,s._`typeof ${o}`).if(d(t,o,i.strictNumbers),(()=>r.assign(l,o))))),r.if(s._`${l} !== undefined`);for(const e of n)(u.has(e)||"array"===e&&"array"===i.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void r.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(l,s._`"" + ${o}`).elseIf(s._`${o} === null`).assign(l,s._`""`);case"number":return void r.elseIf(s._`${a} == "boolean" || ${o} === null
	              || (${a} == "string" && ${o} && ${o} == +${o})`).assign(l,s._`+${o}`);case"integer":return void r.elseIf(s._`${a} === "boolean" || ${o} === null
	              || (${a} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(l,s._`+${o}`);case"boolean":return void r.elseIf(s._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(l,!1).elseIf(s._`${o} === "true" || ${o} === 1`).assign(l,!0);case"null":return r.elseIf(s._`${o} === "" || ${o} === 0 || ${o} === false`),void r.assign(l,null);case"array":r.elseIf(s._`${a} === "string" || ${a} === "number"
	              || ${a} === "boolean" || ${o} === null`).assign(l,s._`[${o}]`)}}r.else(),p(e),r.endIf(),r.if(s._`${l} !== undefined`,(()=>{r.assign(o,l),function({gen:e,parentData:t,parentDataProperty:n},r){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,r)))}(e,l)}))}(e,t,a):p(e)}))}return c};const u=new Set(["string","number","integer","boolean","null"]);function h(e,t,n,r=l.Correct){const o=r===l.Correct?s.operators.EQ:s.operators.NEQ;let i;switch(e){case"null":return s._`${t} ${o} null`;case"array":i=s._`Array.isArray(${t})`;break;case"object":i=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return s._`typeof ${t} ${o} ${e}`}return r===l.Correct?i:(0,s.not)(i);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function d(e,t,n,r){if(1===e.length)return h(e[0],t,n,r);let o;const i=(0,a.toHash)(e);if(i.array&&i.object){const e=s._`typeof ${t} != "object"`;o=i.null?e:s._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else o=s.nil;i.number&&delete i.integer;for(const e in i)o=(0,s.and)(o,h(e,t,n,r));return o}n.checkDataType=h,n.checkDataTypes=d;const f={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:n,schema:r}=e,o=(0,a.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:o,schemaValue:o,parentSchema:r,params:{},it:e}}(e);(0,i.reportError)(t,f)}n.reportTypeError=p},{"../codegen":2,"../errors":4,"../rules":9,"../util":10,"./applicability":11}],14:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assignDefaults=void 0;const r=e("../codegen"),o=e("../util");function i(e,t,n){const{gen:i,compositeRule:s,data:a,opts:l}=e;if(void 0===n)return;const c=r._`${a}${(0,r.getProperty)(t)}`;if(s)return void(0,o.checkStrictMode)(e,`default is ignored for: ${c}`);let u=r._`${c} === undefined`;"empty"===l.useDefaults&&(u=r._`${u} || ${c} === null || ${c} === ""`),i.if(u,r._`${c} = ${(0,r.stringify)(n)}`)}n.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const t in n)i(e,t,n[t].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>i(e,n,t.default)))}},{"../codegen":2,"../util":10}],15:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getData=n.KeywordCxt=n.validateFunctionCode=void 0;const r=e("./boolSchema"),o=e("./dataType"),i=e("./applicability"),s=e("./dataType"),a=e("./defaults"),l=e("./keyword"),c=e("./subschema"),u=e("../codegen"),h=e("../names"),d=e("../resolve"),f=e("../util"),p=e("../errors");function m({gen:e,validateName:t,schema:n,schemaEnv:r,opts:o},i){o.code.es5?e.func(t,u._`${h.default.data}, ${h.default.valCxt}`,r.$async,(()=>{e.code(u._`"use strict"; ${g(n,o)}`),function(e,t){e.if(h.default.valCxt,(()=>{e.var(h.default.instancePath,u._`${h.default.valCxt}.${h.default.instancePath}`),e.var(h.default.parentData,u._`${h.default.valCxt}.${h.default.parentData}`),e.var(h.default.parentDataProperty,u._`${h.default.valCxt}.${h.default.parentDataProperty}`),e.var(h.default.rootData,u._`${h.default.valCxt}.${h.default.rootData}`),t.dynamicRef&&e.var(h.default.dynamicAnchors,u._`${h.default.valCxt}.${h.default.dynamicAnchors}`)}),(()=>{e.var(h.default.instancePath,u._`""`),e.var(h.default.parentData,u._`undefined`),e.var(h.default.parentDataProperty,u._`undefined`),e.var(h.default.rootData,h.default.data),t.dynamicRef&&e.var(h.default.dynamicAnchors,u._`{}`)}))}(e,o),e.code(i)})):e.func(t,u._`${h.default.data}, ${function(e){return u._`{${h.default.instancePath}="", ${h.default.parentData}, ${h.default.parentDataProperty}, ${h.default.rootData}=${h.default.data}${e.dynamicRef?u._`, ${h.default.dynamicAnchors}={}`:u.nil}}={}`}(o)}`,r.$async,(()=>e.code(g(n,o)).code(i)))}function g(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function v(e,t){b(e)&&(x(e),y(e))?function(e,t){const{schema:n,gen:r,opts:o}=e;o.$comment&&n.$comment&&$(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=r.const("_errs",h.default.errors);w(e,i),r.var(t,u._`${i} === ${h.default.errors}`)}(e,t):(0,r.boolOrEmptySchema)(e,t)}function y({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function x(e){(0,f.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:o}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function w(e,t){if(e.opts.jtd)return k(e,[],!1,t);const n=(0,o.getSchemaTypes)(e.schema);k(e,n,!(0,o.coerceAndCheckDataType)(e,n),t)}function $({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:o}){const i=n.$comment;if(!0===o.$comment)e.code(u._`${h.default.self}.logger.log(${i})`);else if("function"==typeof o.$comment){const n=u.str`${r}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code(u._`${h.default.self}.opts.$comment(${i}, ${n}, ${o}.schema)`)}}function k(e,t,n,r){const{gen:o,schema:a,data:l,allErrors:c,opts:d,self:p}=e,{RULES:m}=p;function g(f){(0,i.shouldUseGroup)(a,f)&&(f.type?(o.if((0,s.checkDataType)(f.type,l,d.strictNumbers)),S(e,f),1===t.length&&t[0]===f.type&&n&&(o.else(),(0,s.reportTypeError)(e)),o.endIf()):S(e,f),c||o.if(u._`${h.default.errors} === ${r||0}`))}!a.$ref||!d.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(a,m)?(d.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{_(e.dataTypes,t)||O(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>_(t,e)))):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&O(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const n=e.self.RULES.all;for(const r in n){const o=n[r];if("object"==typeof o&&(0,i.shouldUseRule)(e.schema,o)){const{type:n}=o.definition;n.length&&!n.some((e=>C(t,e)))&&O(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes))}(e,t),o.block((()=>{for(const e of m.rules)g(e);g(m.post)}))):o.block((()=>E(e,"$ref",m.all.$ref.definition)))}function S(e,t){const{gen:n,schema:r,opts:{useDefaults:o}}=e;o&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,i.shouldUseRule)(r,n)&&E(e,n.keyword,n.definition,t.type)}))}function C(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function _(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function O(e,t){(0,f.checkStrictMode)(e,t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,e.opts.strictTypes)}n.validateFunctionCode=function(e){b(e)&&(x(e),y(e))?function(e){const{schema:t,opts:n,gen:r}=e;m(e,(()=>{n.$comment&&t.$comment&&$(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,f.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(h.default.vErrors,null),r.let(h.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}(e),w(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:o,opts:i}=e;n.$async?t.if(u._`${h.default.errors} === 0`,(()=>t.return(h.default.data)),(()=>t.throw(u._`new ${o}(${h.default.vErrors})`))):(t.assign(u._`${r}.errors`,h.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:n,items:r}){n instanceof u.Name&&e.assign(u._`${t}.props`,n),r instanceof u.Name&&e.assign(u._`${t}.items`,r)}(e),t.return(u._`${h.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,r.topBoolOrEmptySchema)(e)))};class P{constructor(e,t,n){if((0,l.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",M(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",h.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=u.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:o,def:i}=this;n.if((0,u.or)(u._`${r} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(o.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:o}=this;return(0,u.or)(function(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,s.checkDataTypes)(e,t,o.opts.strictNumbers,s.DataType.Wrong)}`}return u.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return u._`!${n}(${t})`}return u.nil}())}subschema(e,t){const n=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(n,this.it,e),(0,c.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return v(r,t),r}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=f.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=f.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function E(e,t,n,r){const o=new P(e,n,t);"code"in n?n.code(o,r):o.$data&&n.validate?(0,l.funcKeywordCode)(o,n):"macro"in n?(0,l.macroKeywordCode)(o,n):(n.compile||n.validate)&&(0,l.funcKeywordCode)(o,n)}n.KeywordCxt=P;const A=/^\/(?:[^~]|~0|~1)*$/,j=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function M(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let o,i;if(""===e)return h.default.rootData;if("/"===e[0]){if(!A.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,i=h.default.rootData}else{const s=j.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(o=s[2],"#"===o){if(a>=t)throw new Error(l("property/index",a));return r[t-a]}if(a>t)throw new Error(l("data",a));if(i=n[t-a],!o)return i}let s=i;const a=o.split("/");for(const e of a)e&&(i=u._`${i}${(0,u.getProperty)((0,f.unescapeJsonPointer)(e))}`,s=u._`${s} && ${i}`);return s;function l(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}n.getData=M},{"../codegen":2,"../errors":4,"../names":6,"../resolve":8,"../util":10,"./applicability":11,"./boolSchema":12,"./dataType":13,"./defaults":14,"./keyword":16,"./subschema":17}],16:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateKeywordUsage=n.validSchemaType=n.funcKeywordCode=n.macroKeywordCode=void 0;const r=e("../codegen"),o=e("../names"),i=e("../../vocabularies/code"),s=e("../errors");function a(e){const{gen:t,data:n,it:o}=e;t.if(o.parentData,(()=>t.assign(n,r._`${o.parentData}[${o.parentDataProperty}]`)))}function l(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,r.stringify)(n)})}n.macroKeywordCode=function(e,t){const{gen:n,keyword:o,schema:i,parentSchema:s,it:a}=e,c=t.macro.call(a.self,i,s,a),u=l(n,o,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const h=n.name("valid");e.subschema({schema:c,schemaPath:r.nil,errSchemaPath:`${a.errSchemaPath}/${o}`,topSchemaRef:u,compositeRule:!0},h),e.pass(h,(()=>e.error(!0)))},n.funcKeywordCode=function(e,t){var n;const{gen:c,keyword:u,schema:h,parentSchema:d,$data:f,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const m=!f&&t.compile?t.compile.call(p.self,h,d,p):t.validate,g=l(c,u,m),v=c.let("valid");function y(n=(t.async?r._`await `:r.nil)){c.assign(v,r._`${n}${(0,i.callValidateCode)(e,g,p.opts.passContext?o.default.this:o.default.self,!("compile"in t&&!f||!1===t.schema))}`,t.modifying)}function b(e){var n;c.if((0,r.not)(null!==(n=t.valid)&&void 0!==n?n:v),e)}e.block$data(v,(function(){if(!1===t.errors)y(),t.modifying&&a(e),b((()=>e.error()));else{const n=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>y(r._`await `)),(t=>c.assign(v,!1).if(r._`${t} instanceof ${p.ValidationError}`,(()=>c.assign(e,r._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=r._`${g}.errors`;return c.assign(e,null),y(r.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:n}=e;n.if(r._`Array.isArray(${t})`,(()=>{n.assign(o.default.vErrors,r._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`).assign(o.default.errors,r._`${o.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:v)},n.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},n.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:r},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const s=o.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(o.validateSchema&&!o.validateSchema(e[i])){const e=`keyword "${i}" value is invalid at path "${r}": `+n.errorsText(o.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}},{"../../vocabularies/code":42,"../codegen":2,"../errors":4,"../names":6}],17:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extendSubschemaMode=n.extendSubschemaData=n.getSubschema=void 0;const r=e("../codegen"),o=e("../util");n.getSubschema=function(e,{keyword:t,schemaProp:n,schema:i,schemaPath:s,errSchemaPath:a,topSchemaRef:l}){if(void 0!==t&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const i=e.schema[t];return void 0===n?{schema:i,schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[n],schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}${(0,r.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,o.escapeFragment)(n)}`}}if(void 0!==i){if(void 0===s||void 0===a||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:s,topSchemaRef:l,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},n.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:i,data:s,dataTypes:a,propertyName:l}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==n){const{errorPath:s,dataPathArr:a,opts:l}=t;u(c.let("data",r._`${t.data}${(0,r.getProperty)(n)}`,!0)),e.errorPath=r.str`${s}${(0,o.getErrorPath)(n,i,l.jsPropertySyntax)}`,e.parentDataProperty=r._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}function u(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}void 0!==s&&(u(s instanceof r.Name?s:c.let("data",s,!0)),void 0!==l&&(e.propertyName=l)),a&&(e.dataTypes=a)},n.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:o,allErrors:i}){void 0!==r&&(e.compositeRule=r),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=n}},{"../codegen":2,"../util":10}],18:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=void 0;var r=e("./compile/validate");Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:()=>r.KeywordCxt});var o=e("./compile/codegen");Object.defineProperty(n,"_",{enumerable:!0,get:()=>o._}),Object.defineProperty(n,"str",{enumerable:!0,get:()=>o.str}),Object.defineProperty(n,"stringify",{enumerable:!0,get:()=>o.stringify}),Object.defineProperty(n,"nil",{enumerable:!0,get:()=>o.nil}),Object.defineProperty(n,"Name",{enumerable:!0,get:()=>o.Name}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:()=>o.CodeGen});const i=e("./runtime/validation_error"),s=e("./compile/ref_error"),a=e("./compile/rules"),l=e("./compile"),c=e("./compile/codegen"),u=e("./compile/resolve"),h=e("./compile/validate/dataType"),d=e("./compile/util"),f=e("./refs/data.json"),p=e("./runtime/uri"),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function x(e){var t,n,r,o,i,s,a,l,c,u,h,d,f,g,v,y,b,x,w,$,k,S,C,_,O;const P=e.strict,E=null===(t=e.code)||void 0===t?void 0:t.optimize,A=!0===E||void 0===E?1:E||0,j=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:m,M=null!==(o=e.uriResolver)&&void 0!==o?o:p.default;return{strictSchema:null===(s=null!==(i=e.strictSchema)&&void 0!==i?i:P)||void 0===s||s,strictNumbers:null===(l=null!==(a=e.strictNumbers)&&void 0!==a?a:P)||void 0===l||l,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:P)&&void 0!==u?u:"log",strictTuples:null!==(d=null!==(h=e.strictTuples)&&void 0!==h?h:P)&&void 0!==d?d:"log",strictRequired:null!==(g=null!==(f=e.strictRequired)&&void 0!==f?f:P)&&void 0!==g&&g,code:e.code?{...e.code,optimize:A,regExp:j}:{optimize:A,regExp:j},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(x=e.messages)||void 0===x||x,inlineRefs:null===(w=e.inlineRefs)||void 0===w||w,schemaId:null!==($=e.schemaId)&&void 0!==$?$:"$id",addUsedSchema:null===(k=e.addUsedSchema)||void 0===k||k,validateSchema:null===(S=e.validateSchema)||void 0===S||S,validateFormats:null===(C=e.validateFormats)||void 0===C||C,unicodeRegExp:null===(_=e.unicodeRegExp)||void 0===_||_,int32range:null===(O=e.int32range)||void 0===O||O,uriResolver:M}}class w{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...x(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:v,es5:t,lines:n}),this.logger=function(e){if(!1===e)return P;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),$.call(this,y,e,"NOT SUPPORTED"),$.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=O.call(this),e.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&_.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),S.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=f;"id"===n&&(r={...f},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await o.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||i.call(this,n)}async function o(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await l.call(this,t.missingSchema),i.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const n=await c.call(this,e);this.refs[e]||await o.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}let o;if("object"==typeof e){const{schemaId:t}=this.opts;if(o=e[t],void 0!==o&&"string"!=typeof o)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=k.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new l.SchemaEnv({schema:{},schemaId:n});if(t=l.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=k.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{this._cache.delete(e);let t=e[this.opts.schemaId];return t&&(t=(0,u.normalizeId)(t),delete this.schemas[t],delete this.refs[t]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(A.call(this,n,t),!t)return(0,d.eachItem)(n,(e=>j.call(this,e))),this;T.call(this,t);const r={...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(n,0===r.type.length?e=>j.call(this,e,r):e=>r.type.forEach((t=>j.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let o=e;for(const e of t)o=o[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,i=o[e];r&&i&&(o[e]=z(i))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let i;const{schemaId:s}=this.opts;if("object"==typeof e)i=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,u.normalizeId)(i||n);const c=u.getSchemaRefs.call(this,e,n);return a=new l.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:c}),this._cache.set(a.schema,a),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),r&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function $(e,t,n,r="error"){for(const o in e){const i=o;i in t&&this.logger[r](`${n}: option ${o}. ${e[i]}`)}}function k(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function S(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function C(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function _(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function O(){const e={...this.opts};for(const t of g)delete e[t];return e}n.default=w,w.ValidationError=i.default,w.MissingRefError=s.default;const P={log(){},warn(){},error(){}},E=/^[a-z_$][a-z0-9_$:-]*$/i;function A(e,t){const{RULES:n}=this;if((0,d.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!E.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function j(e,t,n){var r;const o=null==t?void 0:t.post;if(n&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let s=o?i.post:i.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},i.rules.push(s)),i.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)}};t.before?M.call(this,s,a,t.before):s.rules.push(a),i.all[e]=a,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function M(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function T(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=z(t)),e.validateSchema=this.compile(t,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function z(e){return{anyOf:[e,I]}}},{"./compile":5,"./compile/codegen":2,"./compile/ref_error":7,"./compile/resolve":8,"./compile/rules":9,"./compile/util":10,"./compile/validate":15,"./compile/validate/dataType":13,"./refs/data.json":19,"./runtime/uri":23,"./runtime/validation_error":24}],19:[function(e,t,n){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],20:[function(e,t,n){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],21:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("fast-deep-equal");r.code='require("ajv/dist/runtime/equal").default',n.default=r},{"fast-deep-equal":63}],22:[function(e,t,n){function r(e){const t=e.length;let n,r=0,o=0;for(;o<t;)r++,n=e.charCodeAt(o++),n>=55296&&n<=56319&&o<t&&(n=e.charCodeAt(o),56320==(64512&n)&&o++);return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},{}],23:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("uri-js");r.code='require("ajv/dist/runtime/uri").default',n.default=r},{"uri-js":65}],24:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}n.default=r},{}],25:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateAdditionalItems=void 0;const r=e("../../compile/codegen"),o=e("../../compile/util"),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?s(e,r):(0,o.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:i,data:s,keyword:a,it:l}=e;l.items=!0;const c=n.const("len",r._`${s}.length`);if(!1===i)e.setParams({len:t.length}),e.pass(r._`${c} <= ${t.length}`);else if("object"==typeof i&&!(0,o.alwaysValidSchema)(l,i)){const i=n.var("valid",r._`${c} <= ${t.length}`);n.if((0,r.not)(i),(()=>function(i){n.forRange("i",t.length,c,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:o.Type.Num},i),l.allErrors||n.if((0,r.not)(i),(()=>n.break()))}))}(i))),e.ok(i)}}n.validateAdditionalItems=s,n.default=i},{"../../compile/codegen":2,"../../compile/util":10}],26:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../code"),o=e("../../compile/codegen"),i=e("../../compile/names"),s=e("../../compile/util");n.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>o._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:l,errsCount:c,it:u}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:h,opts:d}=u;if(u.props=!0,"all"!==d.removeAdditional&&(0,s.alwaysValidSchema)(u,n))return;const f=(0,r.allSchemaProperties)(a.properties),p=(0,r.allSchemaProperties)(a.patternProperties);function m(e){t.code(o._`delete ${l}[${e}]`)}function g(r){if("all"===d.removeAdditional||d.removeAdditional&&!1===n)m(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(h||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===d.removeAdditional?(v(r,n,!1),t.if((0,o.not)(n),(()=>{e.reset(),m(r)}))):(v(r,n),h||t.if((0,o.not)(n),(()=>t.break())))}}}function v(t,n,r){const o={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===r&&Object.assign(o,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(o,n)}t.forIn("key",l,(n=>{f.length||p.length?t.if(function(n){let i;if(f.length>8){const e=(0,s.schemaRefOrVal)(u,a.properties,"properties");i=(0,r.isOwnProperty)(t,e,n)}else i=f.length?(0,o.or)(...f.map((e=>o._`${n} === ${e}`))):o.nil;return p.length&&(i=(0,o.or)(i,...p.map((t=>o._`${(0,r.usePattern)(e,t)}.test(${n})`)))),(0,o.not)(i)}(n),(()=>g(n))):g(n)})),e.ok(o._`${c} === ${i.default.errors}`)}}},{"../../compile/codegen":2,"../../compile/names":6,"../../compile/util":10,"../code":42}],27:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/util");n.default={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach(((t,n)=>{if((0,r.alwaysValidSchema)(o,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},i);e.ok(i),e.mergeEvaluated(s)}))}}},{"../../compile/util":10}],28:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../code");n.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r.validateUnion,error:{message:"must match a schema in anyOf"}}},{"../code":42}],29:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),o=e("../../compile/util");n.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?r.str`must contain at least ${e} valid item(s)`:r.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?r._`{minContains: ${e}}`:r._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:i,data:s,it:a}=e;let l,c;const{minContains:u,maxContains:h}=i;a.opts.next?(l=void 0===u?1:u,c=h):l=1;const d=t.const("len",r._`${s}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,o.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,o.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,o.alwaysValidSchema)(a,n)){let t=r._`${d} >= ${l}`;return void 0!==c&&(t=r._`${t} && ${d} <= ${c}`),void e.pass(t)}a.items=!0;const f=t.name("valid");function p(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(r._`${e}++`),void 0===c?t.if(r._`${e} >= ${l}`,(()=>t.assign(f,!0).break())):(t.if(r._`${e} > ${c}`,(()=>t.assign(f,!1).break())),1===l?t.assign(f,!0):t.if(r._`${e} >= ${l}`,(()=>t.assign(f,!0))))}(n)))))}function m(n,r){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:o.Type.Num,compositeRule:!0},n),r()}))}void 0===c&&1===l?m(f,(()=>t.if(f,(()=>t.break())))):0===l?(t.let(f,!0),void 0!==c&&t.if(r._`${s}.length > 0`,p)):(t.let(f,!1),p()),e.result(f,(()=>e.reset()))}}},{"../../compile/codegen":2,"../../compile/util":10}],30:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateSchemaDeps=n.validatePropertyDeps=n.error=void 0;const r=e("../../compile/codegen"),o=e("../../compile/util"),i=e("../code");n.error={message:({params:{property:e,depsCount:t,deps:n}})=>r.str`must have ${1===t?"property":"properties"} ${n} when property ${e} is present`,params:({params:{property:e,depsCount:t,deps:n,missingProperty:o}})=>r._`{property: ${e},
	    missingProperty: ${o},
	    depsCount: ${t},
	    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:n.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const r in e)"__proto__"!==r&&((Array.isArray(e[r])?t:n)[r]=e[r]);return[t,n]}(e);a(e,t),l(e,n)}};function a(e,t=e.schema){const{gen:n,data:o,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=(0,i.propertyInData)(n,o,l,s.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),s.allErrors?n.if(u,(()=>{for(const t of c)(0,i.checkReportMissingProp)(e,t)})):(n.if(r._`${u} && (${(0,i.checkMissingProp)(e,c,a)})`),(0,i.reportMissingProp)(e,a),n.else())}}function l(e,t=e.schema){const{gen:n,data:r,keyword:s,it:a}=e,l=n.name("valid");for(const c in t)(0,o.alwaysValidSchema)(a,t[c])||(n.if((0,i.propertyInData)(n,r,c,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>n.var(l,!0))),e.ok(l))}n.validatePropertyDeps=a,n.validateSchemaDeps=l,n.default=s},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],31:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),o=e("../../compile/util");function i(e,t){const n=e.schema[t];return void 0!==n&&!(0,o.alwaysValidSchema)(e,n)}n.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>r.str`must match "${e.ifClause}" schema`,params:({params:e})=>r._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:s}=e;void 0===n.then&&void 0===n.else&&(0,o.checkStrictMode)(s,'"if" without "then" and "else" is ignored');const a=i(s,"then"),l=i(s,"else");if(!a&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),a&&l){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,h("then",n),h("else",n))}else a?t.if(u,h("then")):t.if((0,r.not)(u),h("else"));function h(n,o){return()=>{const i=e.subschema({keyword:n},u);t.assign(c,u),e.mergeValidEvaluated(i,c),o?t.assign(o,r._`${n}`):e.setParams({ifClause:n})}}e.pass(c,(()=>e.error(!0)))}}},{"../../compile/codegen":2,"../../compile/util":10}],32:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./additionalItems"),o=e("./prefixItems"),i=e("./items"),s=e("./items2020"),a=e("./contains"),l=e("./dependencies"),c=e("./propertyNames"),u=e("./additionalProperties"),h=e("./properties"),d=e("./patternProperties"),f=e("./not"),p=e("./anyOf"),m=e("./oneOf"),g=e("./allOf"),v=e("./if"),y=e("./thenElse");n.default=function(e=!1){const t=[f.default,p.default,m.default,g.default,v.default,y.default,c.default,u.default,l.default,h.default,d.default];return e?t.push(o.default,s.default):t.push(r.default,i.default),t.push(a.default),t}},{"./additionalItems":25,"./additionalProperties":26,"./allOf":27,"./anyOf":28,"./contains":29,"./dependencies":30,"./if":31,"./items":33,"./items2020":34,"./not":35,"./oneOf":36,"./patternProperties":37,"./prefixItems":38,"./properties":39,"./propertyNames":40,"./thenElse":41}],33:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateTuple=void 0;const r=e("../../compile/codegen"),o=e("../../compile/util"),i=e("../code"),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,o.alwaysValidSchema)(n,t)||e.ok((0,i.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:i,parentSchema:s,data:a,keyword:l,it:c}=e;!function(e){const{opts:r,errSchemaPath:i}=c,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);r.strictTuples&&!a&&(0,o.checkStrictMode)(c,`"${l}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`,r.strictTuples)}(s),c.opts.unevaluated&&n.length&&!0!==c.items&&(c.items=o.mergeEvaluated.items(i,n.length,c.items));const u=i.name("valid"),h=i.const("len",r._`${a}.length`);n.forEach(((t,n)=>{(0,o.alwaysValidSchema)(c,t)||(i.if(r._`${h} > ${n}`,(()=>e.subschema({keyword:l,schemaProp:n,dataProp:n},u))),e.ok(u))}))}n.validateTuple=a,n.default=s},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],34:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),o=e("../../compile/util"),i=e("../code"),s=e("./additionalItems");n.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:a}=n;r.items=!0,(0,o.alwaysValidSchema)(r,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,i.validateArray)(e)))}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42,"./additionalItems":25}],35:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/util");n.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:o}=e;if((0,r.alwaysValidSchema)(o,n))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}}},{"../../compile/util":10}],36:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),o=e("../../compile/util");n.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>r._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:i,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&i.discriminator)return;const a=n,l=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){a.forEach(((n,i)=>{let a;(0,o.alwaysValidSchema)(s,n)?t.var(u,!0):a=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},u),i>0&&t.if(r._`${u} && ${l}`).assign(l,!1).assign(c,r._`[${c}, ${i}]`).else(),t.if(u,(()=>{t.assign(l,!0),t.assign(c,i),a&&e.mergeEvaluated(a,r.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}}},{"../../compile/codegen":2,"../../compile/util":10}],37:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../code"),o=e("../../compile/codegen"),i=e("../../compile/util"),s=e("../../compile/util");n.default={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:l,it:c}=e,{opts:u}=c,h=(0,r.allSchemaProperties)(n),d=h.filter((e=>(0,i.alwaysValidSchema)(c,n[e])));if(0===h.length||d.length===h.length&&(!c.opts.unevaluated||!0===c.props))return;const f=u.strictSchema&&!u.allowMatchingProperties&&l.properties,p=t.name("valid");!0===c.props||c.props instanceof o.Name||(c.props=(0,s.evaluatedPropsToName)(t,c.props));const{props:m}=c;function g(e){for(const t in f)new RegExp(e).test(t)&&(0,i.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(n){t.forIn("key",a,(i=>{t.if(o._`${(0,r.usePattern)(e,n)}.test(${i})`,(()=>{const r=d.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:i,dataPropType:s.Type.Str},p),c.opts.unevaluated&&!0!==m?t.assign(o._`${m}[${i}]`,!0):r||c.allErrors||t.if((0,o.not)(p),(()=>t.break()))}))}))}!function(){for(const e of h)f&&g(e),c.allErrors?v(e):(t.var(p,!0),v(e),t.if(p))}()}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],38:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./items");n.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")}},{"./items":33}],39:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/validate"),o=e("../code"),i=e("../../compile/util"),s=e("./additionalProperties");n.default={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new r.KeywordCxt(c,s.default,"additionalProperties"));const u=(0,o.allSchemaProperties)(n);for(const e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=i.mergeEvaluated.props(t,(0,i.toHash)(u),c.props));const h=u.filter((e=>!(0,i.alwaysValidSchema)(c,n[e])));if(0===h.length)return;const d=t.name("valid");for(const n of h)f(n)?p(n):(t.if((0,o.propertyInData)(t,l,n,c.opts.ownProperties)),p(n),c.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(d);function f(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}}},{"../../compile/util":10,"../../compile/validate":15,"../code":42,"./additionalProperties":26}],40:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),o=e("../../compile/util");n.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>r._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:i,it:s}=e;if((0,o.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",i,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,r.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}}},{"../../compile/codegen":2,"../../compile/util":10}],41:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/util");n.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,r.checkStrictMode)(n,`"${e}" without "if" is ignored`)}}},{"../../compile/util":10}],42:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateUnion=n.validateArray=n.usePattern=n.callValidateCode=n.schemaProperties=n.allSchemaProperties=n.noPropertyInData=n.propertyInData=n.isOwnProperty=n.hasPropFunc=n.reportMissingProp=n.checkMissingProp=n.checkReportMissingProp=void 0;const r=e("../compile/codegen"),o=e("../compile/util"),i=e("../compile/names"),s=e("../compile/util");function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function l(e,t,n){return r._`${a(e)}.call(${t}, ${n})`}function c(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} === undefined`;return o?(0,r.or)(i,(0,r.not)(l(e,t,n))):i}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}n.checkReportMissingProp=function(e,t){const{gen:n,data:o,it:i}=e;n.if(c(n,o,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()}))},n.checkMissingProp=function({gen:e,data:t,it:{opts:n}},o,i){return(0,r.or)(...o.map((o=>(0,r.and)(c(e,t,o,n.ownProperties),r._`${i} = ${o}`))))},n.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},n.hasPropFunc=a,n.isOwnProperty=l,n.propertyInData=function(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} !== undefined`;return o?r._`${i} && ${l(e,t,n)}`:i},n.noPropertyInData=c,n.allSchemaProperties=u,n.schemaProperties=function(e,t){return u(t).filter((n=>!(0,o.alwaysValidSchema)(e,t[n])))},n.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:o,schemaPath:s,errorPath:a},it:l},c,u,h){const d=h?r._`${e}, ${t}, ${o}${s}`:t,f=[[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,a)],[i.default.parentData,l.parentData],[i.default.parentDataProperty,l.parentDataProperty],[i.default.rootData,i.default.rootData]];l.opts.dynamicRef&&f.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const p=r._`${d}, ${n.object(...f)}`;return u!==r.nil?r._`${c}.call(${u}, ${p})`:r._`${c}(${p})`};const h=r._`new RegExp`;n.usePattern=function({gen:e,it:{opts:t}},n){const o=t.unicodeRegExp?"u":"",{regExp:i}=t.code,a=i(n,o);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:r._`${"new RegExp"===i.code?h:(0,s.useFunc)(e,i)}(${n}, ${o})`})},n.validateArray=function(e){const{gen:t,data:n,keyword:i,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(a,!0),l((()=>t.break())),a;function l(s){const l=t.const("len",r._`${n}.length`);t.forRange("i",0,l,(n=>{e.subschema({keyword:i,dataProp:n,dataPropType:o.Type.Num},a),t.if((0,r.not)(a),s)}))}},n.validateUnion=function(e){const{gen:t,schema:n,keyword:i,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,o.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block((()=>n.forEach(((n,o)=>{const s=e.subschema({keyword:i,schemaProp:o,compositeRule:!0},l);t.assign(a,r._`${a} || ${l}`),e.mergeValidEvaluated(s,l)||t.if((0,r.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},{"../compile/codegen":2,"../compile/names":6,"../compile/util":10}],43:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},{}],44:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./id"),o=e("./ref");n.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,o.default]},{"./id":43,"./ref":45}],45:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.callRef=n.getValidate=void 0;const r=e("../../compile/ref_error"),o=e("../code"),i=e("../../compile/codegen"),s=e("../../compile/names"),a=e("../../compile"),l=e("../../compile/util"),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:o}=e,{baseId:s,schemaEnv:l,validateName:c,opts:d,self:f}=o,{root:p}=l;if(("#"===n||"#/"===n)&&s===p.baseId)return function(){if(l===p)return h(e,c,l,l.$async);const n=t.scopeValue("root",{ref:p});return h(e,i._`${n}.validate`,p,p.$async)}();const m=a.resolveRef.call(f,p,s,n);if(void 0===m)throw new r.default(o.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=u(e,t);h(e,n,t,t.$async)}(m):function(r){const o=t.scopeValue("schema",!0===d.code.source?{ref:r,code:(0,i.stringify)(r)}:{ref:r}),s=t.name("valid"),a=e.subschema({schema:r,dataTypes:[],schemaPath:i.nil,topSchemaRef:o,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):i._`${n.scopeValue("wrapper",{ref:t})}.validate`}function h(e,t,n,r){const{gen:a,it:c}=e,{allErrors:u,schemaEnv:h,opts:d}=c,f=d.passContext?s.default.this:i.nil;function p(e){const t=i._`${e}.errors`;a.assign(s.default.vErrors,i._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,i._`${s.default.vErrors}.length`)}function m(e){var t;if(!c.opts.unevaluated)return;const r=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(r&&!r.dynamicProps)void 0!==r.props&&(c.props=l.mergeEvaluated.props(a,r.props,c.props));else{const t=a.var("props",i._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(a,t,c.props,i.Name)}if(!0!==c.items)if(r&&!r.dynamicItems)void 0!==r.items&&(c.items=l.mergeEvaluated.items(a,r.items,c.items));else{const t=a.var("items",i._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(a,t,c.items,i.Name)}}r?function(){if(!h.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(i._`await ${(0,o.callValidateCode)(e,t,f)}`),m(t),u||a.assign(n,!0)}),(e=>{a.if(i._`!(${e} instanceof ${c.ValidationError})`,(()=>a.throw(e))),p(e),u||a.assign(n,!1)})),e.ok(n)}():e.result((0,o.callValidateCode)(e,t,f),(()=>m(t)),(()=>p(t)))}n.getValidate=u,n.callRef=h,n.default=c},{"../../compile":5,"../../compile/codegen":2,"../../compile/names":6,"../../compile/ref_error":7,"../../compile/util":10,"../code":42}],46:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),o=e("../discriminator/types"),i=e("../../compile"),s=e("../../compile/util");n.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===o.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>r._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:l,it:c}=e,{oneOf:u}=l;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=a.propertyName;if("string"!=typeof h)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),f=t.const("tag",r._`${n}${(0,r.getProperty)(h)}`);function p(n){const o=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:n},o);return e.mergeEvaluated(i,r.Name),o}t.if(r._`typeof ${f} == "string"`,(()=>function(){const n=function(){var e;const t={},n=o(l);let r=!0;for(let t=0;t<u.length;t++){let l=u[t];(null==l?void 0:l.$ref)&&!(0,s.schemaHasRulesButRef)(l,c.self.RULES)&&(l=i.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,null==l?void 0:l.$ref),l instanceof i.SchemaEnv&&(l=l.schema));const d=null===(e=null==l?void 0:l.properties)||void 0===e?void 0:e[h];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);r=r&&(n||o(l)),a(d,t)}if(!r)throw new Error(`discriminator: "${h}" must be required`);return t;function o({required:e}){return Array.isArray(e)&&e.includes(h)}function a(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`);for(const n of e.enum)d(n,t)}}function d(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${h}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(r._`${f} === ${e}`),t.assign(d,p(n[e]));t.else(),e.error(!1,{discrError:o.DiscrError.Mapping,tag:f,tagName:h}),t.endIf()}()),(()=>e.error(!1,{discrError:o.DiscrError.Tag,tag:f,tagName:h}))),e.ok(d)}}},{"../../compile":5,"../../compile/codegen":2,"../../compile/util":10,"../discriminator/types":47}],47:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(n.DiscrError||(n.DiscrError={}))},{}],48:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./core"),o=e("./validation"),i=e("./applicator"),s=e("./format"),a=e("./metadata"),l=[r.default,o.default,(0,i.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];n.default=l},{"./applicator":32,"./core":44,"./format":50,"./metadata":51,"./validation":54}],49:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen");n.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match format "${e}"`,params:({schemaCode:e})=>r._`{format: ${e}}`},code(e,t){const{gen:n,data:o,$data:i,schema:s,schemaCode:a,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:h,self:d}=l;c.validateFormats&&(i?function(){const i=n.scopeValue("formats",{ref:d.formats,code:c.code.formats}),s=n.const("fDef",r._`${i}[${a}]`),l=n.let("fType"),u=n.let("format");n.if(r._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(l,r._`${s}.type || "string"`).assign(u,r._`${s}.validate`)),(()=>n.assign(l,r._`"string"`).assign(u,s))),e.fail$data((0,r.or)(!1===c.strictSchema?r.nil:r._`${a} && !${u}`,function(){const e=h.$async?r._`(${s}.async ? await ${u}(${o}) : ${u}(${o}))`:r._`${u}(${o})`,n=r._`(typeof ${u} == "function" ? ${e} : ${u}.test(${o}))`;return r._`${u} && ${u} !== true && ${l} === ${t} && !${n}`}()))}():function(){const i=d.formats[s];if(!i)return void function(){if(!1!==c.strictSchema)throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}d.logger.warn(e())}();if(!0===i)return;const[a,l,f]=function(e){const t=e instanceof RegExp?(0,r.regexpCode)(e):c.code.formats?r._`${c.code.formats}${(0,r.getProperty)(s)}`:void 0,o=n.scopeValue("formats",{key:s,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,o]:[e.type||"string",e.validate,r._`${o}.validate`]}(i);a===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!h.$async)throw new Error("async format in sync schema");return r._`await ${f}(${o})`}return"function"==typeof l?r._`${f}(${o})`:r._`${f}.test(${o})`}())}())}}},{"../../compile/codegen":2}],50:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./format");n.default=[r.default]},{"./format":49}],51:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.contentVocabulary=n.metadataVocabulary=void 0,n.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],n.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},{}],52:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),o=e("../../compile/util"),i=e("../../runtime/equal");n.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>r._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:l}=e;s||l&&"object"==typeof l?e.fail$data(r._`!${(0,o.useFunc)(t,i.default)}(${n}, ${a})`):e.fail(r._`${l} !== ${n}`)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],53:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),o=e("../../compile/util"),i=e("../../runtime/equal");n.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>r._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:l,it:c}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");let u;const h=()=>null!=u?u:u=(0,o.useFunc)(t,i.default);let d;if(a.length>=c.opts.loopEnum||s)d=t.let("valid"),e.block$data(d,(function(){t.assign(d,!1),t.forOf("v",l,(e=>t.if(r._`${h()}(${n}, ${e})`,(()=>t.assign(d,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",l);d=(0,r.or)(...a.map(((t,o)=>function(e,t){const o=a[t];return"object"==typeof o&&null!==o?r._`${h()}(${n}, ${e}[${t}])`:r._`${n} === ${o}`}(e,o))))}e.pass(d)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],54:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./limitNumber"),o=e("./multipleOf"),i=e("./limitLength"),s=e("./pattern"),a=e("./limitProperties"),l=e("./required"),c=e("./limitItems"),u=e("./uniqueItems"),h=e("./const"),d=e("./enum");n.default=[r.default,o.default,i.default,s.default,a.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},h.default,d.default]},{"./const":52,"./enum":53,"./limitItems":55,"./limitLength":56,"./limitNumber":57,"./limitProperties":58,"./multipleOf":59,"./pattern":60,"./required":61,"./uniqueItems":62}],55:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen");n.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>r.str`must NOT have ${"maxItems"===e?"more":"fewer"} than ${t} items`,params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data(r._`${n}.length ${"maxItems"===t?r.operators.GT:r.operators.LT} ${o}`)}}},{"../../compile/codegen":2}],56:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),o=e("../../compile/util"),i=e("../../runtime/ucs2length");n.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>r.str`must NOT have ${"maxLength"===e?"more":"fewer"} than ${t} characters`,params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,l="maxLength"===t?r.operators.GT:r.operators.LT,c=!1===a.opts.unicode?r._`${n}.length`:r._`${(0,o.useFunc)(e.gen,i.default)}(${n})`;e.fail$data(r._`${c} ${l} ${s}`)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/ucs2length":22}],57:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen"),o=r.operators,i={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},s={message:({keyword:e,schemaCode:t})=>r.str`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${i[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data(r._`${n} ${i[t].fail} ${o} || isNaN(${n})`)}};n.default=a},{"../../compile/codegen":2}],58:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen");n.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>r.str`must NOT have ${"maxProperties"===e?"more":"fewer"} than ${t} properties`,params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data(r._`Object.keys(${n}).length ${"maxProperties"===t?r.operators.GT:r.operators.LT} ${o}`)}}},{"../../compile/codegen":2}],59:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/codegen");n.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>r.str`must be multiple of ${e}`,params:({schemaCode:e})=>r._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:o,it:i}=e,s=i.opts.multipleOfPrecision,a=t.let("res"),l=s?r._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:r._`${a} !== parseInt(${a})`;e.fail$data(r._`(${o} === 0 || (${a} = ${n}/${o}, ${l}))`)}}},{"../../compile/codegen":2}],60:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../code"),o=e("../../compile/codegen");n.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>o.str`must match pattern "${e}"`,params:({schemaCode:e})=>o._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:i,schemaCode:s,it:a}=e,l=n?o._`(new RegExp(${s}, ${a.opts.unicodeRegExp?"u":""}))`:(0,r.usePattern)(e,i);e.fail$data(o._`!${l}.test(${t})`)}}},{"../../compile/codegen":2,"../code":42}],61:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../code"),o=e("../../compile/codegen"),i=e("../../compile/util");n.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>o.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>o._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===n.length)return;const h=n.length>=u.loopRequired;if(c.allErrors?function(){if(h||l)e.block$data(o.nil,d);else for(const t of n)(0,r.checkReportMissingProp)(e,t)}():function(){const i=t.let("missing");if(h||l){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,i){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(i,(0,r.propertyInData)(t,a,n,u.ownProperties)),t.if((0,o.not)(i),(()=>{e.error(),t.break()}))}),o.nil)}(i,n))),e.ok(n)}else t.if((0,r.checkMissingProp)(e,n,i)),(0,r.reportMissingProp)(e,i),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)void 0!==(null==t?void 0:t[e])||r.has(e)||(0,i.checkStrictMode)(c,`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`,c.opts.strictRequired)}function d(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,r.noPropertyInData)(t,a,n,u.ownProperties),(()=>e.error()))}))}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],62:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../compile/validate/dataType"),o=e("../../compile/codegen"),i=e("../../compile/util"),s=e("../../runtime/equal");n.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>o.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>o._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:l,parentSchema:c,schemaCode:u,it:h}=e;if(!a&&!l)return;const d=t.let("valid"),f=c.items?(0,r.getSchemaTypes)(c.items):[];function p(i,s){const a=t.name("item"),l=(0,r.checkDataTypes)(f,a,h.opts.strictNumbers,r.DataType.Wrong),c=t.const("indices",o._`{}`);t.for(o._`;${i}--;`,(()=>{t.let(a,o._`${n}[${i}]`),t.if(l,o._`continue`),f.length>1&&t.if(o._`typeof ${a} == "string"`,o._`${a} += "_"`),t.if(o._`typeof ${c}[${a}] == "number"`,(()=>{t.assign(s,o._`${c}[${a}]`),e.error(),t.assign(d,!1).break()})).code(o._`${c}[${a}] = ${i}`)}))}function m(r,a){const l=(0,i.useFunc)(t,s.default),c=t.name("outer");t.label(c).for(o._`;${r}--;`,(()=>t.for(o._`${a} = ${r}; ${a}--;`,(()=>t.if(o._`${l}(${n}[${r}], ${n}[${a}])`,(()=>{e.error(),t.assign(d,!1).break(c)}))))))}e.block$data(d,(function(){const r=t.let("i",o._`${n}.length`),i=t.let("j");e.setParams({i:r,j:i}),t.assign(d,!0),t.if(o._`${r} > 1`,(()=>(f.length>0&&!f.some((e=>"object"===e||"array"===e))?p:m)(r,i)))}),o._`${u} === false`),e.ok(d)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../compile/validate/dataType":13,"../../runtime/equal":21}],63:[function(e,t,n){t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var s=i[o];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},{}],64:[function(e,t,n){var r=t.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),o(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function o(e,t,n,i,s,a,l,c,u,h){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var d in t(i,s,a,l,c,u,h),i){var f=i[d];if(Array.isArray(f)){if(d in r.arrayKeywords)for(var p=0;p<f.length;p++)o(e,t,n,f[p],s+"/"+d+"/"+p,a,s,d,i,p)}else if(d in r.propsKeywords){if(f&&"object"==typeof f)for(var m in f)o(e,t,n,f[m],s+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,d,i,m)}else(d in r.keywords||e.allKeys&&!(d in r.skipKeywords))&&o(e,t,n,f,s+"/"+d,a,s,d,i)}n(i,s,a,l,c,u,h)}}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],65:[function(e,t,n){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e,r){r("object"==typeof n&&void 0!==t?n:e.URI=e.URI||{})}(this,(function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,o=1;o<r;++o)t[o]=t[o].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function i(e){var r="[A-Za-z]",o="[0-9]",i=t(o,"[A-Fa-f]"),s=n(n("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+n("%[89A-Fa-f]"+i+"%"+i+i)+"|"+n("%"+i+i)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",u=t(r,o,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n(r+t(r,o,"[\\+\\-\\.]")+"*"),n(n(s+"|"+t(u,a,"[\\:]"))+"*");var h=n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?"+o),d=n(h+"\\."+h+"\\."+h+"\\."+h),f=n(i+"{1,4}"),p=n(n(f+"\\:"+f)+"|"+d),m=n(n(f+"\\:")+"{6}"+p),g=n("\\:\\:"+n(f+"\\:")+"{5}"+p),v=n(n(f)+"?\\:\\:"+n(f+"\\:")+"{4}"+p),y=n(n(n(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+n(f+"\\:")+"{3}"+p),b=n(n(n(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+n(f+"\\:")+"{2}"+p),x=n(n(n(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+p),w=n(n(n(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+p),$=n(n(n(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),k=n(n(n(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),S=n([m,g,v,y,b,x,w,$,k].join("|")),C=n(n(u+"|"+s)+"+");n("[vV]"+i+"+\\."+t(u,a,"[\\:]")+"+"),n(n(s+"|"+t(u,a))+"*");var _=n(s+"|"+t(u,a,"[\\:\\@]"));return n(n(s+"|"+t(u,a,"[\\@]"))+"+"),n(n(_+"|"+t("[\\/\\?]",c))+"*"),{NOT_SCHEME:new RegExp(t("[^]",r,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+n(n("\\%25|\\%(?!"+i+"{2})")+"("+C+")")+"?\\]?$")}}var s=i(!1),a=i(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,u=36,h=/^xn--/,d=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,g=String.fromCharCode;function v(e){throw new RangeError(p[e])}function y(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var o=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(f,".")).split("."),t).join(".");return r+o}function b(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}var x=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},w=function(e,t,n){var r=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;r+=u)e=m(e/35);return m(r+36*e/(e+38))},$=function(e){var t,n=[],r=e.length,o=0,i=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var l=0;l<a;++l)e.charCodeAt(l)>=128&&v("not-basic"),n.push(e.charCodeAt(l));for(var h=a>0?a+1:0;h<r;){for(var d=o,f=1,p=u;;p+=u){h>=r&&v("invalid-input");var g=(t=e.charCodeAt(h++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u;(g>=u||g>m((c-o)/f))&&v("overflow"),o+=g*f;var y=p<=s?1:p>=s+26?26:p-s;if(g<y)break;var b=u-y;f>m(c/b)&&v("overflow"),f*=b}var x=n.length+1;s=w(o-d,x,0==d),m(o/x)>c-i&&v("overflow"),i+=m(o/x),o%=x,n.splice(o++,0,i)}return String.fromCodePoint.apply(String,n)},k=function(e){var t=[],n=(e=b(e)).length,r=128,o=0,i=72,s=!0,a=!1,l=void 0;try{for(var h,d=e[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;f<128&&t.push(g(f))}}catch(e){a=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(a)throw l}}var p=t.length,y=p;for(p&&t.push("-");y<n;){var $=c,k=!0,S=!1,C=void 0;try{for(var _,O=e[Symbol.iterator]();!(k=(_=O.next()).done);k=!0){var P=_.value;P>=r&&P<$&&($=P)}}catch(e){S=!0,C=e}finally{try{!k&&O.return&&O.return()}finally{if(S)throw C}}var E=y+1;$-r>m((c-o)/E)&&v("overflow"),o+=($-r)*E,r=$;var A=!0,j=!1,M=void 0;try{for(var T,I=e[Symbol.iterator]();!(A=(T=I.next()).done);A=!0){var z=T.value;if(z<r&&++o>c&&v("overflow"),z==r){for(var N=o,R=u;;R+=u){var D=R<=i?1:R>=i+26?26:R-i;if(N<D)break;var L=N-D,B=u-D;t.push(g(x(D+L%B,0))),N=m(L/B)}t.push(g(x(N,0))),i=w(o,E,y==p),o=0,++y}}}catch(e){j=!0,M=e}finally{try{!A&&I.return&&I.return()}finally{if(j)throw M}}++o,++r}return t.join("")},S=function(e){return y(e,(function(e){return d.test(e)?"xn--"+k(e):e}))},C=function(e){return y(e,(function(e){return h.test(e)?$(e.slice(4).toLowerCase()):e}))},_={};function O(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function P(e){for(var t="",n=0,r=e.length;n<r;){var o=parseInt(e.substr(n+1,2),16);if(o<128)t+=String.fromCharCode(o),n+=3;else if(o>=194&&o<224){if(r-n>=6){var i=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&o)<<6|63&i)}else t+=e.substr(n,6);n+=6}else if(o>=224){if(r-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function E(e,t){function n(e){var n=P(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,O).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,O).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,O).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,O).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,O).replace(t.PCT_ENCODED,o)),e}function A(e){return e.replace(/^0*(.*)/,"$1")||"0"}function j(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=l(n,2)[1];return r?r.split(".").map(A).join("."):e}function M(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=l(n,3),o=r[1],i=r[2];if(o){for(var s=o.toLowerCase().split("::").reverse(),a=l(s,2),c=a[0],u=a[1],h=u?u.split(":").map(A):[],d=c.split(":").map(A),f=t.IPV4ADDRESS.test(d[d.length-1]),p=f?7:8,m=d.length-p,g=Array(p),v=0;v<p;++v)g[v]=h[v]||d[m+v]||"";f&&(g[p-1]=j(g[p-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var x=g.slice(0,y.index),w=g.slice(y.index+y.length);b=x.join(":")+"::"+w.join(":")}else b=g.join(":");return i&&(b+="%"+i),b}return e}var T=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,I=void 0==="".match(/(){0}/)[1];function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var o=e.match(T);if(o){I?(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5])):(n.scheme=o[1]||void 0,n.userinfo=-1!==e.indexOf("@")?o[3]:void 0,n.host=-1!==e.indexOf("//")?o[4]:void 0,n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=-1!==e.indexOf("?")?o[7]:void 0,n.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),n.host&&(n.host=M(j(n.host,r),r)),n.reference=void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?"relative":void 0===n.fragment?"absolute":"uri":"same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var i=_[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)E(n,r);else{if(n.host&&(t.domainHost||i&&i.domainHost))try{n.host=S(n.host.replace(r.PCT_ENCODED,P).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}E(n,s)}i&&i.parse&&i.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function N(e,t){var n=!1!==t.iri?a:s,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(M(j(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var R=/^\.\.?\//,D=/^\/\.(\/|$)/,L=/^\/\.\.(\/|$)/,B=/^\/?(?:.|\n)*?(?=\/|$)/;function F(e){for(var t=[];e.length;)if(e.match(R))e=e.replace(R,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(L))e=e.replace(L,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(B);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?a:s,r=[],o=_[(t.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||o&&o.domainHost)try{e.host=t.iri?C(e.host):S(e.host.replace(n.PCT_ENCODED,P).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}E(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var i=N(e,t);if(void 0!==i&&("suffix"!==t.reference&&r.push("//"),r.push(i),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||o&&o.absolutePath||(l=F(l)),void 0===i&&(l=l.replace(/^\/\//,"/%2F")),r.push(l)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=z(q(e,n),n),t=z(q(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=F(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=F(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=F(t.path):(r.path=void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:t.path:"/"+t.path,r.path=F(r.path)),r.query=t.query):(r.path=e.path,r.query=void 0!==t.query?t.query:e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function H(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,P)}var W={scheme:"http",domainHost:!0,parse:(e,t)=>(e.host||(e.error=e.error||"HTTP URIs must have a host."),e),serialize(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},U={scheme:"https",domainHost:W.domainHost,parse:W.parse,serialize:W.serialize};function J(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var K={scheme:"ws",domainHost:!0,parse(e,t){var n=e;return n.secure=J(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize(e,t){if(e.port!==(J(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=l(n,2),o=r[0],i=r[1];e.path=o&&"/"!==o?o:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},G={scheme:"wss",domainHost:K.domainHost,parse:K.parse,serialize:K.serialize},Q={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",X=n(n("%[EFef][0-9A-Fa-f]%"+Z+Z+"%"+Z+Z)+"|"+n("%[89A-Fa-f][0-9A-Fa-f]%"+Z+Z)+"|"+n("%"+Z+Z)),ee=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),te=new RegExp(Y,"g"),ne=new RegExp(X,"g"),re=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ee),"g"),oe=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=oe;function se(e){var t=P(e);return t.match(te)?t:e}var ae={scheme:"mailto",parse(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var o=!1,i={},s=n.query.split("&"),a=0,l=s.length;a<l;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),h=0,d=u.length;h<d;++h)r.push(u[h]);break;case"subject":n.subject=H(c[1],t);break;case"body":n.body=H(c[1],t);break;default:o=!0,i[H(c[0],t)]=H(c[1],t)}}o&&(n.headers=i)}n.query=void 0;for(var f=0,p=r.length;f<p;++f){var m=r[f].split("@");if(m[0]=H(m[0]),t.unicodeSupport)m[1]=H(m[1],t).toLowerCase();else try{m[1]=S(H(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[f]=m.join("@")}return n},serialize(e,t){var n,r=e,i=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(i){for(var s=0,a=i.length;s<a;++s){var l=String(i[s]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(ne,se).replace(ne,o).replace(re,O),h=l.slice(c+1);try{h=t.iri?C(h):S(H(h,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[s]=u+"@"+h}r.path=i.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var f=[];for(var p in d)d[p]!==Q[p]&&f.push(p.replace(ne,se).replace(ne,o).replace(oe,O)+"="+d[p].replace(ne,se).replace(ne,o).replace(ie,O));return f.length&&(r.query=f.join("&")),r}},le=/^([^\:]+)\:(.*)/,ce={scheme:"urn",parse(e,t){var n=e.path&&e.path.match(le),r=e;if(n){var o=t.scheme||r.scheme||"urn",i=n[1].toLowerCase(),s=n[2],a=_[o+":"+(t.nid||i)];r.nid=i,r.nss=s,r.path=void 0,a&&(r=a.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize(e,t){var n=e.nid,r=_[(t.scheme||e.scheme||"urn")+":"+(t.nid||n)];r&&(e=r.serialize(e,t));var o=e;return o.path=(n||t.nid)+":"+e.nss,o}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,he={scheme:"urn:uuid",parse(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ue)||(n.error=n.error||"UUID is not valid."),n},serialize(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};_[W.scheme]=W,_[U.scheme]=U,_[K.scheme]=K,_[G.scheme]=G,_[ae.scheme]=ae,_[ce.scheme]=ce,_[he.scheme]=he,e.SCHEMES=_,e.pctEncChar=O,e.pctDecChars=P,e.parse=z,e.removeDotSegments=F,e.serialize=q,e.resolveComponents=V,e.resolve=function(e,t,n){var r=function(e,t){var n={scheme:"null"};if(t)for(var r in t)n[r]=t[r];return n}(0,n);return q(V(z(e,r),z(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=q(z(e,t),t):"object"===r(e)&&(e=z(q(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=q(z(e,n),n):"object"===r(e)&&(e=q(e,n)),"string"==typeof t?t=q(z(t,n),n):"object"===r(t)&&(t=q(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,O)},e.unescapeComponent=H,Object.defineProperty(e,"__esModule",{value:!0})}))},{}],ajv:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=void 0;const r=e("./core"),o=e("./vocabularies/draft7"),i=e("./vocabularies/discriminator"),s=e("./refs/json-schema-draft-07.json"),a=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),o.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.exports=n=c,Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var u=e("./compile/validate");Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:()=>u.KeywordCxt});var h=e("./compile/codegen");Object.defineProperty(n,"_",{enumerable:!0,get:()=>h._}),Object.defineProperty(n,"str",{enumerable:!0,get:()=>h.str}),Object.defineProperty(n,"stringify",{enumerable:!0,get:()=>h.stringify}),Object.defineProperty(n,"nil",{enumerable:!0,get:()=>h.nil}),Object.defineProperty(n,"Name",{enumerable:!0,get:()=>h.Name}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:()=>h.CodeGen})},{"./compile/codegen":2,"./compile/validate":15,"./core":18,"./refs/json-schema-draft-07.json":20,"./vocabularies/discriminator":46,"./vocabularies/draft7":48}]},{},[])("ajv"));function lF(e,t){const n=new aF({allErrors:!0,verbose:!0,$data:!0});t&&Object.keys(t).forEach((e=>{n.addSchema(t[e],e)}));const r=n.compile(e);return function(e){r(e);return(r.errors||[]).map(cF).map((t=>function(e,t){return{path:$g(e,t.instancePath),message:t.message}}(e,t)))}}function cF(e){if("enum"===e.keyword&&Array.isArray(e.schema)){let t=e.schema;if(t){if(t=t.map((e=>JSON.stringify(e))),t.length>5){const e=["("+(t.length-5)+" more...)"];t=t.slice(0,5),t.push(e)}e.message="should be equal to one of: "+t.join(", ")}}return"additionalProperties"===e.keyword&&(e.message="should NOT have additional property: "+e.params.additionalProperty),e}const uF={id:"lodash",name:"Lodash",description:'\n<p>\n  Enter a JavaScript function to filter, sort, or transform the data.\n  You can use <a href="https://lodash.com" target="_blank" rel="noopener noreferrer">Lodash</a>\n  functions like <code>_.map</code>, <code>_.filter</code>,\n  <code>_.orderBy</code>, <code>_.sortBy</code>, <code>_.groupBy</code>,\n  <code>_.pick</code>, <code>_.uniq</code>, <code>_.get</code>, etcetera.\n</p>\n',createQuery:function(e,t){const{filter:n,sort:r,projection:o}=t,i=[];if(n&&n.path&&n.relation&&n.value){const e=`item => item${sb(n.path)}`;i.push(`  data = _.filter(data, ${e} ${n.relation} '${n.value}')\n`)}r&&r.path&&r.direction&&i.push(`  data = _.orderBy(data, ['${s=r.path,ib(s).replace(/^\./,"")}'], ['${r.direction}'])\n`);var s;if(o&&o.paths)if(o.paths.length>1){const e=o.paths.map((e=>{const t=tc(e)||"item";return`    ${JSON.stringify(t)}: item${sb(e)}`}));i.push(`  data = _.map(data, item => ({\n${e.join(",\n")}\n  }))\n`)}else{const e=o.paths[0];i.push(`  data = _.map(data, item => item${sb(e)})\n`)}return i.push("  return data\n"),`function query (data) {\n${i.join("")}}`},executeQuery:function(e,t){const n=new Function("_",'"use strict";\n\n'+t+'\n\nif (typeof query !== "function") {\n  throw new Error("Cannot execute query: expecting a function named \'query\' but is undefined")\n}\n\nreturn query;\n')(wg)(e);return void 0!==n?n:null}};var hF={};!function(e){function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e,o){if(e===o)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(o))return!1;if(!0===t(e)){if(e.length!==o.length)return!1;for(var i=0;i<e.length;i++)if(!1===r(e[i],o[i]))return!1;return!0}if(!0===n(e)){var s={};for(var a in e)if(hasOwnProperty.call(e,a)){if(!1===r(e[a],o[a]))return!1;s[a]=!0}for(var l in o)if(hasOwnProperty.call(o,l)&&!0!==s[l])return!1;return!0}return!1}function o(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(n(e)){for(var r in e)if(e.hasOwnProperty(r))return!1;return!0}return!1}var i;i="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var s=0,a=2,l={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},c="EOF",u="UnquotedIdentifier",h="QuotedIdentifier",d="Rbracket",f="Rparen",p="Comma",m="Colon",g="Rbrace",v="Number",y="Current",b="Expref",x="Pipe",w="Or",$="And",k="EQ",S="GT",C="LT",_="GTE",O="LTE",P="NE",E="Flatten",A="Star",j="Filter",M="Dot",T="Not",I="Lbrace",z="Lbracket",N="Lparen",R="Literal",D={".":M,"*":A,",":p,":":m,"{":I,"}":g,"]":d,"(":N,")":f,"@":y},L={"<":!0,">":!0,"=":!0,"!":!0},B={" ":!0,"\t":!0,"\n":!0};function F(e){return e>="0"&&e<="9"||"-"===e}function q(){}q.prototype={tokenize:function(e){var t,n,r,o,i=[];for(this._current=0;this._current<e.length;)if((o=e[this._current])>="a"&&o<="z"||o>="A"&&o<="Z"||"_"===o)t=this._current,n=this._consumeUnquotedIdentifier(e),i.push({type:u,value:n,start:t});else if(void 0!==D[e[this._current]])i.push({type:D[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(F(e[this._current]))r=this._consumeNumber(e),i.push(r);else if("["===e[this._current])r=this._consumeLBracket(e),i.push(r);else if('"'===e[this._current])t=this._current,n=this._consumeQuotedIdentifier(e),i.push({type:h,value:n,start:t});else if("'"===e[this._current])t=this._current,n=this._consumeRawStringLiteral(e),i.push({type:R,value:n,start:t});else if("`"===e[this._current]){t=this._current;var s=this._consumeLiteral(e);i.push({type:R,value:s,start:t})}else if(void 0!==L[e[this._current]])i.push(this._consumeOperator(e));else if(void 0!==B[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,i.push({type:$,value:"&&",start:t})):i.push({type:b,value:"&",start:t});else{if("|"!==e[this._current]){var a=new Error("Unknown character:"+e[this._current]);throw a.name="LexerError",a}t=this._current,this._current++,"|"===e[this._current]?(this._current++,i.push({type:w,value:"||",start:t})):i.push({type:x,value:"|",start:t})}return i},_consumeUnquotedIdentifier:function(e){var t,n=this._current;for(this._current++;this._current<e.length&&((t=e[this._current])>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"_"===t);)this._current++;return e.slice(n,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var n=e.length;'"'!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&'"'!==e[r+1]?r++:r+=2,this._current=r}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var n=e.length;"'"!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&"'"!==e[r+1]?r++:r+=2,this._current=r}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var n=e.length;F(e[this._current])&&this._current<n;)this._current++;var r=parseInt(e.slice(t,this._current));return{type:v,value:r,start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:j,value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:E,value:"[]",start:t}):{type:z,value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:P,value:"!=",start:t}):{type:T,value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:O,value:"<=",start:t}):{type:C,value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:_,value:">=",start:t}):{type:S,value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:k,value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t,n=this._current,r=e.length;"`"!==e[this._current]&&this._current<r;){var o=this._current;"\\"!==e[o]||"\\"!==e[o+1]&&"`"!==e[o+1]?o++:o+=2,this._current=o}var s=i(e.slice(n,this._current));return s=s.replace("\\`","`"),t=this._looksLikeJSON(s)?JSON.parse(s):JSON.parse('"'+s+'"'),this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if('[{"'.indexOf(e[0])>=0)return!0;if(["true","false","null"].indexOf(e)>=0)return!0;if(!("-0123456789".indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var V={};function H(){}function W(e){this.runtime=e}function U(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[s]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[s]}]},contains:{_func:this._functionContains,_signature:[{types:[a,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[a]},{types:[a]}]},floor:{_func:this._functionFloor,_signature:[{types:[s]}]},length:{_func:this._functionLength,_signature:[{types:[a,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[a]},{types:[a]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[a]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[a,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}V.EOF=0,V.UnquotedIdentifier=0,V.QuotedIdentifier=0,V.Rbracket=0,V.Rparen=0,V.Comma=0,V.Rbrace=0,V.Number=0,V.Current=0,V.Expref=0,V.Pipe=1,V.Or=2,V.And=3,V.EQ=5,V.GT=5,V.LT=5,V.GTE=5,V.LTE=5,V.NE=5,V.Flatten=9,V.Star=20,V.Filter=21,V.Dot=40,V.Not=45,V.Lbrace=50,V.Lbracket=55,V.Lparen=60,H.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if(this._lookahead(0)!==c){var n=this._lookaheadToken(0),r=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw r.name="ParserError",r}return t},_loadTokens:function(e){var t=(new q).tokenize(e);t.push({type:c,value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var n=this.nud(t),r=this._lookahead(0);e<V[r];)this._advance(),n=this.led(r,n),r=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n;switch(e.type){case R:return{type:"Literal",value:e.value};case u:return{type:"Field",name:e.value};case h:var r={type:"Field",name:e.value};if(this._lookahead(0)===N)throw new Error("Quoted identifier not allowed for function names.");return r;case T:return{type:"NotExpression",children:[t=this.expression(V.Not)]};case A:return t=null,{type:"ValueProjection",children:[{type:"Identity"},t=this._lookahead(0)===d?{type:"Identity"}:this._parseProjectionRHS(V.Star)]};case j:return this.led(e.type,{type:"Identity"});case I:return this._parseMultiselectHash();case E:return{type:"Projection",children:[{type:E,children:[{type:"Identity"}]},t=this._parseProjectionRHS(V.Flatten)]};case z:return this._lookahead(0)===v||this._lookahead(0)===m?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):this._lookahead(0)===A&&this._lookahead(1)===d?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(V.Star)]}):this._parseMultiselectList();case y:return{type:y};case b:return{type:"ExpressionReference",children:[n=this.expression(V.Expref)]};case N:for(var o=[];this._lookahead(0)!==f;)this._lookahead(0)===y?(n={type:y},this._advance()):n=this.expression(0),o.push(n);return this._match(f),o[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case M:var r=V.Dot;return this._lookahead(0)!==A?{type:"Subexpression",children:[t,n=this._parseDotRHS(r)]}:(this._advance(),{type:"ValueProjection",children:[t,n=this._parseProjectionRHS(r)]});case x:return n=this.expression(V.Pipe),{type:x,children:[t,n]};case w:return{type:"OrExpression",children:[t,n=this.expression(V.Or)]};case $:return{type:"AndExpression",children:[t,n=this.expression(V.And)]};case N:for(var o,i=t.name,s=[];this._lookahead(0)!==f;)this._lookahead(0)===y?(o={type:y},this._advance()):o=this.expression(0),this._lookahead(0)===p&&this._match(p),s.push(o);return this._match(f),{type:"Function",name:i,children:s};case j:var a=this.expression(0);return this._match(d),{type:"FilterProjection",children:[t,n=this._lookahead(0)===E?{type:"Identity"}:this._parseProjectionRHS(V.Filter),a]};case E:return{type:"Projection",children:[{type:E,children:[t]},this._parseProjectionRHS(V.Flatten)]};case k:case P:case S:case _:case C:case O:return this._parseComparator(t,e);case z:var l=this._lookaheadToken(0);return l.type===v||l.type===m?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match(A),this._match(d),{type:"Projection",children:[t,n=this._parseProjectionRHS(V.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),n=new Error("Expected "+e+", got: "+t.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if(this._lookahead(0)===m||this._lookahead(1)===m)return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(d),e},_projectIfSlice:function(e,t){var n={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[n,this._parseProjectionRHS(V.Star)]}:n},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,n=this._lookahead(0);n!==d&&t<3;){if(n===m)t++,this._advance();else{if(n!==v){var r=this._lookahead(0),o=new Error("Syntax error, unexpected token: "+r.value+"("+r.type+")");throw o.name="Parsererror",o}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match(d),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(V[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return[u,h,A].indexOf(t)>=0?this.expression(e):t===z?(this._match(z),this._parseMultiselectList()):t===I?(this._match(I),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(V[this._lookahead(0)]<10)t={type:"Identity"};else if(this._lookahead(0)===z)t=this.expression(e);else if(this._lookahead(0)===j)t=this.expression(e);else{if(this._lookahead(0)!==M){var n=this._lookaheadToken(0),r=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw r.name="ParserError",r}this._match(M),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];this._lookahead(0)!==d;){var t=this.expression(0);if(e.push(t),this._lookahead(0)===p&&(this._match(p),this._lookahead(0)===d))throw new Error("Unexpected token Rbracket")}return this._match(d),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n,r=[],o=[u,h];;){if(e=this._lookaheadToken(0),o.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match(m),n={type:"KeyValuePair",name:t,value:this.expression(0)},r.push(n),this._lookahead(0)===p)this._match(p);else if(this._lookahead(0)===g){this._match(g);break}}return{type:"MultiSelectHash",children:r}}},W.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,i){var s,a,l,c,u,h,d,f,p;switch(e.type){case"Field":return null!==i&&n(i)?void 0===(h=i[e.name])?null:h:null;case"Subexpression":for(l=this.visit(e.children[0],i),p=1;p<e.children.length;p++)if(null===(l=this.visit(e.children[1],l)))return null;return l;case"IndexExpression":return d=this.visit(e.children[0],i),this.visit(e.children[1],d);case"Index":if(!t(i))return null;var m=e.value;return m<0&&(m=i.length+m),void 0===(l=i[m])&&(l=null),l;case"Slice":if(!t(i))return null;var g=e.children.slice(0),v=this.computeSliceParams(i.length,g),w=v[0],$=v[1],A=v[2];if(l=[],A>0)for(p=w;p<$;p+=A)l.push(i[p]);else for(p=w;p>$;p+=A)l.push(i[p]);return l;case"Projection":var j=this.visit(e.children[0],i);if(!t(j))return null;for(f=[],p=0;p<j.length;p++)null!==(a=this.visit(e.children[1],j[p]))&&f.push(a);return f;case"ValueProjection":if(!n(j=this.visit(e.children[0],i)))return null;f=[];var M=function(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}(j);for(p=0;p<M.length;p++)null!==(a=this.visit(e.children[1],M[p]))&&f.push(a);return f;case"FilterProjection":if(!t(j=this.visit(e.children[0],i)))return null;var T=[],I=[];for(p=0;p<j.length;p++)o(s=this.visit(e.children[2],j[p]))||T.push(j[p]);for(var z=0;z<T.length;z++)null!==(a=this.visit(e.children[1],T[z]))&&I.push(a);return I;case"Comparator":switch(c=this.visit(e.children[0],i),u=this.visit(e.children[1],i),e.name){case k:l=r(c,u);break;case P:l=!r(c,u);break;case S:l=c>u;break;case _:l=c>=u;break;case C:l=c<u;break;case O:l=c<=u;break;default:throw new Error("Unknown comparator: "+e.name)}return l;case E:var N=this.visit(e.children[0],i);if(!t(N))return null;var R=[];for(p=0;p<N.length;p++)t(a=N[p])?R.push.apply(R,a):R.push(a);return R;case"Identity":return i;case"MultiSelectList":if(null===i)return null;for(f=[],p=0;p<e.children.length;p++)f.push(this.visit(e.children[p],i));return f;case"MultiSelectHash":if(null===i)return null;var D;for(f={},p=0;p<e.children.length;p++)f[(D=e.children[p]).name]=this.visit(D.value,i);return f;case"OrExpression":return o(s=this.visit(e.children[0],i))&&(s=this.visit(e.children[1],i)),s;case"AndExpression":return!0===o(c=this.visit(e.children[0],i))?c:this.visit(e.children[1],i);case"NotExpression":return o(c=this.visit(e.children[0],i));case"Literal":return e.value;case x:return d=this.visit(e.children[0],i),this.visit(e.children[1],d);case y:return i;case"Function":var L=[];for(p=0;p<e.children.length;p++)L.push(this.visit(e.children[p],i));return this.runtime.callFunction(e.name,L);case"ExpressionReference":var B=e.children[0];return B.jmespathType=b,B;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],r=t[1],o=t[2],i=[null,null,null];if(null===o)o=1;else if(0===o){var s=new Error("Invalid slice, step cannot be 0");throw s.name="RuntimeError",s}var a=o<0;return n=null===n?a?e-1:0:this.capSliceRange(e,n,o),r=null===r?a?-1:e:this.capSliceRange(e,r,o),i[0]=n,i[1]=r,i[2]=o,i},capSliceRange:function(e,t,n){return t<0?(t+=e)<0&&(t=n<0?-1:0):t>=e&&(t=n<0?e-1:e),t}},U.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var r,o,i,s;if(n[n.length-1].variadic){if(t.length<n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+r+" but received "+t.length)}else if(t.length!==n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+r+" but received "+t.length);for(var a=0;a<n.length;a++){s=!1,o=n[a].types,i=this._getTypeName(t[a]);for(var c=0;c<o.length;c++)if(this._typeMatches(i,o[c],t[a])){s=!0;break}if(!s){var u=o.map((function(e){return l[e]})).join(",");throw new Error("TypeError: "+e+"() expected argument "+(a+1)+" to be type "+u+" but received type "+l[i]+" instead.")}}},_typeMatches:function(e,t,n){if(1===t)return!0;if(9!==t&&8!==t&&3!==t)return e===t;if(3===t)return 3===e;if(3===e){var r;8===t?r=s:9===t&&(r=a);for(var o=0;o<n.length;o++)if(!this._typeMatches(this._getTypeName(n[o]),r,n[o]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return a;case"[object Number]":return s;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return e.jmespathType===b?6:4}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],n=e[1];return-1!==t.indexOf(n,t.length-n.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===a){for(var t=e[0],n="",r=t.length-1;r>=0;r--)n+=t[r];return n}var o=e[0].slice(0);return o.reverse(),o},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t/n.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return n(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],n=this._interpreter,r=e[0],o=e[1],i=0;i<o.length;i++)t.push(n.visit(r,o[i]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var o in r)t[o]=r[o]}return t},_functionMax:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===s)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)n.localeCompare(t[r])<0&&(n=t[r]);return n}return null},_functionMin:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===s)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)t[r].localeCompare(n)<0&&(n=t[r]);return n}return null},_functionSum:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case s:return"number";case a:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),r=[],o=0;o<n.length;o++)r.push(t[n[o]]);return r},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return 3===this._getTypeName(e[0])?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===a?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===s?e[0]:n!==a||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var n=this._interpreter,r=e[1],o=this._getTypeName(n.visit(r,t[0]));if([s,a].indexOf(o)<0)throw new Error("TypeError");for(var i=this,l=[],c=0;c<t.length;c++)l.push([c,t[c]]);l.sort((function(e,t){var s=n.visit(r,e[1]),a=n.visit(r,t[1]);if(i._getTypeName(s)!==o)throw new Error("TypeError: expected "+o+", received "+i._getTypeName(s));if(i._getTypeName(a)!==o)throw new Error("TypeError: expected "+o+", received "+i._getTypeName(a));return s>a?1:s<a?-1:e[0]-t[0]}));for(var u=0;u<l.length;u++)t[u]=l[u][1];return t},_functionMaxBy:function(e){for(var t,n,r=e[1],o=e[0],i=this.createKeyFunction(r,[s,a]),l=-1/0,c=0;c<o.length;c++)(n=i(o[c]))>l&&(l=n,t=o[c]);return t},_functionMinBy:function(e){for(var t,n,r=e[1],o=e[0],i=this.createKeyFunction(r,[s,a]),l=1/0,c=0;c<o.length;c++)(n=i(o[c]))<l&&(l=n,t=o[c]);return t},createKeyFunction:function(e,t){var n=this,r=this._interpreter;return function(o){var i=r.visit(e,o);if(t.indexOf(n._getTypeName(i))<0){var s="TypeError: expected one of "+t+", received "+n._getTypeName(i);throw new Error(s)}return i}}},e.tokenize=function(e){return(new q).tokenize(e)},e.compile=function(e){return(new H).parse(e)},e.search=function(e,t){var n=new H,r=new U,o=new W(r);r._interpreter=o;var i=n.parse(t);return o.search(i,e)},e.strictDeepEqual=r}(hF);const dF={id:"jmespath",name:"JMESPath",description:'\n<p>\n  Enter a <a href="https://jmespath.org" target="_blank" rel="noopener noreferrer">JMESPath</a> query \n  to filter, sort, or transform the JSON data.\n To learn JMESPath, go to <a href="https://jmespath.org/tutorial.html" target="_blank" rel="noopener noreferrer">the interactive tutorial</a>.\n</p>\n',createQuery:function(e,t){const{sort:n,filter:r,projection:o}=t;let i="";if(r&&r.path&&r.relation&&r.value){const t=["0"].concat(r.path),n="string"==typeof Ct.exports.getIn(e,t)?r.value:function(e){if(""===e)return"";const t=e.toLowerCase();if("null"===t)return null;if("true"===t)return!0;if("false"===t)return!1;const n=Number(e),r=parseFloat(e);if(!isNaN(n)&&!isNaN(r))return n;return e}(r.value);i+="[? "+fF(r.path)+" "+r.relation+" `"+JSON.stringify(n)+"`]"}else i+=Array.isArray(e)?"[*]":"@";n&&n.path&&n.direction&&("desc"===n.direction?i+=" | reverse(sort_by(@, &"+fF(n.path)+"))":i+=" | sort_by(@, &"+fF(n.path)+")");if(o&&o.paths)if("]"!==i[i.length-1]&&(i+=" | [*]"),1===o.paths.length){const e=o.paths[0];i+=0===e.length?"":"."+fF(e)}else o.paths.length>1&&(i+=".{"+o.paths.map((e=>e[e.length-1]+": "+fF(e))).join(", ")+"}");return i},executeQuery:function(e,t){return hF.search(e,t)}};function fF(e){if(0===e.length)return"@";const t=e.map((e=>"number"==typeof e?"["+e+"]":"string"==typeof e&&e.match(/^[A-Za-z0-9_$]+$/)?"."+e:'."'+e+'"')).join("");return"."===t[0]?t.slice(1):t}const pF=class extends Ve{constructor(e){super(),qe(this,e,JB,HB,l,{content:0,readOnly:2,indentation:3,mode:1,mainMenuBar:4,navigationBar:5,escapeControlCharacters:6,escapeUnicodeCharacters:7,validator:8,queryLanguages:29,queryLanguageId:28,onChangeQueryLanguage:30,onChange:31,onRenderValue:9,onClassName:10,onRenderMenu:32,onChangeMode:33,onError:11,onFocus:34,onBlur:35,get:36,set:37,update:38,patch:39,expand:40,transform:41,acceptAutoRepair:42,scrollTo:43,findElement:44,focus:45,updateProps:46,destroy:47,onTransformModal:12,onSortModal:13},DB,[-1,-1])}get get(){return this.$$.ctx[36]}get set(){return this.$$.ctx[37]}get update(){return this.$$.ctx[38]}get patch(){return this.$$.ctx[39]}get expand(){return this.$$.ctx[40]}get transform(){return this.$$.ctx[41]}get acceptAutoRepair(){return this.$$.ctx[42]}get scrollTo(){return this.$$.ctx[43]}get findElement(){return this.$$.ctx[44]}get focus(){return this.$$.ctx[45]}get updateProps(){return WB}get destroy(){return UB}get onTransformModal(){return this.$$.ctx[12]}get onSortModal(){return this.$$.ctx[13]}},mF=SD,gF=jD,vF=zD,yF=eF,bF=FD,xF=HD,wF=zB,$F=PB;
/*!
 * vanilla-picker v2.12.1
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */
var kF=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},SF=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),CF=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,t){for(var n=this;n.length<e;)n=t+n;return n};var _F={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function OF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return n||"0"}var PF=function(){function e(t,n,r,o){kF(this,e);var i=this;if(void 0===t);else if(Array.isArray(t))this.rgba=t;else if(void 0===r){var s=t&&""+t;s&&function(t){if(t.startsWith("hsl")){var n=t.match(/([\-\d\.e]+)/g).map(Number),r=CF(n,4),o=r[0],s=r[1],a=r[2],l=r[3];void 0===l&&(l=1),o/=360,s/=100,a/=100,i.hsla=[o,s,a,l]}else if(t.startsWith("rgb")){var c=t.match(/([\-\d\.e]+)/g).map(Number),u=CF(c,4),h=u[0],d=u[1],f=u[2],p=u[3];void 0===p&&(p=1),i.rgba=[h,d,f,p]}else t.startsWith("#")?i.rgba=e.hexToRgb(t):i.rgba=e.nameToRgb(t)||e.hexToRgb(t)}(s.toLowerCase())}else this.rgba=[t,n,r,void 0===o?1:o]}return SF(e,[{key:"printRGB",value:function(e){var t=(e?this.rgba:this.rgba.slice(0,3)).map((function(e,t){return OF(e,3===t?3:0)}));return e?"rgba("+t+")":"rgb("+t+")"}},{key:"printHSL",value:function(e){var t=[360,100,100,1],n=["","%","%",""],r=(e?this.hsla:this.hsla.slice(0,3)).map((function(e,r){return OF(e*t[r],3===r?3:1)+n[r]}));return e?"hsla("+r+")":"hsl("+r+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=e.hslToRgb(this._hsla)},set:function(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=e.rgbToHsl(this._rgba)},set:function(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map((function(e,t){return t<3?e.toString(16):Math.round(255*e).toString(16)})).map((function(e){return e.padStart(2,"0")})).join("")},set:function(t){this.rgba=e.hexToRgb(t)}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var n=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(e){return parseInt(e,16)}));return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(t){var n=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=_F[n];return void 0===r?r:e.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var t=CF(e,4),n=t[0],r=t[1],o=t[2],i=t[3];n/=255,r/=255,o/=255;var s=Math.max(n,r,o),a=Math.min(n,r,o),l=void 0,c=void 0,u=(s+a)/2;if(s===a)l=c=0;else{var h=s-a;switch(c=u>.5?h/(2-s-a):h/(s+a),s){case n:l=(r-o)/h+(r<o?6:0);break;case r:l=(o-n)/h+2;break;case o:l=(n-r)/h+4}l/=6}return[l,c,u,i]}},{key:"hslToRgb",value:function(e){var t=CF(e,4),n=t[0],r=t[1],o=t[2],i=t[3],s=void 0,a=void 0,l=void 0;if(0===r)s=a=l=o;else{var c=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},u=o<.5?o*(1+r):o+r-o*r,h=2*o-u;s=c(h,u,n+1/3),a=c(h,u,n),l=c(h,u,n-1/3)}var d=[255*s,255*a,255*l].map(Math.round);return d[3]=i,d}}]),e}(),EF=function(){function e(){kF(this,e),this._events=[]}return SF(e,[{key:"add",value:function(e,t,n){e.addEventListener(t,n,!1),this._events.push({target:e,type:t,handler:n})}},{key:"remove",value:function(t,n,r){this._events=this._events.filter((function(o){var i=!0;return t&&t!==o.target&&(i=!1),n&&n!==o.type&&(i=!1),r&&r!==o.handler&&(i=!1),i&&e._doRemove(o.target,o.type,o.handler),!i}))}},{key:"destroy",value:function(){this._events.forEach((function(t){return e._doRemove(t.target,t.type,t.handler)})),this._events=[]}}],[{key:"_doRemove",value:function(e,t,n){e.removeEventListener(t,n,!1)}}]),e}();function AF(e,t,n){var r=!1;function o(e,t,n){return Math.max(t,Math.min(e,n))}function i(e,i,s){if(s&&(r=!0),r){e.preventDefault();var a=t.getBoundingClientRect(),l=a.width,c=a.height,u=i.clientX,h=i.clientY,d=o(u-a.left,0,l),f=o(h-a.top,0,c);n(d/l,f/c)}}function s(e,t){1===(void 0===e.buttons?e.which:e.buttons)?i(e,e,t):r=!1}function a(e,t){1===e.touches.length?i(e,e.touches[0],t):r=!1}e.add(t,"mousedown",(function(e){s(e,!0)})),e.add(t,"touchstart",(function(e){a(e,!0)})),e.add(window,"mousemove",s),e.add(t,"touchmove",a),e.add(window,"mouseup",(function(e){r=!1})),e.add(t,"touchend",(function(e){r=!1})),e.add(t,"touchcancel",(function(e){r=!1}))}function jF(e,t){return(t||document).querySelector(e)}function MF(e){e.preventDefault(),e.stopPropagation()}function TF(e,t,n,r,o){e.add(t,"keydown",(function(e){n.indexOf(e.key)>=0&&(o&&MF(e),r(e))}))}var IF=function(){function e(t){kF(this,e),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new EF,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return SF(e,[{key:"setOptions",value:function(e){var t=this;if(e){var n=this.settings;if(e instanceof HTMLElement)n.parent=e;else{n.parent&&e.parent&&n.parent!==e.parent&&(this._events.remove(n.parent),this._popupInited=!1),function(e,t,n){for(var r in e)n&&n.indexOf(r)>=0||(t[r]=e[r])}(e,n),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var r=e.color||e.colour;r&&this._setColor(r)}var o=n.parent;if(o&&n.popup&&!this._popupInited){var i=function(e){return t.openHandler(e)};this._events.add(o,"click",i),TF(this._events,o,[" ","Spacebar","Enter"],i),this._popupInited=!0}else e.parent&&!n.popup&&this.show()}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var t=e&&"keydown"===e.type?this._domEdit:this.domElement;setTimeout((function(){return t.focus()}),100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var t=e&&e.type,n=!1;if(e)if("mousedown"===t||"focusin"===t){var r=(this.__containedEvent||0)+100;e.timeStamp>r&&(n=!0)}else MF(e),n=!0;else n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents="","mousedown"!==t&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}},{key:"setColor",value:function(e,t){this._setColor(e,{silent:t})}},{key:"_setColor",value:function(e,t){if("string"==typeof e&&(e=e.trim()),e){t=t||{};var n=void 0;try{n=new PF(e)}catch(e){if(t.failSilently)return;throw e}if(!this.settings.alpha){var r=n.hsla;r[3]=1,n.hsla=r}this.colour=this.color=n,this._setHSLA(null,null,null,null,t)}}},{key:"setColour",value:function(e,t){this.setColor(e,t)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var t,n,r=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',o=(t=r,(n=document.createElement("div")).innerHTML=t,n.firstElementChild);return this.domElement=o,this._domH=jF(".picker_hue",o),this._domSL=jF(".picker_sl",o),this._domA=jF(".picker_alpha",o),this._domEdit=jF(".picker_editor input",o),this._domSample=jF(".picker_sample",o),this._domOkay=jF(".picker_done button",o),this._domCancel=jF(".picker_cancel button",o),o.classList.add("layout_"+this.settings.layout),this.settings.alpha||o.classList.add("no_alpha"),this.settings.editor||o.classList.add("no_editor"),this.settings.cancelButton||o.classList.add("no_cancel"),this._ifPopup((function(){return o.classList.add("popup")})),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,t=this,n=this.domElement,r=this._events;function o(e,t,n){r.add(e,t,n)}o(n,"click",(function(e){return e.preventDefault()})),AF(r,this._domH,(function(e,n){return t._setHSLA(e)})),AF(r,this._domSL,(function(e,n){return t._setHSLA(null,e,1-n)})),this.settings.alpha&&AF(r,this._domA,(function(e,n){return t._setHSLA(null,null,null,1-n)}));var i=this._domEdit;o(i,"input",(function(e){t._setColor(this.value,{fromEditor:!0,failSilently:!0})})),o(i,"focus",(function(e){var t=this;t.selectionStart===t.selectionEnd&&t.select()})),this._ifPopup((function(){var t=function(t){return e.closeHandler(t)};o(window,"mousedown",t),o(window,"focusin",t),TF(r,n,["Esc","Escape"],t);var i=function(t){e.__containedEvent=t.timeStamp};o(n,"mousedown",i),o(n,"focusin",i),o(e._domCancel,"click",t)}));var s=function(t){e._ifPopup((function(){return e.closeHandler(t)})),e.onDone&&e.onDone(e.colour)};o(this._domOkay,"click",s),TF(r,n,["Enter"],s)}},{key:"_setPosition",value:function(){var e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup((function(n){"static"===getComputedStyle(e).position&&(e.style.position="relative");var r=!0===n?"popup_right":"popup_"+n;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(e){e===r?t.classList.add(e):t.classList.remove(e)})),t.classList.add(r)}))}},{key:"_setHSLA",value:function(e,t,n,r,o){o=o||{};var i=this.colour,s=i.hsla;[e,t,n,r].forEach((function(e,t){(e||0===e)&&(s[t]=e)})),i.hsla=s,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(i)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var t=this.colour,n=t.hsla,r="hsl("+360*n[0]+", 100%, 50%)",o=t.hslString,i=t.hslaString,s=this._domH,a=this._domSL,l=this._domA,c=jF(".picker_selector",s),u=jF(".picker_selector",a),h=jF(".picker_selector",l);y(0,c,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=r,y(0,u,n[1]),b(0,u,1-n[2]),a.style.color=o,b(0,h,1-n[3]);var d=o,f=d.replace("hsl","hsla").replace(")",", 0)"),p="linear-gradient("+[d,f]+")";if(this._domA.style.background=p+", linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em",!e.fromEditor){var m=this.settings.editorFormat,g=this.settings.alpha,v=void 0;switch(m){case"rgb":v=t.printRGB(g);break;case"hsl":v=t.printHSL(g);break;default:v=t.printHex(g)}this._domEdit.value=v}this._domSample.style.color=i}function y(e,t,n){t.style.left=100*n+"%"}function b(e,t,n){t.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}},{key:"_toggleDOM",value:function(e){var t=this.domElement;if(!t)return!1;var n=e?"":"none",r=t.style.display!==n;return r&&(t.style.display=n),r}}]),e}(),zF=document.createElement("style");zF.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(zF),IF.StyleElement=zF;var NF=Object.freeze({__proto__:null,default:IF}),RF=Ct.exports.compileJSONPointer,DF=Ct.exports.deleteIn,LF=Ct.exports.existsIn,BF=Ct.exports.getIn,FF=Ct.exports.immutableJSONPatch,qF=Ct.exports.insertAt,VF=Ct.exports.parseJSONPointer,HF=Ct.exports.revertJSONPatch,WF=Ct.exports.setIn,UF=Ct.exports.updateIn;export{mF as BooleanToggle,gF as ColorPicker,vF as EditableValue,yF as EnumValue,pF as JSONEditor,bF as ReadonlyValue,wF as SortModal,xF as TimestampTag,$F as TransformModal,RF as compileJSONPointer,lF as createAjvValidator,DF as deleteIn,fn as estimateSerializedSize,LF as existsIn,nF as findEnum,rF as findSchema,BF as getIn,tF as getJSONSchemaOptions,FF as immutableJSONPatch,qF as insertAt,dn as isLargeContent,hn as isTextContent,xD as javascriptQueryLanguage,dF as jmespathQueryLanguage,uF as lodashQueryLanguage,VF as parseJSONPointer,$g as parseJSONPointerWithArrayIndices,oF as renderJSONSchemaEnum,WD as renderValue,HF as revertJSONPatch,WF as setIn,UF as updateIn};
//# sourceMappingURL=jsoneditor.js.map
