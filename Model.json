{
  "title": "Model",
  "description": "The model to fit to the collection of input images.\n\nThis section defines the design matrix construction, estimator type,\nand additional options needed to estimate the model parameters.",
  "type": "object",
  "properties": {
    "Description": {
      "title": "Description",
      "type": "string"
    },
    "Type": {
      "title": "Type",
      "enum": [
        "glm",
        "meta"
      ],
      "type": "string"
    },
    "X": {
      "title": "X",
      "type": "array",
      "items": {
        "anyOf": [
          {
            "enum": [
              1
            ],
            "type": "integer"
          },
          {
            "type": "string"
          }
        ]
      }
    },
    "Formula": {
      "title": "Formula",
      "type": "string"
    },
    "HRF": {
      "$ref": "#/definitions/HRF"
    },
    "Options": {
      "$ref": "#/definitions/Options"
    },
    "Software": {
      "title": "Software",
      "type": "object",
      "additionalProperties": {
        "type": "object"
      }
    }
  },
  "required": [
    "Type",
    "X"
  ],
  "additionalProperties": false,
  "definitions": {
    "HRF": {
      "title": "HRF",
      "description": "Specification of a hemodynamic response function (HRF) model.\n\nMost design matrix constructors permit sparse events of the form\n(onset, duration, amplitude) to be convolved by a named HRF,\npossibly with some parameters.\nSome may permit dense time series to be convolved as well.\n\nThis specification makes no attempt to constrain the names and parameters,\nor require consistency of accepted model names across implementations.\nImplementations SHOULD fail if the model is unknown.\n\nExamples\n--------\n\nThe \"canonical\" HRF defined in SPM:\n\n.. code-block:: json\n\n    {\n      \"Variables\": [\"condition1\", \"condition2\"],\n      \"Model\": \"spm\"\n    }",
      "type": "object",
      "properties": {
        "Description": {
          "title": "Description",
          "type": "string"
        },
        "Variables": {
          "title": "Variables",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "Model": {
          "title": "Model",
          "type": "string"
        },
        "Parameters": {
          "title": "Parameters",
          "type": "object"
        }
      },
      "required": [
        "Variables",
        "Model"
      ],
      "additionalProperties": false
    },
    "Options": {
      "title": "Options",
      "description": "Estimation options that are common to multiple estimation packages.",
      "type": "object",
      "properties": {
        "Description": {
          "title": "Description",
          "type": "string"
        },
        "HighPassFilterCutoffHz": {
          "title": "Highpassfiltercutoffhz",
          "type": "number"
        },
        "LowPassFilterCutoffHz": {
          "title": "Lowpassfiltercutoffhz",
          "type": "number"
        },
        "ReplaceVariables": {
          "title": "Replacevariables",
          "type": "object"
        },
        "Mask": {
          "title": "Mask",
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": {}
          }
        },
        "Aggregate": {
          "title": "Aggregate",
          "enum": [
            "none",
            "mean",
            "pca"
          ],
          "type": "string"
        }
      },
      "additionalProperties": false
    }
  }
}